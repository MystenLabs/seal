/*! React InstantSearch UNRELEASED | Â© Algolia, inc. | https://github.com/algolia/instantsearch */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactInstantSearch={},e.React)}(this,function(e,O){"use strict";var ee="default"in O?O.default:O,I="7.23.1";function C(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var k=C;function _(e){return"function"==typeof e}function D(e){return"object"==typeof e&&null!==e}function L(e){return void 0===e}C.prototype._events=void 0,C.prototype._maxListeners=void 0,C.defaultMaxListeners=10,C.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},C.prototype.emit=function(e){var t,r,n,i,a,o,s;if((this._events||(this._events={}),"error"===e)&&(!this._events.error||D(this._events.error)&&!this._events.error.length))throw(s=arguments[1])instanceof Error?s:((o=new Error('Uncaught, unspecified "error" event. ('+s+")")).context=s,o);if(L(t=this._events[e]))return!1;if(_(t))switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),t.apply(this,n)}else if(D(t))for(n=Array.prototype.slice.call(arguments,1),r=(a=t.slice()).length,i=0;i<r;i++)a[i].apply(this,n);return!0},C.prototype.on=C.prototype.addListener=function(e,t){if(_(t))return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,_(t.listener)?t.listener:t),this._events[e]?D(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,D(this._events[e])&&!this._events[e].warned&&(t=L(this._maxListeners)?C.defaultMaxListeners:this._maxListeners)&&0<t&&this._events[e].length>t&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace)&&console.trace(),this;throw TypeError("listener must be a function")},C.prototype.once=function(e,t){var r;if(_(t))return r=!1,n.listener=t,this.on(e,n),this;throw TypeError("listener must be a function");function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}},C.prototype.removeListener=function(e,t){var r,n,i,a;if(!_(t))throw TypeError("listener must be a function");if(this._events&&this._events[e])if(i=(r=this._events[e]).length,n=-1,r===t||_(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(D(r)){for(a=i;0<a--;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},C.prototype.removeAllListeners=function(e){var t,r;if(this._events)if(this._events.removeListener)if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);this.removeAllListeners("removeListener"),this._events={}}else{if(_(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);delete this._events[e]}else 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e];return this},C.prototype.listeners=function(e){e=this._events&&this._events[e]?_(this._events[e])?[this._events[e]]:this._events[e].slice():[];return e},C.prototype.listenerCount=function(e){if(this._events){e=this._events[e];if(_(e))return 1;if(e)return e.length}return 0},C.listenerCount=function(e,t){return e.listenerCount(t)};var H=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function B(e,t,r){this.main=e,this.fn=t,this.recommendFn=r,this.lastResults=null,this.lastRecommendResults=null}H(B,k),B.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},B.prototype.getModifiedState=function(e){return this.fn(e)},B.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var W=B;var t=function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},r=function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")};function $(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function U(e,t){var r,n;if(e!==t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"__proto__"!==i&&"constructor"!==i&&(r=t[i],void 0!==(n=e[i])&&void 0===r||($(n)&&$(r)?e[i]=U(n,r):e[i]="object"==typeof(n=r)&&null!==n?U(Array.isArray(n)?[]:{},n):n));return e}var q=function(e){$(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];$(n)&&U(e,n)}return e};var Q=function(e){return e&&0<Object.keys(e).length};var z=function(e,t){if(null===e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n};function V(e){this.params=(e=e||{}).params||[]}V.prototype={constructor:V,addParams:function(e){var t=this.params.slice();return t.push(e),new V({params:t})},removeParams:function(t){return new V({params:this.params.filter(function(e){return e.$$id!==t})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(t,r){return this.params.filter(function(e){return void 0===r[e.$$id]}).map(function(e){e=Object.assign({},e,{indexName:t,threshold:e.threshold||0});return delete e.$$id,e})}};var J=V;function Z(e,t){this._state=e,this._rawResults={};var r=this;e.params.forEach(function(e){e=e.$$id;r[e]=t[e],r._rawResults[e]=t[e]})}Z.prototype={constructor:Z};var K=Z;function G(r){return Object.keys(r).sort().reduce(function(e,t){return e[t]=r[t],e},{})}function X(){return Array.prototype.slice.call(arguments).reduceRight(function(t,r){return Object.keys(Object(r)).forEach(function(e){void 0!==r[e]&&(void 0!==t[e]&&delete t[e],t[e]=r[e])}),t},{})}var l={_getQueries:function(s,c){var u=[];return u.push({indexName:s,params:l._getHitsSearchParams(c)}),c.getRefinedDisjunctiveFacets().forEach(function(e){u.push({indexName:s,params:l._getDisjunctiveFacetSearchParams(c,e)})}),c.getRefinedHierarchicalFacets().forEach(function(e){var a,o=c.getHierarchicalFacetByName(e),e=c.getHierarchicalRefinement(e),n=c._getHierarchicalFacetSeparator(o);0<e.length&&1<e[0].split(n).length&&(a=e[0].split(n).slice(0,-1).reduce(function(e,t,r){return e.concat({attribute:o.attributes[r],value:0===r?t:[e[e.length-1].value,t].join(n)})},[])).forEach(function(e,t){e=l._getDisjunctiveFacetSearchParams(c,e.attribute,0===t);function n(t){return o.attributes.some(function(e){return e===t.split(":")[0]})}var r=(e.facetFilters||[]).reduce(function(e,t){var r;return Array.isArray(t)&&0<(r=t.filter(function(e){return!n(e)})).length&&e.push(r),"string"!=typeof t||n(t)||e.push(t),e},[]),i=a[t-1];0<t?e.facetFilters=r.concat(i.attribute+":"+i.value):0<r.length?e.facetFilters=r:delete e.facetFilters,u.push({indexName:s,params:e})})}),u},_getCompositionQueries:function(e){return[{compositionID:e.index,requestBody:{params:l._getCompositionHitsSearchParams(e)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(l._getHitsHierarchicalFacetsAttributes(e)).sort(),r=l._getFacetFilters(e),n=l._getNumericFilters(e),i=l._getTagFilters(e),a={};return 0<t.length&&(a.facets=-1<t.indexOf("*")?["*"]:t),0<i.length&&(a.tagFilters=i),0<r.length&&(a.facetFilters=r),0<n.length&&(a.numericFilters=n),G(q({},e.getQueryParams(),a))},_getCompositionHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets.map(function(e){return t.disjunctiveFacetsRefinements&&t.disjunctiveFacetsRefinements[e]&&0<t.disjunctiveFacetsRefinements[e].length?"disjunctive("+e+")":e})).concat(l._getHitsHierarchicalFacetsAttributes(t)).sort(),r=l._getFacetFilters(t),n=l._getNumericFilters(t),i=l._getTagFilters(t),a={},e=(0<e.length&&(a.facets=-1<e.indexOf("*")?["*"]:e),0<i.length&&(a.tagFilters=i),0<r.length&&(a.facetFilters=r),0<n.length&&(a.numericFilters=n),t.getQueryParams());return delete e.highlightPreTag,delete e.highlightPostTag,delete e.index,G(q({},e,a))},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=l._getFacetFilters(e,t,r),i=l._getNumericFilters(e,t),a=l._getTagFilters(e),o={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1},a=(0<a.length&&(o.tagFilters=a),e.getHierarchicalFacetByName(t));return o.facets=a?l._getDisjunctiveHierarchicalFacetAttribute(e,a,r):t,0<i.length&&(o.numericFilters=i),0<n.length&&(o.facetFilters=n),G(q({},e.getQueryParams(),o))},_getNumericFilters:function(e,i){var a;return e.numericFilters||(a=[],Object.keys(e.numericRefinements).forEach(function(n){var t=e.numericRefinements[n]||{};Object.keys(t).forEach(function(r){var e=t[r]||[];i!==n&&e.forEach(function(e){var t;Array.isArray(e)?(t=e.map(function(e){return n+r+e}),a.push(t)):a.push(n+r+e)})})}),a)},_getTagFilters:function(e){return e.tagFilters||e.tagRefinements.join(",")},_getFacetFilters:function(o,s,c){var u=[],e=o.facetsRefinements||{},r=(Object.keys(e).sort().forEach(function(t){(e[t]||[]).slice().sort().forEach(function(e){u.push(t+":"+e)})}),o.facetsExcludes||{}),n=(Object.keys(r).sort().forEach(function(t){(r[t]||[]).sort().forEach(function(e){u.push(t+":-"+e)})}),o.disjunctiveFacetsRefinements||{}),l=(Object.keys(n).sort().forEach(function(t){var r,e=n[t]||[];t!==s&&e&&0!==e.length&&(r=[],e.slice().sort().forEach(function(e){r.push(t+":"+e)}),u.push(r))}),o.hierarchicalFacetsRefinements||{});return Object.keys(l).sort().forEach(function(e){var t=(l[e]||[])[0];if(void 0!==t){var r,n=o.getHierarchicalFacetByName(e),i=o._getHierarchicalFacetSeparator(n),a=o._getHierarchicalRootPath(n);if(s===e){if(-1===t.indexOf(i)||!a&&!0===c||a&&a.split(i).length===t.split(i).length)return;t=a?(r=a.split(i).length-1,a):(r=t.split(i).length-2,t.slice(0,t.lastIndexOf(i)))}else r=t.split(i).length-1;(e=n.attributes[r])&&u.push([e+":"+t])}}),u},_getHitsHierarchicalFacetsAttributes:function(i){return i.hierarchicalFacets.reduce(function(e,t){var r,n=i.getHierarchicalRefinement(t.name)[0];return n?(r=i._getHierarchicalFacetSeparator(t),n=n.split(r).length,r=t.attributes.slice(0,n+1),e.concat(r)):(e.push(t.attributes[0]),e)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n,i=e._getHierarchicalFacetSeparator(t);return!0===r?(r=0,(n=e._getHierarchicalRootPath(t))&&(r=n.split(i).length),[t.attributes[r]]):(n=(e.getHierarchicalRefinement(t.name)[0]||"").split(i).length-1,t.attributes.slice(0,1+n))},getSearchForFacetQuery:function(e,t,r,n){n=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,t={facetQuery:t,facetName:e};return"number"==typeof r&&(t.maxFacetHits=r),G(q({},l._getHitsSearchParams(n),t))}},Y=l,ne=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]};var ie=function(r,n){return r.filter(function(e,t){return-1<n.indexOf(e)&&r.indexOf(e)===t})};var ae=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")},oe={addRefinement:function(e,t,r){var n;return oe.isRefined(e,t,r)?e:(r=""+r,r=e[t]?e[t].concat(r):[r],(n={})[t]=r,X(n,e))},removeRefinement:function(e,r,t){var n;return void 0===t?oe.clearRefinement(e,function(e,t){return r===t}):(n=""+t,oe.clearRefinement(e,function(e,t){return r===t&&n===e}))},toggleRefinement:function(e,t,r){if(void 0===r)throw new Error("toggleRefinement should be used with a value");return oe.isRefined(e,t,r)?oe.removeRefinement(e,t,r):oe.addRefinement(e,t,r)},clearRefinement:function(i,a,o){var s,e;return void 0===a?Q(i)?{}:i:"string"==typeof a?z(i,[a]):"function"==typeof a?(s=!1,e=Object.keys(i).reduce(function(e,t){var r=i[t]||[],n=r.filter(function(e){return!a(e,t,o)});return n.length!==r.length&&(s=!0),e[t]=n,e},{}),s?e:i):void 0},isRefined:function(e,t,r){var n=Boolean(e[t])&&0<e[t].length;return void 0!==r&&n?-1!==e[t].indexOf(""+r):n}},n=oe;function se(e,r){return Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every(function(e,t){return se(r[t],e)}):e===r}function ce(e){var n=e?ce._parseNumbers(e):{},i=(void 0===n.userToken||null!==(e=n.userToken)&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=n.facets||[],this.disjunctiveFacets=n.disjunctiveFacets||[],this.hierarchicalFacets=n.hierarchicalFacets||[],this.facetsRefinements=n.facetsRefinements||{},this.facetsExcludes=n.facetsExcludes||{},this.disjunctiveFacetsRefinements=n.disjunctiveFacetsRefinements||{},this.numericRefinements=n.numericRefinements||{},this.tagRefinements=n.tagRefinements||[],this.hierarchicalFacetsRefinements=n.hierarchicalFacetsRefinements||{},this);Object.keys(n).forEach(function(e){var t=-1!==ce.PARAMETERS.indexOf(e),r=void 0!==n[e];!t&&r&&(i[e]=n[e])})}ce.PARAMETERS=Object.keys(new ce),ce._parseNumbers=function(i){var n,a;return i instanceof ce?i:(n={},["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(e){var t,r=i[e];"string"==typeof r&&(t=parseFloat(r),n[e]=isNaN(t)?r:t)}),Array.isArray(i.insideBoundingBox)&&(n.insideBoundingBox=i.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),i.numericRefinements&&(a={},Object.keys(i.numericRefinements).forEach(function(r){var n=i.numericRefinements[r]||{};a[r]={},Object.keys(n).forEach(function(e){var t=n[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});a[r][e]=t})}),n.numericRefinements=a),q(i,n))},ce.make=function(e){var r=new ce(e);return(e.hierarchicalFacets||[]).forEach(function(e){var t;e.rootPath&&0===(t=(r=0<(t=r.getHierarchicalRefinement(e.name)).length&&0!==t[0].indexOf(e.rootPath)?r.clearRefinements(e.name):r).getHierarchicalRefinement(e.name)).length&&(r=r.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}),r},ce.validate=function(e,t){t=t||{};return e.tagFilters&&t.tagRefinements&&0<t.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&t.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&t.numericRefinements&&Q(t.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Q(e.numericRefinements)&&t.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},ce.prototype={constructor:ce,clearRefinements:function(e){e={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:n.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:n.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:n.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:n.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return e.numericRefinements===this.numericRefinements&&e.facetsRefinements===this.facetsRefinements&&e.facetsExcludes===this.facetsExcludes&&e.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&e.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(e)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n,r=ae(r);return this.isNumericRefined(e,t,r)?this:((n=q({},this.numericRefinements))[e]=q({},n[e]),n[e][t]?(n[e][t]=n[e][t].slice(),n[e][t].push(r)):n[e][t]=[r],this.setQueryParameters({numericRefinements:n}))},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(r,n,e){var i=e;return void 0!==i?this.isNumericRefined(r,n,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n&&se(e.val,ae(i))})}):this:void 0!==n?this.isNumericRefined(r,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n})}):this:this.isNumericRefined(r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(o){var s,t,e;return void 0===o?Q(this.numericRefinements)?{}:this.numericRefinements:"string"==typeof o?z(this.numericRefinements,[o]):"function"==typeof o?(s=!1,t=this.numericRefinements,e=Object.keys(t).reduce(function(e,n){var i=t[n],a={},i=i||{};return Object.keys(i).forEach(function(t){var e=i[t]||[],r=[];e.forEach(function(e){o({val:e,op:t},n,"numeric")||r.push(e)}),r.length!==e.length&&(s=!0),a[t]=r}),e[n]=a,e},{}),s?e:this.numericRefinements):void 0},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return n.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:n.addRefinement(this.facetsRefinements,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},addExcludeRefinement:function(e,t){if(this.isConjunctiveFacet(e))return n.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:n.addRefinement(this.facetsExcludes,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},addDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return n.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:n.addRefinement(this.disjunctiveFacetsRefinements,e,t)});throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},addTagRefinement:function(e){return this.isTagRefined(e)?this:(e={tagRefinements:this.tagRefinements.concat(e)},this.setQueryParameters(e))},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return n.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:n.removeRefinement(this.facetsRefinements,e,t)}):this;throw new Error(e+" is not defined in the facets attribute of the helper configuration")},removeExcludeRefinement:function(e,t){if(this.isConjunctiveFacet(e))return n.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:n.removeRefinement(this.facetsExcludes,e,t)}):this;throw new Error(e+" is not defined in the facets attribute of the helper configuration")},removeDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return n.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:n.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this;throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},removeTagRefinement:function(t){var e;return this.isTagRefined(t)?(e={tagRefinements:this.tagRefinements.filter(function(e){return e!==t})},this.setQueryParameters(e)):this},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return this.setQueryParameters({facetsRefinements:n.toggleRefinement(this.facetsRefinements,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},toggleExcludeFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return this.setQueryParameters({facetsExcludes:n.toggleRefinement(this.facetsExcludes,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},toggleDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return this.setQueryParameters({disjunctiveFacetsRefinements:n.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)});throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},toggleHierarchicalFacetRefinement:function(e,t){var r,n;if(this.isHierarchicalFacet(e))return r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={},void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:X(n,this.hierarchicalFacetsRefinements)});throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration")},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var r;if(this.isHierarchicalFacet(e))return(r={})[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:X(r,this.hierarchicalFacetsRefinements)});throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.")},removeHierarchicalFacetRefinement:function(e){var t;return this.isHierarchicalFacetRefined(e)?((t={})[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:X(t,this.hierarchicalFacetsRefinements)})):this},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<this.disjunctiveFacets.indexOf(e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<this.facets.indexOf(e)},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&n.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&n.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&n.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){return!!this.isHierarchicalFacet(e)&&(e=this.getHierarchicalRefinement(e),t?-1!==e.indexOf(t):0<e.length)},isNumericRefined:function(e,t,r){var n,i;return void 0===r&&void 0===t?Boolean(this.numericRefinements[e]):(n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t],void 0!==r&&n?(r=ae(r),t=void 0!==(e=this.numericRefinements[e][t],i=r,ne(e,function(e){return se(e,i)})),n&&t):n)},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var t=this,e=ie(Object.keys(this.numericRefinements).filter(function(e){return 0<Object.keys(t.numericRefinements[e]).length}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(e){return 0<t.disjunctiveFacetsRefinements[e].length}).concat(e).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return ie(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(e){return 0<t.hierarchicalFacetsRefinements[e].length})).sort()},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return-1===t.indexOf(e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var r=this.managedParameters,n={},i=this;return Object.keys(this).forEach(function(e){var t=i[e];-1===r.indexOf(e)&&void 0!==t&&(n[e]=t)}),n},setQueryParameter:function(e,t){var r;return this[e]===t?this:((r={})[e]=t,this.setQueryParameters(r))},setQueryParameters:function(e){if(!e)return this;var t=ce.validate(this,e);if(t)throw t;var r=this,i=ce._parseNumbers(e),t=Object.keys(this).reduce(function(e,t){return e[t]=r[t],e},{}),e=Object.keys(i).reduce(function(e,t){var r=void 0!==e[t],n=void 0!==i[t];return r&&!n?z(e,[t]):(n&&(e[t]=i[t]),e)},t);return new this.constructor(e)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(t){return ne(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(e){var t;return this.isHierarchicalFacet(e)&&(t=this.getHierarchicalRefinement(e)[0])?(e=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),t.split(e).map(function(e){return e.trim()})):[]},toString:function(){return JSON.stringify(this,null,2)}};function ue(e){return Array.isArray(e)?e.filter(Boolean):[]}function le(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function fe(e,t){var n=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var r=t.split(":"),t=ne(n,function(e){return e[0]===r[0]});return 1<r.length||!t?(e[0].push(r[0]),e[1].push(r[1])):(e[0].push(t[0]),e[1].push(t[1])),e},[[],[]])}var me=ce;var de=function(){return Array.prototype.slice.call(arguments).reduceRight(function(n,i){return Object.keys(Object(i)).forEach(function(e){var t="number"==typeof n[e]?n[e]:0,r=i[e];void 0!==r&&t<=r&&(void 0!==n[e]&&delete n[e],n[e]=r)}),n},{})};var he=function(e,r,i){return Array.isArray(e)?(Array.isArray(i)||(i=[]),(e=e.map(function(t,e){return{criteria:r.map(function(e){return t[e]}),index:e,value:t}})).sort(function(e,t){for(var r=-1;++r<e.criteria.length;){var n=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,a=null===t;if(!a&&t<e||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}(e.criteria[r],t.criteria[r]);if(n)return!(r>=i.length)&&"desc"===i[r]?-n:n}return e.index-t.index}),e.map(function(e){return e.value})):[]},pe=function(h){return function(e,t){function r(e,o,t){var r,s=e;if(0<t){var n=0;for(s=e;n<t;){var i=s&&Array.isArray(s.data)?s.data:[],s=ne(i,function(e){return e.isRefined});n++}}return s&&(r=Object.keys(o.data).map(function(e){return[e,o.data[e]]}).filter(function(e){var t,r,n,i,a,e=e[0];return e=e,t=s.path||u,r=f,n=c,a=l,(!(i=u)||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(n)||i&&e.split(n).length-i.split(n).length==1||-1===e.indexOf(n)&&-1===r.indexOf(n)||0===r.indexOf(e)||0===e.indexOf(t+n)&&(a||0===e.indexOf(r)))}),s.data=he(r.map(function(e){var t,r,n,i,a=e[0],e=e[1];return e=e,a=a,t=c,r=ye(f),n=o.exhaustive,{name:(i=a.split(t))[i.length-1].trim(),path:a,escapedValue:ge(a),count:e,isRefined:r===a||0===r.indexOf(a+t),exhaustive:n,data:null}}),a[0],a[1])),e}var a,c,u,l,f,n=h.hierarchicalFacets[t],i=h.hierarchicalFacetsRefinements[n.name]&&h.hierarchicalFacetsRefinements[n.name][0]||"",o=h._getHierarchicalFacetSeparator(n),s=h._getHierarchicalRootPath(n),m=h._getHierarchicalShowParentLevel(n),n=fe(h._getHierarchicalFacetSortBy(n)),d=e.every(function(e){return e.exhaustive}),n=(a=n,c=o,l=m,f=i,e);return(n=(u=s)?e.slice(s.split(o).length):n).reduce(r,{name:h.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}},ge=t,ye=r;var ve=t,be=r;function Se(e){var r={};return e.forEach(function(e,t){r[e]=t}),r}function Oe(e,t,r){t&&t[r]&&(e.stats=t[r])}function we(l,t,e){var s=t[0]||{},f=(this._rawResults=t,this),r=(Object.keys(s).forEach(function(e){f[e]=s[e]}),X(e,{persistHierarchicalRootCount:!1})),e=(Object.keys(r).forEach(function(e){f[e]=r[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=l.hierarchicalFacets.map(function(){return[]}),this.facets=[],l.getRefinedDisjunctiveFacets()),c=Se(l.facets),u=Se(l.disjunctiveFacets),n=1,m=s.facets||{};Object.keys(m).forEach(function(e){var t,r,n,i,a=m[e],o=(n=l.hierarchicalFacets,t=e,ne(n,function(e){return-1<(e.attributes||[]).indexOf(t)}));o?(n=o.attributes.indexOf(e),r=le(l.hierarchicalFacets,function(e){return e.name===o.name}),f.hierarchicalFacets[r][n]={attribute:e,data:a,exhaustive:s.exhaustiveFacetsCount}):(r=-1!==l.disjunctiveFacets.indexOf(e),n=-1!==l.facets.indexOf(e),r&&(i=u[e],f.disjunctiveFacets[i]={name:e,data:a,exhaustive:s.exhaustiveFacetsCount},Oe(f.disjunctiveFacets[i],s.facets_stats,e)),n&&(i=c[e],f.facets[i]={name:e,data:a,exhaustive:s.exhaustiveFacetsCount},Oe(f.facets[i],s.facets_stats,e)))}),this.hierarchicalFacets=ue(this.hierarchicalFacets),e.forEach(function(e){var i=t[n],a=i&&i.facets?i.facets:{},o=l.getHierarchicalFacetByName(e);Object.keys(a).forEach(function(t){var r,e,n=a[t];o?(r=le(l.hierarchicalFacets,function(e){return e.name===o.name}),-1!==(e=le(f.hierarchicalFacets[r],function(e){return e.attribute===t}))&&(f.hierarchicalFacets[r][e].data=f.persistHierarchicalRootCount?de(f.hierarchicalFacets[r][e].data,n):X(n,f.hierarchicalFacets[r][e].data))):(r=u[t],e=s.facets&&s.facets[t]||{},f.disjunctiveFacets[r]={name:t,data:de(e,n),exhaustive:i.exhaustiveFacetsCount},Oe(f.disjunctiveFacets[r],i.facets_stats,t),l.disjunctiveFacetsRefinements[t]&&l.disjunctiveFacetsRefinements[t].forEach(function(e){!f.disjunctiveFacets[r].data[e]&&-1<l.disjunctiveFacetsRefinements[t].indexOf(be(e))&&(f.disjunctiveFacets[r].data[e]=0)}))}),n++}),l.getRefinedHierarchicalFacets().forEach(function(e){var s=l.getHierarchicalFacetByName(e),c=l._getHierarchicalFacetSeparator(s),u=l.getHierarchicalRefinement(e);0===u.length||u[0].split(c).length<2||t.slice(n).forEach(function(e){var o=e&&e.facets?e.facets:{};Object.keys(o).forEach(function(t){var e,r,n=o[t],i=le(l.hierarchicalFacets,function(e){return e.name===s.name}),a=le(f.hierarchicalFacets[i],function(e){return e.attribute===t});-1!==a&&(e={},0<u.length&&!f.persistHierarchicalRootCount&&(e[r=u[0].split(c)[0]]=f.hierarchicalFacets[i][a].data[r]),f.hierarchicalFacets[i][a].data=X(e,n,f.hierarchicalFacets[i][a].data))}),n++})}),Object.keys(l.facetsExcludes).forEach(function(t){var e=l.facetsExcludes[t],r=c[t];f.facets[r]={name:t,data:m[t],exhaustive:s.exhaustiveFacetsCount},e.forEach(function(e){f.facets[r]=f.facets[r]||{name:t},f.facets[r].data=f.facets[r].data||{},f.facets[r].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(pe(l)),this.facets=ue(this.facets),this.disjunctiveFacets=ue(this.disjunctiveFacets),this._state=l}function Pe(r,n){function e(e){return e.name===n}var i,a,t,o,s,c;return r._state.isConjunctiveFacet(n)?(i=ne(r.facets,e))?Object.keys(i.data).map(function(e){var t=ve(e);return{name:e,escapedValue:t,count:i.data[e],isRefined:r._state.isFacetRefined(n,t),isExcluded:r._state.isExcludeRefined(n,e)}}):[]:r._state.isDisjunctiveFacet(n)?(a=ne(r.disjunctiveFacets,e))?Object.keys(a.data).map(function(e){var t=ve(e);return{name:e,escapedValue:t,count:a.data[e],isRefined:r._state.isDisjunctiveFacetRefined(n,t)}}):[]:r._state.isHierarchicalFacet(n)?((t=ne(r.hierarchicalFacets,e))&&(c=r._state.getHierarchicalFacetByName(n),o=r._state._getHierarchicalFacetSeparator(c),(c=(s=0===(s=be(r._state.getHierarchicalRefinement(n)[0]||"")).indexOf(c.rootPath)?s.replace(c.rootPath+o,""):s).split(o)).unshift(n),function t(e,r,n){e.isRefined=e.name===(r[n]&&r[n].trim());e.data&&e.data.forEach(function(e){t(e,r,n+1)})}(t,c,0)),t):void 0}function je(e,t){e=ne(e,function(e){return e.name===t});return e&&e.stats}function Re(e,t,r,n,i){var i=ne(i,function(e){return e.name===r}),a=i&&i.data&&i.data[n]?i.data[n]:0,i=i&&i.exhaustive||!1;return{type:t,attributeName:r,name:n,count:a,exhaustive:i}}we.prototype.getFacetByName=function(t){function e(e){return e.name===t}return ne(this.facets,e)||ne(this.disjunctiveFacets,e)||ne(this.hierarchicalFacets,e)},we.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],we.prototype.getFacetValues=function(e,t){var l,f,r=Pe(this,e);if(r)return l=X(t,{sortBy:we.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),f=this,function t(r,e,n,i){var a;return i=i||0,Array.isArray(e)?r(e,n[i]):e.data&&0!==e.data.length?(a=e.data.map(function(e){return t(r,e,n,i+1)}),a=r(a,n[i]),X({data:a},e)):e}(function(e,t){t=t;var n,i,a,o,r,s,c,u=(u=f).renderingContent&&u.renderingContent.facetOrdering&&u.renderingContent.facetOrdering.values&&u.renderingContent.facetOrdering.values[t];if(l.facetOrdering&&u)return t=e,n=[],i=[],a=(r=u).hide||[],o=(r.order||[]).reduce(function(e,t,r){return e[t]=r,e},{}),t.forEach(function(e){var t=e.path||e.name,r=-1<a.indexOf(t);r||void 0===o[t]?r||i.push(e):n[o[t]]=e}),n=n.filter(function(e){return e}),"hidden"===(t=r.sortRemainingBy)?n:n.concat(he(i,(r="alpha"===t?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],r[1]));if(Array.isArray(l.sortBy))return t=fe(l.sortBy,we.DEFAULT_SORT),r=he(e,t[0],t[1]),0<(s=u&&u.hide?u.hide:[]).length?(c=[],r.forEach(function(e){var t=e.path||e.name;-1===s.indexOf(t)&&c.push(e)}),c):r;if("function"==typeof l.sortBy)return t=l.sortBy,e.sort(t);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,Array.isArray(r)?[e]:f._state.getHierarchicalFacetByName(r.name).attributes)},we.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?je(this.facets,e):this._state.isDisjunctiveFacet(e)?je(this.disjunctiveFacets,e):void 0},we.prototype.getRefinements=function(){var o=this._state,s=this,c=[];return Object.keys(o.facetsRefinements).forEach(function(t){o.facetsRefinements[t].forEach(function(e){c.push(Re(0,"facet",t,e,s.facets))})}),Object.keys(o.facetsExcludes).forEach(function(t){o.facetsExcludes[t].forEach(function(e){c.push(Re(0,"exclude",t,e,s.facets))})}),Object.keys(o.disjunctiveFacetsRefinements).forEach(function(t){o.disjunctiveFacetsRefinements[t].forEach(function(e){c.push(Re(0,"disjunctive",t,e,s.disjunctiveFacets))})}),Object.keys(o.hierarchicalFacetsRefinements).forEach(function(a){o.hierarchicalFacetsRefinements[a].forEach(function(e){var t,r,n,i;c.push((t=o,r=a,e=e,n=s.hierarchicalFacets,i=t.getHierarchicalFacetByName(r),t=t._getHierarchicalFacetSeparator(i),i=e.split(t),e=ne(n,function(e){return e.name===r}),t=i.reduce(function(e,t){var r=e&&ne(e.data,function(e){return e.name===t});return void 0!==r?r:e},e),n=t&&t.count||0,i=t&&t.exhaustive||!1,e=t&&t.path||"",{type:"hierarchical",attributeName:r,name:e,count:n,exhaustive:i}))})}),Object.keys(o.numericRefinements).forEach(function(r){var e=o.numericRefinements[r];Object.keys(e).forEach(function(t){e[t].forEach(function(e){c.push({type:"numeric",attributeName:r,name:e,numericValue:e,operator:t})})})}),o.tagRefinements.forEach(function(e){c.push({type:"tag",attributeName:"_tags",name:e})}),c};var Ee=we;var xe=function(r,n){var t,i,a,o={};return n.forEach(function(e){e.forEach(function(e,t){r.includes(e.objectID)||(o[e.objectID]?o[e.objectID]={indexSum:o[e.objectID].indexSum+t,count:o[e.objectID].count+1}:o[e.objectID]={indexSum:t,count:1})})}),t=o,i=n.length,a=[],Object.keys(t).forEach(function(e){t[e].count<2&&(t[e].indexSum+=100),a.push({objectID:e,avgOfIndices:t[e].indexSum/i})}),a.sort(function(e,t){return e.avgOfIndices>t.avgOfIndices?1:-1}).reduce(function(e,t){var r=ne(n.reduce(function(e,t){return e.concat(t)},[]),function(e){return e.objectID===t.objectID});return r?e.concat(r):e},[])},r="3.27.0",Ie=t;function i(e,t,r,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.27.0)"),this.setClient(e);e=r||{};e.index=t,this.state=me.make(e),this.recommendState=new J({params:e.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=n,this._recommendCache={}}function Ce(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function Te(){return this.state.page}H(i,k),i.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},i.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},i.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this},i.prototype.recommend=function(){return this._recommend(),this},i.prototype.getQuery=function(){var e=this.state;return Y._getHitsSearchParams(e)},i.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,e=Y._getQueries(r.index,r),n=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),!t)return this.client.search(e).then(function(e){return n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),{content:new Ee(r,e.results),state:r,_originalResponse:e}},function(e){throw n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),e});this.client.search(e).then(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(null,new Ee(r,e.results),r)}).catch(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(e,null,r)})},i.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var r=r.getModifiedState(t),t=q({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:z(Y._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),n="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(n);var i=this.client.initIndex(r.index);if("function"!=typeof i.findAnswers)throw new Error(n);return i.findAnswers(r.query,e.queryLanguages,t)},i.prototype.searchForFacetValues=function(r,e,t,n){var i,a,o,s,c="function"==typeof this.client.searchForFacetValues&&"function"!=typeof this.client.searchForFacets,u="function"==typeof this.client.initIndex;if(c||u||"function"==typeof this.client.search)return i=this.state.setQueryParameters(n||{}),a=i.isDisjunctiveFacet(r),n=Y.getSearchForFacetQuery(r,e,t,i),this._currentNbQueries++,o=this,t=c?this.client.searchForFacetValues([{indexName:i.index,params:n}]):u?this.client.initIndex(i.index).searchForFacetValues(n):(delete n.facetName,this.client.search([{type:"facet",facet:r,indexName:i.index,params:n}]).then(function(e){return e.results[0]})),this.emit("searchForFacetValues",{state:i,facet:r,query:e}),s=this.lastResults&&this.lastResults.index===i.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[r]&&this.lastResults.renderingContent.facetOrdering.values[r].hide||[],t.then(function(e){return o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits=e.facetHits.reduce(function(e,t){return-1<s.indexOf(t.value)||(t.escapedValue=Ie(t.value),t.isRefined=a?i.isDisjunctiveFacetRefined(r,t.escapedValue):i.isFacetRefined(r,t.escapedValue),e.push(t)),e},[]),e},function(e){throw o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),e});throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues")},i.prototype.searchForCompositionFacetValues=function(t,e,r,n){if("function"!=typeof this.client.searchForFacetValues)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(n||{}),a=i.isDisjunctiveFacet(t),o=(this._currentNbQueries++,this),n=this.client.searchForFacetValues({compositionID:i.index,facetName:t,searchForFacetValuesRequest:{params:{query:e,maxFacetHits:r,searchQuery:Y._getCompositionHitsSearchParams(i)}}});return this.emit("searchForFacetValues",{state:i,facet:t,query:e}),n.then(function(e){return o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),(e=e.results[0]).facetHits.forEach(function(e){e.escapedValue=Ie(e.value),e.isRefined=a?i.isDisjunctiveFacetRefined(t,e.escapedValue):i.isFacetRefined(t,e.escapedValue)}),e},function(e){throw o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),e})},i.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},i.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},i.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},i.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},i.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},i.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},i.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},i.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},i.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},i.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this},i.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this},i.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this},i.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this},i.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this},i.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},i.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},i.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},i.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},i.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},i.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},i.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},i.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},i.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},i.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},i.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},i.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},i.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},i.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},i.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},i.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},i.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},i.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},i.prototype.setCurrentPage=Ce,i.prototype.setPage=Ce,i.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},i.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},i.prototype.setState=function(e){return this._change({state:me.make(e),isPageReset:!1}),this},i.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new me(e),this},i.prototype.hasRefinements=function(e){return!!Q(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},i.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},i.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},i.prototype.hasTag=function(e){return this.state.isTagRefined(e)},i.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},i.prototype.getIndex=function(){return this.state.index},i.prototype.getCurrentPage=Te,i.prototype.getPage=Te,i.prototype.getTags=function(){return this.state.tagRefinements},i.prototype.getRefinements=function(e){var r=[],n=(this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){r.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"disjunctive"})}),this.state.getNumericRefinements(e));return Object.keys(n).forEach(function(e){var t=n[e];r.push({value:t,operator:e,type:"numeric"})}),r},i.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},i.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},i.prototype._search=function(e){var n=this.state,i=[],t=[],e=(e.onlyWithDerivedHelpers||(t=Y._getQueries(n.index,n),i.push({state:n,queriesCount:t.length,helper:this}),this.emit("search",{state:n,results:this.lastResults})),this.derivedHelpers.map(function(e){var t=e.getModifiedState(n),r=t.index?Y._getQueries(t.index,t):[];return i.push({state:t,queriesCount:r.length,helper:e}),e.emit("search",{state:t,results:e.lastResults}),r})),t=Array.prototype.concat.apply(t,e),e=this._queryId++;if(this._currentNbQueries++,!t.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,i,e));try{this.client.search(t).then(this._dispatchAlgoliaResponse.bind(this,i,e)).catch(this._dispatchAlgoliaError.bind(this,e))}catch(e){this.emit("error",{error:e})}},i.prototype._runComposition=function(){var n=this.state,i=[],e=this.derivedHelpers.map(function(e){var t=e.getModifiedState(n),r=Y._getCompositionQueries(t);return i.push({state:t,queriesCount:r.length,helper:e}),e.emit("search",{state:t,results:e.lastResults}),r}),e=Array.prototype.concat.apply([],e),t=this._queryId++;if(this._currentNbQueries++,!e.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,i,t));if(1<e.length)throw new Error("Only one query is allowed when using a composition.");e=e[0];try{this.client.search(e).then(this._dispatchAlgoliaResponse.bind(this,i,t)).catch(this._dispatchAlgoliaError.bind(this,t))}catch(e){this.emit("error",{error:e})}},i.prototype._recommend=function(){var n=this.state,e=this.recommendState,t=this.getIndex(),i=[{state:e,index:t,helper:this}],a=e.params.map(function(e){return e.$$id}),o=(this.emit("fetch",{recommend:{state:e,results:this.lastRecommendResults}}),this._recommendCache),e=this.derivedHelpers.map(function(e){var t,r=e.getModifiedState(n).index;return r?(t=e.getModifiedRecommendState(new J),i.push({state:t,index:r,helper:e}),a=Array.prototype.concat.apply(a,t.params.map(function(e){return e.$$id})),e.emit("fetch",{recommend:{state:t,results:e.lastRecommendResults}}),t._buildQueries(r,o)):[]}),t=Array.prototype.concat.apply(this.recommendState._buildQueries(t,o),e);if(0!==t.length)if(0<t.length&&void 0===this.client.getRecommendations)console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");else{e=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(t).then(this._dispatchRecommendResponse.bind(this,e,i,a)).catch(this._dispatchRecommendError.bind(this,e))}catch(e){this.emit("error",{error:e})}}},i.prototype._dispatchAlgoliaResponse=function(e,t,r){var n,i,a=this;t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty"),n=r.results.slice(),i=Object.keys(r).reduce(function(e,t){return"results"!==t&&(e[t]=r[t]),e},{}),Object.keys(i).length<=0&&(i=void 0),e.forEach(function(e){var t=e.state,r=e.queriesCount,e=e.helper,r=n.splice(0,r);t.index?(e.lastResults=new Ee(t,r,a._searchResultsOptions),void 0!==i&&(e.lastResults._rawContent=i),e.emit("result",{results:e.lastResults,state:t})):e.emit("result",{results:null,state:t})}))},i.prototype._dispatchRecommendResponse=function(e,t,n,i){var a,o,s;e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty"),a=this._recommendCache,o={},n.filter(function(e){return void 0===a[e]}).forEach(function(e,t){o[e]||(o[e]=[]),o[e].push(t)}),Object.keys(o).forEach(function(e){var t=o[e],r=i.results[t[0]];1===t.length?a[e]=r:a[e]=Object.assign({},r,{hits:xe(n,t.map(function(e){return i.results[e].hits}))})}),s={},n.forEach(function(e){s[e]=a[e]}),t.forEach(function(e){var t=e.state,r=e.helper;e.index?(r.lastRecommendResults=new K(t,s),r.emit("recommend:result",{recommend:{results:r.lastRecommendResults,state:t}})):r.emit("recommend:result",{results:null,state:t})}))},i.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},i.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty"))},i.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},i.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},i.prototype._change=function(e){var t=e.state,e=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:e}))},i.prototype._recommendChange=function(e){e=e.state;e!==this.recommendState&&(this.recommendState=e,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},i.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},i.prototype.setClient=function(e){return this.client!==e&&("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.27.0)"),this.client=e),this},i.prototype.getClient=function(){return this.client},i.prototype.derive=function(e,t){e=new W(this,e,t);return this.derivedHelpers.push(e),e},i.prototype.detachDerivedHelper=function(e){e=this.derivedHelpers.indexOf(e);if(-1===e)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)},i.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries};var Ne=i;function ke(e,t,r,n){return new Ne(e,t,r,n)}ke.version=r,ke.AlgoliaSearchHelper=Ne,ke.SearchParameters=me,ke.RecommendParameters=J,ke.SearchResults=Ee,ke.RecommendResults=K;var b=ke,Fe=0;function Ae(){Fe=0}t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Me(){throw new Error("setTimeout has not been defined")}function _e(){throw new Error("clearTimeout has not been defined")}var De=Me,Le=_e;function He(t){if(De===setTimeout)return setTimeout(t,0);if((De===Me||!De)&&setTimeout)return(De=setTimeout)(t,0);try{return De(t,0)}catch(e){try{return De.call(null,t,0)}catch(e){return De.call(this,t,0)}}}"function"==typeof t.setTimeout&&(De=setTimeout),"function"==typeof t.clearTimeout&&(Le=clearTimeout);var Be,We=[],$e=!1,Ue=-1;function qe(){$e&&Be&&($e=!1,Be.length?We=Be.concat(We):Ue=-1,We.length)&&Qe()}function Qe(){if(!$e){for(var e=He(qe),t=($e=!0,We.length);t;){for(Be=We,We=[];++Ue<t;)Be&&Be[Ue].run();Ue=-1,t=We.length}Be=null,$e=!1,!function(t){if(Le===clearTimeout)return clearTimeout(t);if((Le===_e||!Le)&&clearTimeout)return(Le=clearTimeout)(t);try{Le(t)}catch(e){try{return Le.call(null,t)}catch(e){return Le.call(this,t)}}}(e)}}function ze(e,t){this.fun=e,this.array=t}ze.prototype.run=function(){this.fun.apply(null,this.array)};function Ve(){}var H=Ve,r=Ve,Je=Ve,Ze=Ve,Ke=Ve,Ge=Ve,Xe=Ve;var Ye=t.performance||{},et=Ye.now||Ye.mozNow||Ye.msNow||Ye.oNow||Ye.webkitNow||function(){return(new Date).getTime()};var tt=new Date;var rt={nextTick:function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];We.push(new ze(e,t)),1!==We.length||$e||He(Qe)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:H,addListener:r,once:Je,off:Ze,removeListener:Ke,removeAllListeners:Ge,emit:Xe,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*et.call(Ye),r=Math.floor(t),t=Math.floor(t%1*1e9);return e&&(r-=e[0],(t-=e[1])<0)&&(r--,t+=1e9),[r,t]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-tt)/1e3}};function w(){}function nt(e){return Object.prototype.toString.call(e).slice(8,-1)}function h(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(nt(e),").\n\n").concat(t))}function it(e){var t=e.helper,e=e.attributesToClear,e=void 0===e?[]:e,r=t.state.setPage(0),r=e.reduce(function(e,t){return r.isNumericRefined(t)?e.removeNumericRefinement(t):r.isHierarchicalFacet(t)?e.removeHierarchicalFacetRefinement(t):r.isDisjunctiveFacet(t)?e.removeDisjunctiveFacetRefinement(t):r.isConjunctiveFacet(t)?e.removeFacetRefinement(t):e},r);return r=-1!==e.indexOf("query")?r.setQuery(""):r}var at={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ot=/[&<>"']/g,st=RegExp(ot.source);var ct={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ut=/&(amp|quot|lt|gt|#39);/g,lt=RegExp(ut.source);function ft(e){return e&&lt.test(e)?e.replace(ut,function(e){return ct[e]}):e}function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e){if("object"===mt(t=e)&&null!==t&&"[object Object]"===(null===(t=e)?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t))){var t;if(null===Object.getPrototypeOf(e))return 1;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}}function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(){return(pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}function gt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(r),!0).forEach(function(e){vt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function vt(e,t,r){return(t=function(e){e=function(e,t){if("object"!=ht(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ht(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},bt={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function St(e){return((e=e)&&st.test(e)?e.replace(ot,function(e){return at[e]}):e).replace(new RegExp(T.highlightPreTag,"g"),bt.highlightPreTag).replace(new RegExp(T.highlightPostTag,"g"),bt.highlightPostTag)}function Ot(r){return dt(r)&&"string"!=typeof r.value?Object.keys(r).reduce(function(e,t){return yt(yt({},e),{},vt({},t,Ot(r[t])))},{}):Array.isArray(r)?r.map(Ot):yt(yt({},r),{},{value:St(r.value)})}function wt(e){return void 0===e.__escaped&&((e=e.map(function(e){e=pt({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return e._highlightResult&&(e._highlightResult=Ot(e._highlightResult)),e._snippetResult&&(e._snippetResult=Ot(e._snippetResult)),e})).__escaped=!0),e}function Pt(e){var t=bt.highlightPreTag,r=bt.highlightPostTag;return e.map(function(e){return e.isHighlighted?t+e.value+r:e.value}).join("")}function jt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Rt(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Et(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Et(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):jt(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?It(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?It(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ct(e){var m=e.instantSearchInstance,d=e.helper,h=e.attribute,p=e.widgetType;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i,a,o=t[1],s=t[2],s=void 0===s?"Filter Applied":s,c=t[3],c=void 0===c?{}:c,u=xt(t[0].split(":"),2),l=u[0],u=u[1],f="string"==typeof h?h:h(o);1===t.length&&"object"===Et(t[0])?m.sendEventToInsights(t[0]):"click"===l&&2<=t.length&&t.length<=4&&(i=f,a=o,((n=d).state.isHierarchicalFacet(i)?n.state.isHierarchicalFacetRefined(i,a):n.state.isConjunctiveFacet(i)?n.state.isFacetRefined(i,a):n.state.isDisjunctiveFacetRefined(i,a))||m.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:p,eventType:l,eventModifier:u,payload:Rt({eventName:s,index:(null==(n=d.lastResults)?void 0:n.index)||d.state.index,filters:["".concat(f,":").concat(o)]},c),attribute:f}))}}function Tt(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Nt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function kt(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Mt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Mt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Nt(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?At(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e){var n,i,a,o,s,t,c,u,l=e.helper,f=e.widgetType,r=(e.methodName,e.args),e=e.instantSearchInstance;return 1===r.length&&"object"===Mt(r[0])?[r[0]]:(t=Ft(r[0].split(":"),2),n=t[0],i=t[1],t=r[1],a=r[2],o=r[3]||{},!t||!("click"!==n&&"conversion"!==n||a)||0===(r=Array.isArray(t)?t:[t]).length?[]:(s=r[0].__queryID,t=function(e,t){for(var r=1<arguments.length&&void 0!==t?t:20,n=[],i=0;i<Math.ceil(e.length/r);i++)n.push(e.slice(i*r,(i+1)*r));return n}(r),c=t.map(function(e){return e.map(function(e){return e.objectID})}),u=t.map(function(e){return e.map(function(e){return e.__position})}),"view"===n?"idle"!==e.status?[]:t.map(function(e,t){var r;return{insightsMethod:"viewedObjectIDs",widgetType:f,eventType:n,payload:kt({eventName:a||"Hits Viewed",index:(null==(r=l.lastResults)?void 0:r.index)||l.state.index,objectIDs:c[t]},o),hits:e,eventModifier:i}}):"click"===n?t.map(function(e,t){var r;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:f,eventType:n,payload:kt({eventName:a||"Hit Clicked",index:(null==(r=l.lastResults)?void 0:r.index)||l.state.index,queryID:s,objectIDs:c[t],positions:u[t]},o),hits:e,eventModifier:i}}):"conversion"===n?t.map(function(e,t){var r;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:f,eventType:n,payload:kt({eventName:a||"Hit Converted",index:(null==(r=l.lastResults)?void 0:r.index)||l.state.index,queryID:s,objectIDs:c[t]},o),hits:e,eventModifier:i}}):[]))}function Dt(e){var n=e.instantSearchInstance,i=e.helper,a=e.widgetType,o={},s=void 0;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];_t({widgetType:a,helper:i,methodName:"sendEvent",args:t,instantSearchInstance:n}).forEach(function(e){"click"===e.eventType&&"internal"===e.eventModifier&&o[e.eventType]||(o[e.eventType]=!0,n.sendEventToInsights(e))}),clearTimeout(s),s=setTimeout(function(){o={}},0)}}function Lt(e){var i=e.helper,a=e.widgetType,o=e.instantSearchInstance;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=_t({widgetType:a,helper:i,methodName:"bindEvent",args:t,instantSearchInstance:o});return n.length?"data-insights-event=".concat(Tt(n)):""}}function Ht(e){return"ais.index"===e.$$type}function Bt(t,e){var r=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:r})),e.getWidgets().filter(Ht).forEach(function(e){return Bt(t,e)})}var Wt=Promise.resolve();function $t(n){function e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];null===i&&(i=Wt.then(function(){i=null,a?a=!1:n.apply(void 0,t)}))}var i=null,a=!1;return e.wait=function(){if(null===i)throw new Error("The deferred function should be called before calling `wait()`");return i},e.cancel=function(){null!==i&&(a=!0)},e}function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(e){return t=(e=e).name,e=e.connector,["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",void 0!==e&&e?"#connector":""].join("");var t}).join(", ");return function(e){return[e,"See documentation: ".concat(n)].filter(Boolean).join("\n\n")}}function Ut(e){return"number"==typeof e&&e<0||"string"==typeof e?String(e).replace(/^-/,"\\-"):e}function qt(e,t){for(var r,n=0;n<e.length;n++)if(t(r=e[n],n,e))return r}function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?zt(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Vt=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/;function Jt(e){if(Array.isArray(e)){var t=e,r=Qt(t,1)[0],n=(r=Qt(void 0===r?[void 0,void 0,void 0,void 0]:r,4))[0],i=r[1],a=r[2],r=r[3];if(n&&i&&a&&r)return{northEast:{lat:n,lng:i},southWest:{lat:a,lng:r}};throw new Error('Invalid value for "insideBoundingBox" parameter: ['.concat(t,"]"))}n=e,a=(i=Qt(n.split(",").map(parseFloat),4))[0],r=i[1],t=i[2],i=i[3];if(a&&r&&t&&i)return{northEast:{lat:a,lng:r},southWest:{lat:t,lng:i}};throw new Error('Invalid value for "insideBoundingBox" parameter: "'.concat(n,'"'))}function Zt(e){return e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua}function Kt(e){var t,r,n;return e.appId&&e.apiKey?[e.appId,e.apiKey]:e.transporter?(t=(r=e.transporter).headers||r.baseHeaders,r=r.queryParameters||r.baseQueryParameters,[t[n="x-algolia-application-id"]||r[n],t[n="x-algolia-api-key"]||r[n]]):[e.applicationID,e.apiKey]}function Gt(e){var t=bt.highlightPostTag,r=bt.highlightPreTag,e=e.split(r),r=e.shift(),n=r?[{value:r,isHighlighted:!1}]:[];return e.forEach(function(e){e=e.split(t);n.push({value:e[0],isHighlighted:!0}),""!==e[1]&&n.push({value:e[1],isHighlighted:!1})}),n}var Xt=new RegExp(/\w/i);function Yt(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}function er(e,t,r,n,i){var a,i=4<arguments.length&&void 0!==i?i:[],o={type:t,attribute:r,name:n,escapedValue:Ut(n)},s=qt(i,function(e){return e.name===r});if("hierarchical"===t){for(var i=e.getHierarchicalFacetByName(r),c=n.split(i.separator),u=0;void 0!==s&&u<c.length;++u)!function(t){var r;s=s&&s.data&&qt(Object.keys(s.data).map((r=s.data,function(e){return r[e]})),function(e){return e.name===c[t]})}(u);a=s&&s.count}else a=s&&s.data&&s.data[o.name];return void 0!==a&&(o.count=a),s&&void 0!==s.exhaustive&&(o.exhaustive=s.exhaustive),o}function tr(e,r,t){var t=2<arguments.length&&void 0!==t&&t,n=e||{},i=[],e=r.facetsRefinements,a=void 0===e?{}:e,e=r.facetsExcludes,o=void 0===e?{}:e,e=r.disjunctiveFacetsRefinements,s=void 0===e?{}:e,e=r.hierarchicalFacetsRefinements,c=void 0===e?{}:e,e=r.numericRefinements,u=void 0===e?{}:e,e=r.tagRefinements,e=void 0===e?[]:e;return Object.keys(a).forEach(function(t){a[t].forEach(function(e){i.push(er(r,"facet",t,e,n.facets))})}),Object.keys(o).forEach(function(t){o[t].forEach(function(e){i.push({type:"exclude",attribute:t,name:e,exclude:!0})})}),Object.keys(s).forEach(function(t){s[t].forEach(function(e){i.push(er(r,"disjunctive",t,"string"==typeof(e=e)?e.replace(/^\\-/,"-"):e,n.disjunctiveFacets))})}),Object.keys(c).forEach(function(t){c[t].forEach(function(e){i.push(er(r,"hierarchical",t,e,n.hierarchicalFacets))})}),Object.keys(u).forEach(function(r){var n=u[r];Object.keys(n).forEach(function(e){var t=e,e=n[t];(Array.isArray(e)?e:[e]).forEach(function(e){i.push({type:"numeric",attribute:r,name:"".concat(e),numericValue:e,operator:t})})})}),e.forEach(function(e){i.push({type:"tag",attribute:"_tags",name:e})}),t&&r.query&&r.query.trim()&&i.push({attribute:"query",type:"query",name:r.query,query:r.query}),i}function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ir(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=rr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==rr(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):nr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ar(e,r,n){return e.map(function(e,t){return ir(ir({},e),{},{__position:n*r+t+1})})}function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function cr(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?sr(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=or(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==or(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):sr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ur(e,t){return t?e.map(function(e){return cr(cr({},e),{},{__queryID:t})}):e}function lr(e){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function mr(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?fr(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=lr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==lr(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):fr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?pr(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function gr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function yr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gr(Object(r),!0).forEach(function(e){vr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function vr(e,t,r){return(t=function(e){e=function(e,t){if("object"!=dr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==dr(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function br(a,i){var e,o,t;i&&("transporter"in a&&!a._cacheHydrated||a._useCache&&"function"==typeof a.addAlgoliaAgent)&&(e=[Object.keys(i).reduce(function(e,t){var t=i[t],r=t.state,n=t.requestParams,t=t.results,t=t&&r?t.map(function(e,t){return yr({indexName:r.index||e.index},null!=n&&n[t]||e.params?{params:Sr((null==n?void 0:n[t])||e.params.split("&").reduce(function(e,t){var t=hr(t.split("="),2),r=t[0],t=t[1];return e[r]=t?decodeURIComponent(t):"",e},{}))}:{})}):[];return e.concat(t)},[])],t=Object.keys(i).reduce(function(e,t){t=i[t].results;return t?e.concat(t):e},[]),"transporter"in a&&!a._cacheHydrated&&(a._cacheHydrated=!0,o=a.search.bind(a),a.search=function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=Array.isArray(e)?e.map(function(e){return yr(yr({},e),{},{params:Sr(e.params)})}):Sr(e.requestBody.params);return a.transporter.responsesCache.get({method:"search",args:[i].concat(r)},function(){return o.apply(void 0,[e].concat(r))})},a.transporter.responsesCache.set({method:"search",args:e},{results:t})),"transporter"in a||(t="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:e})),a.cache=yr(yr({},a.cache),{},vr({},t,JSON.stringify({results:Object.keys(i).map(function(e){return i[e].results})})))))}function Sr(r){return Object.keys(r).map(function(e){return function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[i++])})}("%s=%s",e,(t=r[e],"[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t)?JSON.stringify(r[e]):r[e]));var t}).join("&")}function Or(e){return e!==Object(e)}function wr(e,t){if(e===t)return 1;if(Or(e)||Or(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length===Object.keys(t).length){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t))return;if(!wr(e[i],t[i]))return}return 1}}function y(e){return"number"==typeof e&&isFinite(e)}function Pr(e,t){t(e),e.getWidgets().forEach(function(e){Ht(e)&&Pr(e,t)})}function jr(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Er=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function xr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ir(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xr(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Rr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Rr(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):xr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Cr(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Tr(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var r=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}(e,function(e){return e.name===t.name});return-1===r?e.concat(t):((e=e.slice()).splice(r,1,t),e)},e.hierarchicalFacets)})}var Nr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){r=t;var e=e.setQueryParameters({hierarchicalFacetsRefinements:Ir(Ir({},e.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)}),r=Tr(e,t),e=t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},r),e=(r=t,e.setQueryParameters({numericRefinements:Ir(Ir({},e.numericRefinements),r.numericRefinements)})),e=(r=t,e.setQueryParameters({disjunctiveFacetsRefinements:Ir(Ir({},e.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})),e=(r=t,e.setQueryParameters({facetsExcludes:Ir(Ir({},e.facetsExcludes),r.facetsExcludes)})),e=(r=t,e.setQueryParameters({facetsRefinements:Ir(Ir({},e.facetsRefinements),r.facetsRefinements)})),r=function(e,t){t=jr([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return 0<t.length?e.setQueryParameters({ruleContexts:t}):e}(t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e),t),e=t.facets.reduce(function(e,t){return e.addFacet(t)},r),r=t;return r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts,r=Cr(r,Er),e.setQueryParameters(r)})};function kr(e){return function(e){if(Array.isArray(e))return Fr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var r;if(e)return"string"==typeof e?Fr(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ar(e){var t=e.start,r=void 0===t?0:t,t=e.end,e=e.step,e=void 0===e?1:e,n=0===e?1:e,e=Math.round((t-r)/n);return kr(Array(e)).map(function(e,t){return r+t*n})}function Mr(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function _r(e,t,r){var r=t.getResultsForWidget(r),n=t.getHelper();return{helper:n,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Hr(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Lr(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Dr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Dr(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Lr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Br(i){return i.some(function(e){return e.isHighlighted})?i.map(function(e,t){return Hr(Hr({},e),{},{isHighlighted:(r=(e=i)[t=t],n=(null==(n=i[t+1])?void 0:n.isHighlighted)||!0,t=(null==(e=i[t-1])?void 0:e.isHighlighted)||!0,!(Xt.test(ft(r.value))||t!==n?r.isHighlighted:t))});var r,n}):i.map(function(e){return Hr(Hr({},e),{},{isHighlighted:!1})})}function Wr(e,t){t=(1<arguments.length&&void 0!==t?t:{fallback:function(){}}).fallback;return"undefined"==typeof window?t():e({window:window})}function $r(e){return Array.isArray(e)?e:[e]}function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qr(Object(r),!0).forEach(function(e){Qr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Qr(e,t,r){return(t=function(e){e=function(e,t){if("object"!=Ur(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ur(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zr=a({name:"configure",connector:!0});function Vr(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(e,t){return o(o({},e),{},Qr({},t,void 0))},{}))}var Jr=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:w,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return function(n){var t;if(n&&dt(n.searchParameters))return t={},{$$type:"ais.configure",init:function(e){var t=e.instantSearchInstance;r(o(o({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(o(o({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return i(),Vr(e,n)},getRenderState:function(e,t){t=this.getWidgetRenderState(t);return o(o({},e),{},{configure:o(o({},t),{},{widgetParams:o(o({},t.widgetParams),{},{searchParameters:Nr(new b.SearchParameters(null==(e=e.configure)?void 0:e.widgetParams.searchParameters),new b.SearchParameters(t.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){var r,e=e.helper;return t.refine||(t.refine=(r=e,function(e){var t=Vr(r.state,n),t=Nr(t,new b.SearchParameters(e));n.searchParameters=e,r.setState(t).search()})),{refine:t.refine,widgetParams:n}},getWidgetSearchParameters:function(e,t){t=t.uiState;return Nr(e,new b.SearchParameters(o(o({},t.configure),n.searchParameters)))},getWidgetUiState:function(e){return o(o({},e),{},{configure:o(o({},e.configure),n.searchParameters)})}};throw new Error(zr("The `searchParameters` option expects an object."))}};function Zr(e){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kr=Object.prototype.hasOwnProperty;function Gr(e,t,r){if(null!=r&&r(e,t))return!0;var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Gr(e[i],t[i],r););return-1===i}if(!n||"object"===Zr(e)){for(n in i=0,e){if(Kr.call(e,n)&&++i&&!Kr.call(t,n))return!1;if(!(n in t&&Gr(e[n],t[n],r)))return!1}return Object.keys(t).length===i}}return e!=e&&t!=t}function Xr(e){var t;return new b.SearchResults(e,[{query:null!=(t=e.query)?t:"",page:null!=(t=e.page)?t:0,hitsPerPage:null!=(t=e.hitsPerPage)?t:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function tn(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?en(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Yr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Yr(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):en(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function rn(r){var e=r.getHelper(),n=r.getResults()||Xr(e.state),t=r.getScopedResults().map(function(e){var t=e.indexId===r.getIndexId()?n:Xr(e.helper.state);return tn(tn({},e),{},{results:e.results||t})});return{results:n,scopedResults:t,recommendResults:e.lastRecommendResults}}var nn=O.createContext(null);function an(e){if(!e)throw new Error("Invariant failed")}function on(){var e=O.useContext(nn);return an(null!==e),e}var sn=O.createContext(null);function cn(){var e=O.useContext(sn);return an(null!==e),e}var un=O.createContext(null);function ln(){return O.useContext(un)}var fn=O.createContext(null);function mn(){return O.useContext(fn)}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?hn(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function pn(e){var t=dn(O.useState(function(){return e}),2),r=t[0],t=t[1];return Gr(r,e)||t(e),r}var gn=O.use,yn="undefined"!=typeof window?O.useLayoutEffect:O.useEffect,vn=O.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function bn(){return O.useContext(vn)}function Sn(e){var t=e.widget,r=e.parentIndex,n=e.props,i=e.shouldSsr,e=e.skipSuspense,a=bn(),o=a.waitForResultsRef,s=a.countRef,c=(a.ignoreMultipleHooksWarning,O.useRef(n)),u=(O.useEffect(function(){c.current=n},[n]),O.useRef(t)),l=(O.useEffect(function(){u.current=t},[t]),O.useRef(null)),a=i&&!r.getWidgets().includes(t),f=cn();yn(function(){var e=u.current;return l.current?(clearTimeout(l.current),Gr(n,c.current)||(r.removeWidgets([e]),r.addWidgets([t]))):i||r.addWidgets([t]),function(){l.current=setTimeout(function(){f._schedule(function(){f._preventWidgetCleanup||r.removeWidgets([e])})})}},[r,t,i,f,n]),!a&&"pending"!==(null==o||null==(a=o.current)?void 0:a.status)||r.addWidgets([t]),null!=o&&o.current&&!e&&(gn(o.current),"ais.dynamicWidgets"!==t.$$type)&&null!=(a=f.helper)&&a.lastResults&&gn(o.current),"fulfilled"===(null==o||null==(e=o.current)?void 0:e.status)&&(s.current+=1)}function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wn=["skipSuspense"],Pn=["instantSearchInstance","widgetParams"],jn=["widgetParams"];function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?En(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?En(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function xn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function In(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=On(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=On(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==On(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):xn(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Cn(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=r.skipSuspense,n=void 0!==n&&n,r=Cn(r,wn),i=ln(),a=mn(),o=cn(),s=on(),c=pn(t),u=pn(r),l=O.useRef(!0),f=O.useRef(null),m=O.useRef(o.status),d=O.useMemo(function(){return In(In({},e(function(e,t){t?l.current=!0:l.current&&(t=e.instantSearchInstance,e.widgetParams,Gr(e=Cn(e,Pn),f.current,function(e,t){return(null==e?void 0:e.constructor)===Function&&(null==t?void 0:t.constructor)===Function})&&t.status===m.current||(h(e),f.current=e,m.current=t.status))},function(){l.current=!1})(c)),u)},[e,c,u]),t=Rn(O.useState(function(){var e,t,r,n;return d.getWidgetRenderState?(e=s.getHelper(),t=s.getWidgetUiState({})[s.getIndexId()],e.state=(null==(n=d.getWidgetSearchParameters)?void 0:n.call(d,e.state,{uiState:t}))||e.state,t=(n=rn(s)).results,r=n.scopedResults,n=n.recommendResults,(n=d.getWidgetRenderState({helper:e,parent:s,instantSearchInstance:o,results:"recommend"===d.dependsOn&&n&&a?n[a.recommendIdx.current++]:t,scopedResults:r,state:e.state,renderState:o.renderState,templatesConfig:o.templatesConfig,createURL:s.createURL,searchMetadata:{isSearchStalled:"stalled"===o.status},status:o.status,error:o.error})).widgetParams,Cn(n,jn)):{}}),2),r=t[0],h=t[1];return Sn({widget:d,parentIndex:s,props:c,shouldSsr:Boolean(i),skipSuspense:n}),r}function Tn(e,t){return s(Jr,{searchParameters:e},t)}function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Fn(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Nn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Nn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):kn(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function An(e){return Tn(Fn({},e),{$$widgetType:"ais.configure"}),null}function Mn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _n(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Dn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Dn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Dn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Mn(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ln=a({name:"dynamic-widgets",connector:!0}),Hn=function(u){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(u,Ln()),function(r){var s,e=r.widgets,t=r.maxValuesPerFacet,n=void 0===t?20:t,t=r.facets,i=void 0===t?["*"]:t,t=r.transformItems,a=void 0===t?function(e){return e}:t,c=r.fallbackWidget;if(!(e&&Array.isArray(e)&&e.every(function(e){return"object"===Dn(e)})))throw new Error(Ln("The `widgets` option expects an array of widgets."));if(Array.isArray(i))return s=new Map,{$$type:"ais.dynamicWidgets",init:function(r){e.forEach(function(e){var t=function(e,t){var r=null==(r=e.getWidgetRenderState)?void 0:r.call(e,t),t=null;if(r&&r.widgetParams&&((r=r.widgetParams).attribute?t=r.attribute:Array.isArray(r.attributes)&&(t=r.attributes[0])),"string"!=typeof t)throw new Error("Could not find the attribute of the widget:\n\n".concat(JSON.stringify(e),"\n\nPlease check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly."));return t}(e,r);s.set(t,{widget:e,isMounted:!1})}),u(_n(_n({},this.getWidgetRenderState(r)),{},{instantSearchInstance:r.instantSearchInstance}),!0)},render:function(e){var t=e.parent,i=this.getWidgetRenderState(e),a=[],o=[];c&&i.attributesToRender.forEach(function(e){var t;s.has(e)||(t=c({attribute:e}),s.set(e,{widget:t,isMounted:!1}))}),s.forEach(function(e,t){var r=e.widget,e=e.isMounted,n=-1<i.attributesToRender.indexOf(t);!e&&n?(o.push(r),s.set(t,{widget:r,isMounted:!0})):e&&!n&&(a.push(r),s.set(t,{widget:r,isMounted:!1}))}),t.addWidgets(o),setTimeout(function(){return t.removeWidgets(a)},0),u(_n(_n({},i),{},{instantSearchInstance:e.instantSearchInstance}),!1)},dispose:function(e){var e=e.parent,r=[];s.forEach(function(e){var t=e.widget;e.isMounted&&r.push(t)}),e.removeWidgets(r),o()},getWidgetSearchParameters:function(e){return i.reduce(function(e,t){return e.addFacet(t)},e.setQueryParameters({maxValuesPerFacet:Math.max(n||0,e.maxValuesPerFacet||0)}))},getRenderState:function(e,t){return _n(_n({},e),{},{dynamicWidgets:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results;e.state;if(!t)return{attributesToRender:[],widgetParams:r};e=a(null!=(e=null==(e=t.renderingContent)||null==(e=e.facetOrdering)||null==(e=e.facets)?void 0:e.order)?e:[],{results:t});if(Array.isArray(e))return{attributesToRender:e,widgetParams:r};throw new Error(Ln("The `transformItems` option expects a function that returns an Array."))}};throw new Error(Ln("The `facets` option only accepts an array of facets, you passed ".concat(JSON.stringify(i))))}};function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function $n(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Wn(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Bn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Bn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Wn(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Un(e,t){return s(Hn,$n($n({},e),{},{widgets:[]}),t)}var qn=["children","fallbackComponent"];function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Vn(){return null}function Jn(e){return"object"===Qn(e)&&e.props}function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kn=["initialSearchParameters"],Gn=["initialRecommendParameters"];function Xn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Yn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xn(Object(r),!0).forEach(function(e){ei(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ei(e,t,r){return(t=function(e){e=function(e,t){if("object"!=Zn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Zn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Zn(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ti(e){return function(e){if(Array.isArray(e))return ri(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var r;if(e)return"string"==typeof e?ri(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ri(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ni(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}var ii=a({name:"index-widget"});function ai(e,t){var r=t.state,n=t.recommendState,i=t.isPageReset,t=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:t})),n!==e.recommendState&&(e.recommendState=n)}function oi(e,r,t){return e.reduce(function(e,t){return!Ht(t)&&(t.getWidgetUiState||t.getWidgetState)?t.getWidgetUiState?t.getWidgetUiState(e,r):t.getWidgetState(e,r):e},2<arguments.length&&void 0!==t?t:{})}function si(e,t){var r=t.initialSearchParameters,n=ni(t,Kn);return e.reduce(function(e,t){return!t.getWidgetSearchParameters||Ht(t)?e:"search"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,n):t.getWidgetSearchParameters(e,n)},r)}function ci(e,t){var r=t.initialRecommendParameters,n=ni(t,Gn);return e.reduce(function(e,t){return!Ht(t)&&"recommend"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,n):e},r)}function ui(e){if(void 0===e||void 0===e.indexName&&!e.EXPERIMENTAL_isolated)throw new Error(ii("The `indexName` option is required."));var t=e.indexName,s=void 0===t?"":t,c=void 0===(t=e.indexId)?s:t,u=void 0!==(t=e.EXPERIMENTAL_isolated)&&t,l=[],f={},m=null,d=null,h=null,p=null,g=null,y=!1,v=!1;return{$$type:"ais.index",$$widgetType:"ais.index",_isolated:u,getIndexName:function(){return s},getIndexId:function(){return c},getHelper:function(){return h},getResults:function(){var e;return null!=(e=p)&&e.lastResults?(p.lastResults._state=h.state,p.lastResults):null},getResultsForWidget:function(e){var t;return"recommend"!==e.dependsOn||Ht(e)||void 0===e.$$id?this.getResults():null!=(t=h)&&t.lastRecommendResults?h.lastRecommendResults[e.$$id]:null},getPreviousState:function(){return g},getScopedResults:function(){var e=this.getParent(),e=e?e.getWidgets():0===s.length?this.getWidgets():[this];return function r(e){return e.filter(Ht).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(ti(r(t.getWidgets()))))},[])}(e)},getParent:function(){return u?null:d},createURL:function(e){return"function"==typeof e?m._createURL(ei({},c,e(f))):m._createURL(ei({},c,oi(l,{searchParameters:e,helper:h})))},scheduleLocalSearch:$t(function(){var e;u&&null!=(e=h)&&e.search()}),getWidgets:function(){return l},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(ii("The `addWidgets` method expects an array of widgets."));e=e.reduce(function(e,t){return e.concat(Array.isArray(t)?t:[t])},[]);if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(ii("The widget definition expects a `render` and/or an `init` method."));return e.forEach(function(e){e.parent=t,Ht(e)||(m&&"recommend"===e.dependsOn?m._hasRecommendWidget=!0:m?m._hasSearchWidget=!0:"recommend"===e.dependsOn?y=!0:v=!0,"recommend"===(e=e).dependsOn&&(e.$$id=Fe++))}),l=l.concat(e),m&&Boolean(e.length)&&(ai(h,{state:si(l,{uiState:f,initialSearchParameters:h.state}),recommendState:ci(l,{uiState:f,initialRecommendParameters:h.recommendState}),_uiState:f}),e.forEach(function(e){e.getRenderState&&li({renderState:e.getRenderState(m.renderState[t.getIndexId()]||{},Mr(m,t,m._initialUiState)),instantSearchInstance:m,parent:t})}),e.forEach(function(e){e.init&&e.init(Mr(m,t,m._initialUiState))}),u?this.scheduleLocalSearch():m.scheduleSearch()),this},removeWidgets:function(e){var r=this;if(!Array.isArray(e))throw new Error(ii("The `removeWidgets` method expects an array of widgets."));var t,n=e.reduce(function(e,t){return e.concat(Array.isArray(t)?t:[t])},[]);if(n.some(function(e){return"function"!=typeof e.dispose}))throw new Error(ii("The widget definition expects a `dispose` method."));return(l=l.filter(function(e){return-1===n.indexOf(e)})).forEach(function(e){e.parent=void 0,Ht(e)||(m&&"recommend"===e.dependsOn?m._hasRecommendWidget=!0:m?m._hasSearchWidget=!0:"recommend"===e.dependsOn?y=!0:v=!0)}),m&&Boolean(n.length)&&(t=(e=n.reduce(function(e,t){t=t.dispose({helper:h,state:e.cleanedSearchState,recommendState:e.cleanedRecommendState,parent:r});return t instanceof b.RecommendParameters?e.cleanedRecommendState=t:t&&(e.cleanedSearchState=t),e},{cleanedSearchState:h.state,cleanedRecommendState:h.recommendState})).cleanedSearchState,e=e.cleanedRecommendState,t=m.future.preserveSharedStateOnUnmount?si(l,{uiState:f,initialSearchParameters:new b.SearchParameters({index:this.getIndexName()})}):si(l,{uiState:oi(l,{searchParameters:t,helper:h}),initialSearchParameters:t}),f=oi(l,{searchParameters:t,helper:h}),h.setState(t),h.recommendState=e,l.length)&&(u?this.scheduleLocalSearch():m.scheduleSearch()),this},init:function(e){var t,r,n=this,i=e.instantSearchInstance,a=e.parent,o=e.uiState;null===h&&(m=i,d=a,f=o[c]||{},t=i.mainHelper,e=si(l,{uiState:f,initialSearchParameters:new b.SearchParameters({index:s})}),r=ci(l,{uiState:f,initialRecommendParameters:new b.RecommendParameters}),(h=b(t.getClient(),e.index,e)).recommendState=r,h.search=function(){return u?(i.status="loading",n.render({instantSearchInstance:i}),i.compositionID?h.searchWithComposition():h.searchOnlyWithDerivedHelpers()):i.onStateChange?(i.onStateChange({uiState:i.mainIndex.getWidgetUiState({}),setUiState:function(e){return i.setUiState(e,!1)}}),t):t.search()},h.searchWithoutTriggeringOnStateChange=function(){return t.search()},e=s?h:b({},"__empty_index__",{}),r=u?e:function(e,t){for(;e;){if(e._isolated)return e.getHelper();e=e.getParent()}return t}(a,t),p=r.derive(function(){return Nr.apply(void 0,[t.state].concat(ti(function(e){for(var t=e.getParent(),r=[e.getHelper().state];null!==t;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}(n))))},function(){return n.getHelper().recommendState}),null!=(a=null==(e=i._initialResults)?void 0:e[this.getIndexId()])&&a.results&&(r=new b.SearchResults(new b.SearchParameters(a.state),a.results),p.lastResults=r,h.lastResults=r),null!=a&&a.recommendResults&&(e=new b.RecommendResults(new b.RecommendParameters({params:a.recommendResults.params}),a.recommendResults.results),p.lastRecommendResults=e,h.lastRecommendResults=e),h.on("change",function(e){e.isPageReset&&!function r(e){e=e.filter(Ht);0!==e.length&&e.forEach(function(e){var t=e.getHelper();ai(t,{state:t.state.resetPage(),recommendState:t.recommendState,isPageReset:!0}),r(e.getWidgets())})}(l)}),p.on("search",function(){i.scheduleStalledRender()}),p.on("result",function(e){e=e.results;i.scheduleRender(),h.lastResults=e,g=null==e?void 0:e._state}),p.on("recommend:result",function(e){e=e.recommend;i.scheduleRender(),h.lastRecommendResults=e.results}),l.forEach(function(e){e.getRenderState&&li({renderState:e.getRenderState(i.renderState[n.getIndexId()]||{},Mr(i,n,o)),instantSearchInstance:i,parent:n})}),l.forEach(function(e){e.init&&e.init(Mr(i,n,o))}),h.on("change",function(e){var t=e.state,e=e._uiState;f=oi(l,{searchParameters:t,helper:h},e||{}),i.onStateChange||i.onInternalStateChange()}),a&&i.scheduleRender(),y&&(i._hasRecommendWidget=!0),v)&&(i._hasSearchWidget=!0)},render:function(e){var t=this,r=e.instantSearchInstance,e=("error"===r.status&&!r.mainHelper.hasPendingRequests()&&g&&h.setState(g),this.getResults()||null!=(e=p)&&e.lastRecommendResults||u&&!s?l:l.filter(function(e){return e.shouldRender}));(e=e.filter(function(e){return!e.shouldRender||e.shouldRender({instantSearchInstance:r})})).forEach(function(e){e.getRenderState&&li({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},_r(r,t,e)),instantSearchInstance:r,parent:t})}),e.forEach(function(e){e.render&&e.render(_r(r,t,e))})},dispose:function(){var e,t=this;l.forEach(function(e){e.dispose&&h&&e.dispose({helper:h,state:h.state,recommendState:h.recommendState,parent:t})}),(d=m=null)!=(e=h)&&e.removeAllListeners(),(h=null)!=(e=p)&&e.detach(),p=null},getWidgetUiState:function(e){return l.filter(Ht).filter(function(e){return!e._isolated}).reduce(function(e,t){return t.getWidgetUiState(e)},Yn(Yn({},e),{},ei({},c,Yn(Yn({},e[c]),f))))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){t=t.uiState;return si(l,{uiState:t,initialSearchParameters:e})},shouldRender:function(){return!0},refreshUiState:function(){f=oi(l,{searchParameters:this.getHelper().state,helper:this.getHelper()},f)},setIndexUiState:function(e){var t="function"==typeof e?e(f):e;m.setUiState(function(e){return Yn(Yn({},e),{},ei({},c,t))})}}}function li(e){var t=e.renderState,r=e.instantSearchInstance,e=e.parent,e=(e||r.mainIndex).getIndexId();r.renderState=Yn(Yn({},r.renderState),{},ei({},e,Yn(Yn({},r.renderState[e]),t)))}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?mi(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function di(){return fi(O.useReducer(function(e){return e+1},0),2)[1]}var hi=["children"];function pi(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function gi(e){var t,r,n,i,a,o=e.children,e=pi(e,hi),s=(e=e,t=ln(),r=null==(r=mn())?void 0:r.initialResults,n=on(),i=pn(e),s=(e=O.useMemo(function(){return ui(i)},[i])).getHelper(),a=di(),yn(function(){a()},[s,a]),Sn({widget:e,parentIndex:n,props:i,shouldSsr:Boolean(t||r),skipSuspense:!0}),e);return null===s.getHelper()?null:ee.createElement(nn.Provider,{value:s},o)}function yi(r){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.descendantName,e=e.modifierName,t=t?"-".concat(t):"",e=e?"--".concat(e):"";return"".concat("ais","-").concat(r).concat(t).concat(e)}}var vi=yi("Highlight");var bi=yi("ReverseHighlight");var Si=yi("Snippet");var Oi=yi("ReverseSnippet");function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t){var r,e={method:e,payload:t},t=e.method;if("object"!==wi(e=e.payload))throw new Error("The insights helper expects the payload to be an object.");try{r=Tt(e)}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ri="_ALGOLIA";function Ei(){var e=Ri;if("object"===("undefined"==typeof document?"undefined":ji(document))&&"string"==typeof document.cookie)for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ci(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ii(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=xi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==xi(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Ii(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||ki(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e){return function(e){if(Array.isArray(e))return Fi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ki(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ki(e,t){var r;if(e)return"string"==typeof e?Fi(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fi(e,t):void 0}function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ai="2.17.2",Mi="https://cdn.jsdelivr.net/npm/search-insights@".concat(Ai,"/dist/search-insights.min.js");function _i(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.insightsClient,g=e.insightsInitParams,y=e.onEvent,r=e.$$internal,v=void 0!==r&&r,r=e.$$automatic,b=void 0!==r&&r,a=t,S=(t||null===t||Wr(function(e){var n=e.window,i=n.AlgoliaAnalyticsObject||"aa";(a="string"==typeof i?n[i]:a)||(n.AlgoliaAnalyticsObject=i,n[i]||(n[i]=function(){n[i].queue||(n[i].queue=[]);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n[i].queue.push(t)},n[i].version=Ai,n[i].shouldAddScript=!0),a=n[i])}),a||w);return function(e){var l=e.instantSearchInstance,e=l.middleware.filter(function(e){return"ais.insights"===e.instance.$$type&&e.instance.$$internal}).map(function(e){return e.creator});l.unuse.apply(l,Ni(e));var t,f,m,e=Ti(Kt(l.client),2),r=e[0],e=e[1],d=void 0,h=void 0,p=void 0,n=S.queue;return Array.isArray(n)&&(t=["setUserToken","init"].map(function(t){var e=qt(n.slice().reverse(),function(e){return Ti(e,1)[0]===t})||[];return Ti(e,2)[1]}),t=Ti(t,2),h=t[0],d=t[1]),S("getUserToken",null,function(e,t){p=Li(t)}),!g&&Di(S)||S("init",Ci({appId:r,apiKey:e,partial:!0},g)),{$$type:"ais.insights",$$internal:v,$$automatic:b,onStateChange:function(){},subscribe:function(){if(S.shouldAddScript){var t="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var e=document.createElement("script");e.async=!0,e.src=Mi,e.onerror=function(){l.emit("error",new Error(t))},document.body.appendChild(e),S.shouldAddScript=!1}catch(e){S.shouldAddScript=!1,l.emit("error",new Error(t))}}},started:function(){S("addAlgoliaAgent","insights-middleware"),m=l.mainHelper;var e,r=S.queue,t=(Array.isArray(r)&&(e=["setUserToken","init"].map(function(t){var e=qt(r.slice().reverse(),function(e){return Ti(e,1)[0]===t})||[];return Ti(e,2)[1]}),e=Ti(e,2),h=e[0],d=e[1]),o=(null==(o=(e=l)._initialResults)||null==(o=o[e.indexName])?void 0:o.state)||{},e=e.mainHelper.state,f={userToken:o.userToken||e.userToken,clickAnalytics:o.clickAnalytics||e.clickAnalytics},b||m.overrideStateWithoutTriggeringChangeEvent(Ci(Ci({},m.state),{},{clickAnalytics:!0})),v||l.scheduleSearch(),function(e){var t,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=Li(e);function i(){m.overrideStateWithoutTriggeringChangeEvent(Ci(Ci({},m.state),{},{userToken:n})),t&&t!==e&&l.scheduleSearch()}n&&(t=m.state.userToken,r?i():setTimeout(i,0))});function n(e){t(e,!0),S("setUserToken",e)}var i,a,o=void 0,s=Ei(),s=(o=s||"anonymous-".concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),f.userToken),c=((i=null!=g&&g.userToken?g.userToken:i)?n(i):s?n(s):p?n(p):h?n(h):o&&(n(o),null!=g&&g.useCookie||null!=(i=d)&&i.useCookie)&&(s=o,o=(null==g?void 0:g.cookieDuration)||(null==(i=d)?void 0:i.cookieDuration),(i=new Date).setTime(i.getTime()+(o||15552e6)),o="expires=".concat(i.toUTCString()),document.cookie="_ALGOLIA=".concat(s,";").concat(o,";path=/")),S("onUserTokenChange",function(e){return t(e,!0)},{immediate:!0}),S),u=(Di(S)&&(c=function(e,t){var r=Ti(Kt(l.client),2),n=r[0],r=r[1];return S(e,t,{headers:{"X-Algolia-Application-Id":n,"X-Algolia-API-Key":r}})}),new Set);l.mainHelper.derivedHelpers[0].on("result",function(e){e=e.results;!e||e.queryID&&e.queryID===a||(a=e.queryID,u.clear())}),l.sendEventToInsights=function(e){if(y)y(e,c);else if(e.insightsMethod){if("viewedObjectIDs"===e.insightsMethod){var t=e.payload,r=t.objectIDs.filter(function(e){return!u.has(e)});if(0===r.length)return;r.forEach(function(e){return u.add(e)}),t.objectIDs=r}e.payload.algoliaSource=["instantsearch"],b&&e.payload.algoliaSource.push("instantsearch-automatic"),"internal"===e.eventModifier&&e.payload.algoliaSource.push("instantsearch-internal"),c(e.insightsMethod,e.payload)}}},unsubscribe:function(){S("onUserTokenChange",void 0),l.sendEventToInsights=w,m&&f&&(m.overrideStateWithoutTriggeringChangeEvent(Ci(Ci({},m.state),f)),l.scheduleSearch())}}}}function Di(e){var e=Ti((e.version||"").split(".").map(Number),2),t=e[0],e=e[1];return 3<=t||2===t&&6<=e||1===t&&10<=e}function Li(e){if(e)return"number"==typeof e?e.toString():e}function Hi(e){var e=(0<arguments.length&&void 0!==e?e:{}).$$internal,a=void 0!==e&&e;return function(e){var t=e.instantSearchInstance,r={widgets:[]},n=document.createElement("meta"),i=document.querySelector("head");return n.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:a,onStateChange:function(){},subscribe:function(){setTimeout(function(){r.ua=Zt(t.client),function n(e,i,a){var o=Mr(i,i.mainIndex,i._initialUiState);e.forEach(function(e){var t={},r=(e.getWidgetRenderState&&(r=e.getWidgetRenderState(o))&&r.widgetParams&&(t=r.widgetParams),Object.keys(t).filter(function(e){return void 0!==t[e]}));a.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:r}),"ais.index"===e.$$type&&n(e.getWidgets(),i,a)})}(t.mainIndex.getWidgets(),t,r),t.middleware.forEach(function(e){return r.widgets.push({middleware:!0,type:e.instance.$$type,internal:e.instance.$$internal})}),n.content=JSON.stringify(r),i.appendChild(n)},0)},started:function(){},unsubscribe:function(){n.remove()}}}}function Bi(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r}function Wi(e,t,r,n,i,a,o,s,c,u,l,f,m,d){var h=e;if("function"==typeof o?h=o(t,h):h instanceof Date?h=u(h):"comma"===r&&Gi(h)&&(h=Ji.maybeMap(h,function(e){return e instanceof Date?u(e):e})),null===h){if(n)return a&&!m?a(t,P.encoder,d,"key",l):t;h=""}if(ra(h)||Ji.isBuffer(h)){if(a){e=m?t:a(t,P.encoder,d,"key",l);if("comma"===r&&m){for(var p=Xi.call(String(h),","),g="",y=0;y<p.length;++y)g+=(0===y?"":",")+f(a(p[y],P.encoder,d,"value",l));return[f(e)+"="+g]}return[f(e)+"="+f(a(h,P.encoder,d,"value",l))]}return[f(t)+"="+f(String(h))]}var v,b=[];if(void 0!==h){v="comma"===r&&Gi(h)?[{value:0<h.length?h.join(",")||null:void 0}]:Gi(o)?o:(e=Object.keys(h),s?e.sort(s):e);for(var S=0;S<v.length;++S){var O=v[S],w="object"==typeof O&&void 0!==O.value?O.value:h[O];i&&null===w||(O=Gi(h)?"function"==typeof r?r(t,O):t:t+(c?"."+O:"["+O+"]"),ea(b,Wi(w,O,r,n,i,a,o,s,c,u,l,f,m,d)))}}return b}var $i=String.prototype.replace,Ui=/%20/g,t="RFC3986",qi={default:t,formatters:{RFC1738:function(e){return $i.call(e,Ui,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:t},Qi=Object.prototype.hasOwnProperty,zi=Array.isArray,Vi=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Ji={arrayToObject:Bi,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var c=o[s],u=a[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:c}),r.push(u))}for(var l=t;1<l.length;){var f=l.pop(),m=f.obj[f.prop];if(zi(m)){for(var d=[],h=0;h<m.length;++h)void 0!==m[h]&&d.push(m[h]);f.obj[f.prop]=d}}return e},decode:function(t,e,r){t=t.replace(/\+/g," ");if("iso-8859-1"===r)return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch(e){return t}},encode:function(e,t,r,n,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",s=0;s<a.length;++s){var c=a.charCodeAt(s);45===c||46===c||95===c||126===c||48<=c&&c<=57||65<=c&&c<=90||97<=c&&c<=122||i===qi.RFC1738&&(40===c||41===c)?o+=a.charAt(s):c<128?o+=Vi[c]:c<2048?o+=Vi[192|c>>6]+Vi[128|63&c]:c<55296||57344<=c?o+=Vi[224|c>>12]+Vi[128|c>>6&63]+Vi[128|63&c]:(s+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(s)),o+=Vi[240|c>>18]+Vi[128|c>>12&63]+Vi[128|c>>6&63]+Vi[128|63&c])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(zi(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function n(i,a,o){if(!a)return i;if("object"!=typeof a){if(zi(i))i.push(a);else{if(!i||"object"!=typeof i)return[i,a];(o&&(o.plainObjects||o.allowPrototypes)||!Qi.call(Object.prototype,a))&&(i[a]=!0)}return i}var e;return i&&"object"==typeof i?(zi(e=i)&&!zi(a)&&(e=Bi(i,o)),zi(i)&&zi(a)?(a.forEach(function(e,t){var r;Qi.call(i,t)?(r=i[t])&&"object"==typeof r&&e&&"object"==typeof e?i[t]=n(r,e,o):i.push(e):i[t]=e}),i):Object.keys(a).reduce(function(e,t){var r=a[t];return Qi.call(e,t)?e[t]=n(e[t],r,o):e[t]=r,e},e)):[i].concat(a)}},Zi=Object.prototype.hasOwnProperty,Ki={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Gi=Array.isArray,Xi=String.prototype.split,Yi=Array.prototype.push,ea=function(e,t){Yi.apply(e,Gi(t)?t:[t])},ta=Date.prototype.toISOString,H=qi.default,P={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ji.encode,encodeValuesOnly:!1,format:H,formatter:qi.formatters[H],indices:!1,serializeDate:function(e){return ta.call(e)},skipNulls:!1,strictNullHandling:!1},ra=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},na=Object.prototype.hasOwnProperty,ia=Array.isArray,f={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ji.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},aa=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},oa=function(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e},sa="utf8=%26%2310003%3B",ca="utf8=%E2%9C%93",ua=function(e,t,r,n){for(var i=n?t:oa(t,r),a=e.length-1;0<=a;--a){var o,s,c,u=e[a];"[]"===u&&r.parseArrays?o=[].concat(i):(o=r.plainObjects?Object.create(null):{},s="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,c=parseInt(s,10),r.parseArrays||""!==s?!isNaN(c)&&u!==s&&String(c)===s&&0<=c&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=i:"__proto__"!==s&&(o[s]=i):o={0:i}),i=o}return i},la={formats:qi,parse:function(e,t){var r=function(e){if(!e)return f;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?f:e).charset;return{allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:f).allowPrototypes,arrayLimit:("number"==typeof e.arrayLimit?e:f).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:f).charsetSentinel,comma:("boolean"==typeof e.comma?e:f).comma,decoder:("function"==typeof e.decoder?e:f).decoder,delimiter:("string"==typeof e.delimiter||Ji.isRegExp(e.delimiter)?e:f).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:f.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:f).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:f).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:f).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:f).strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n,i,a,o={},e=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,c=e.split(t.delimiter,s),u=-1,l=t.charset;if(t.charsetSentinel)for(r=0;r<c.length;++r)0===c[r].indexOf("utf8=")&&(c[r]===ca?l="utf-8":c[r]===sa&&(l="iso-8859-1"),u=r,r=c.length);for(r=0;r<c.length;++r)r!==u&&((a=-1===(a=-1===(a=(n=c[r]).indexOf("]="))?n.indexOf("="):a+1)?(i=t.decoder(n,f.decoder,l,"key"),t.strictNullHandling?null:""):(i=t.decoder(n.slice(0,a),f.decoder,l,"key"),Ji.maybeMap(oa(n.slice(a+1),t),function(e){return t.decoder(e,f.decoder,l,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===l&&(a=aa(a)),-1<n.indexOf("[]=")&&(a=ia(a)?[a]:a),na.call(o,i)?o[i]=Ji.combine(o[i],a):o[i]=a);return o}(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o)var s=a[o],s=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=0<r.depth&&/(\[[^[\]]*])/.exec(i),e=o?i.slice(0,o.index):i,s=[];if(e){if(!r.plainObjects&&na.call(Object.prototype,e)&&!r.allowPrototypes)return;s.push(e)}for(var c=0;0<r.depth&&null!==(o=a.exec(i))&&c<r.depth;){if(c+=1,!r.plainObjects&&na.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(o[1])}return o&&s.push("["+i.slice(o.index)+"]"),ua(s,t,r,n)}}(s,n[s],r,"string"==typeof e),i=Ji.merge(i,s,r);return Ji.compact(i)},stringify:function(e,t){var r=e,n=function(e){if(!e)return P;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||P.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=qi.default;if(void 0!==e.format){if(!Zi.call(qi.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=qi.formatters[r],i=P.filter;return"function"!=typeof e.filter&&!Gi(e.filter)||(i=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:P).addQueryPrefix,allowDots:void 0===e.allowDots?P.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:P).charsetSentinel,delimiter:(void 0===e.delimiter?P:e).delimiter,encode:("boolean"==typeof e.encode?e:P).encode,encoder:("function"==typeof e.encoder?e:P).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:P).encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:("function"==typeof e.serializeDate?e:P).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:P).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:P).strictNullHandling}}(t),i=("function"==typeof n.filter?r=(0,n.filter)("",r):Gi(n.filter)&&(o=n.filter),[]);if("object"!=typeof r||null===r)return"";var e=t&&t.arrayFormat in Ki?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat",a=Ki[e],o=o||Object.keys(r);n.sort&&o.sort(n.sort);for(var s=0;s<o.length;++s){var c=o[s];n.skipNulls&&null===r[c]||ea(i,Wi(r[c],c,a,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}t=i.join(n.delimiter),e=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}};function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ha(n.key),n)}}function da(e,t,r){(t=ha(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function ha(e){e=function(e,t){if("object"!=fa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==fa(e)?e:e+""}function pa(e){e&&(window.document.title=e)}var ga=function(){function l(e){var r=this,t=e.windowTitle,n=e.writeDelay,n=void 0===n?400:n,i=e.createURL,a=e.parseURL,o=e.getLocation,s=e.start,c=e.dispose,u=e.push,e=e.cleanUrlOnDispose;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");da(this,"$$type","ais.browser"),da(this,"windowTitle",void 0),da(this,"writeDelay",void 0),da(this,"_createURL",void 0),da(this,"parseURL",void 0),da(this,"getLocation",void 0),da(this,"writeTimer",void 0),da(this,"_onPopState",void 0),da(this,"inPopState",!1),da(this,"isDisposed",!1),da(this,"latestAcknowledgedHistory",0),da(this,"_start",void 0),da(this,"_dispose",void 0),da(this,"_push",void 0),da(this,"_cleanUrlOnDispose",void 0),this.windowTitle=t,this.writeTimer=void 0,this.writeDelay=n,this._createURL=i,this.parseURL=a,this.getLocation=o,this._start=s,this._dispose=c,this._push=u,this._cleanUrlOnDispose=void 0===e||e,Wr(function(e){var e=e.window,t=r.windowTitle&&r.windowTitle(r.read());pa(t),r.latestAcknowledgedHistory=e.history.length})}var e,t,r;return e=l,(t=[{key:"read",value:function(){return this.parseURL({qsModule:la,location:this.getLocation()})}},{key:"write",value:function(i){var a=this;Wr(function(e){var t=e.window,r=a.createURL(i),n=a.windowTitle&&a.windowTitle(i);a.writeTimer&&clearTimeout(a.writeTimer),a.writeTimer=setTimeout(function(){pa(n),a.shouldWrite(r)&&(a._push?a._push(r):t.history.pushState(i,n||"",r),a.latestAcknowledgedHistory=t.history.length),a.inPopState=!1,a.writeTimer=void 0},a.writeDelay)})}},{key:"onUpdate",value:function(e){var t=this;this._start&&this._start(function(){e(t.read())}),this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},Wr(function(e){e.window.addEventListener("popstate",t._onPopState)})}},{key:"createURL",value:function(e){return this._createURL({qsModule:la,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var t=this;this._dispose&&this._dispose(),this.isDisposed=!0,Wr(function(e){e=e.window;t._onPopState&&e.removeEventListener("popstate",t._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return Wr(function(e){var t,e=e.window;return!(n.isDisposed&&!n._cleanUrlOnDispose)&&(t=!(n.isDisposed&&n.latestAcknowledgedHistory!==e.history.length),!n.inPopState)&&t&&r!==e.location.href})}}])&&ma(e.prototype,t),r&&ma(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}();function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var va=["configure"];function ba(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Sa(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ba(Object(r),!0).forEach(function(e){Oa(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Oa(e,t,r){return(t=function(e){e=function(e,t){if("object"!=ya(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=ya(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ya(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wa(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Pa(e){e.configure;return wa(e,va)}function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ea(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ra(Object(r),!0).forEach(function(e){xa(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ra(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function xa(e,t,r){return(t=function(e){e=function(e,t){if("object"!=ja(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ja(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ia(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.router,i=void 0===t?function(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.createURL,r=e.parseURL,n=e.writeDelay,i=e.windowTitle,a=e.getLocation,o=e.start,s=e.dispose,c=e.push,e=e.cleanUrlOnDispose;return new ga({createURL:void 0===t?function(e){var t=e.qsModule,r=e.routeState,e=e.location,n=e.protocol,i=e.hostname,a=e.port,a=void 0===a?"":a,o=e.pathname,e=e.hash,t=t.stringify(r),r=""===a?"":":".concat(a);return(t?"".concat(n,"//").concat(i).concat(r).concat(o,"?").concat(t):"".concat(n,"//").concat(i).concat(r).concat(o)).concat(e)}:t,parseURL:void 0===r?function(e){var t=e.qsModule,e=e.location;return t.parse(e.search.slice(1),{arrayLimit:99})}:r,writeDelay:void 0===n?400:n,windowTitle:i,getLocation:void 0===a?function(){return Wr(function(e){return e.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:a,start:o,dispose:s,push:c,cleanUrlOnDispose:e})}():t,a=void 0===(t=e.stateMapping)?{$$type:"ais.simple",stateToRoute:function(r){return Object.keys(r).reduce(function(e,t){return Sa(Sa({},e),{},Oa({},t,Pa(r[t])))},{})},routeToState:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(r).reduce(function(e,t){return Sa(Sa({},e),{},Oa({},t,Pa(r[t])))},{})}}:t,o=void 0!==(t=e.$$internal)&&t;return function(e){var t=e.instantSearchInstance;t._createURL=function(r){var e=0===t.mainIndex.getWidgets().length?t._initialUiState:t.mainIndex.getWidgetUiState({}),e=Object.keys(r).reduce(function(e,t){return Ea(Ea({},e),{},xa({},t,r[t]))},e),e=a.stateToRoute(e);return i.createURL(e)};var r=void 0,n=t._initialUiState;return{$$type:"ais.router({router:".concat(i.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:o,onStateChange:function(e){e=e.uiState,e=a.stateToRoute(e);void 0!==r&&wr(r,e)||(i.write(e),r=e)},subscribe:function(){t._initialUiState=Ea(Ea({},n),a.routeToState(i.read())),i.onUpdate(function(e){0<t.mainIndex.getWidgets().length&&t.setUiState(a.routeToState(e))})},started:function(){var e;null!=(e=i.start)&&e.call(i)},unsubscribe:function(){i.dispose()}}}}function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ta(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Na(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ta(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Ca(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ca(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Ta(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ka(e){var r=e.numberLocale;return{formatNumber:function(e,t){return Number(t(e)).toLocaleString(r)},highlight:function(e,t){try{var r=JSON.parse(e);return t((n=Na(Na({},r),{},{hit:this}),i=n.attribute,a=void 0===(a=n.highlightedTagName)?"mark":a,o=n.hit,n=void 0===(n=n.cssClasses)?{}:n,i=void 0===(o=(Yt(o._highlightResult,i)||{}).value)?"":o,o=vi({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):""),i.replace(new RegExp(bt.highlightPreTag,"g"),"<".concat(a,' class="').concat(o,'">')).replace(new RegExp(bt.highlightPostTag,"g"),"</".concat(a,">"))))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}var n,i,a,o},reverseHighlight:function(e,t){try{var r=JSON.parse(e);return t((n=Na(Na({},r),{},{hit:this}),i=n.attribute,a=void 0===(a=n.highlightedTagName)?"mark":a,o=n.hit,n=void 0===(n=n.cssClasses)?{}:n,i=void 0===(o=(Yt(o._highlightResult,i)||{}).value)?"":o,o=bi({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):""),Pt(Br(Gt(i))).replace(new RegExp(bt.highlightPreTag,"g"),"<".concat(a,' class="').concat(o,'">')).replace(new RegExp(bt.highlightPostTag,"g"),"</".concat(a,">"))))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}var n,i,a,o},snippet:function(e,t){try{var r=JSON.parse(e);return t((n=Na(Na({},r),{},{hit:this}),i=n.attribute,a=void 0===(a=n.highlightedTagName)?"mark":a,o=n.hit,n=void 0===(n=n.cssClasses)?{}:n,i=void 0===(o=(Yt(o._snippetResult,i)||{}).value)?"":o,o=Si({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):""),i.replace(new RegExp(bt.highlightPreTag,"g"),"<".concat(a,' class="').concat(o,'">')).replace(new RegExp(bt.highlightPostTag,"g"),"</".concat(a,">"))))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}var n,i,a,o},reverseSnippet:function(e,t){try{var r=JSON.parse(e);return t((n=Na(Na({},r),{},{hit:this}),i=n.attribute,a=void 0===(a=n.highlightedTagName)?"mark":a,o=n.hit,n=void 0===(n=n.cssClasses)?{}:n,i=void 0===(o=(Yt(o._snippetResult,i)||{}).value)?"":o,o=Oi({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):""),Pt(Br(Gt(i))).replace(new RegExp(bt.highlightPreTag,"g"),"<".concat(a,' class="').concat(o,'">')).replace(new RegExp(bt.highlightPostTag,"g"),"</".concat(a,">"))))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}var n,i,a,o},insights:function(e,t){try{var r=JSON.parse(e),n=r.method,i=r.payload;return t(Pi(n,Na({objectIDs:[this.objectID]},i)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aa(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ma(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Aa(Object(r),!0).forEach(function(e){v(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aa(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wa(n.key),n)}}function Da(e,t){return(Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function La(r){var n=Ha();return function(){var e,t=Ba(r),t=(e=n?(e=Ba(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"==Fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ha=function(){return!!e})()}function Ba(e){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){(t=Wa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function Wa(e){e=function(e,t){if("object"!=Fa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Fa(e)?e:e+""}var $a=a({name:"instantsearch"});function Ua(){return"#"}var qa={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},Qa=function(){var e=p,t=k;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Da(e,t);var r,h=La(p);function p(e){var r;if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");v(g(r=h.call(this)),"client",void 0),v(g(r),"indexName",void 0),v(g(r),"compositionID",void 0),v(g(r),"insightsClient",void 0),v(g(r),"onStateChange",null),v(g(r),"future",void 0),v(g(r),"helper",void 0),v(g(r),"mainHelper",void 0),v(g(r),"mainIndex",void 0),v(g(r),"started",void 0),v(g(r),"templatesConfig",void 0),v(g(r),"renderState",{}),v(g(r),"_stalledSearchDelay",void 0),v(g(r),"_searchStalledTimer",void 0),v(g(r),"_initialUiState",void 0),v(g(r),"_initialResults",void 0),v(g(r),"_manuallyResetScheduleSearch",!1),v(g(r),"_resetScheduleSearch",void 0),v(g(r),"_createURL",void 0),v(g(r),"_searchFunction",void 0),v(g(r),"_mainHelperSearch",void 0),v(g(r),"_hasSearchWidget",!1),v(g(r),"_hasRecommendWidget",!1),v(g(r),"_insights",void 0),v(g(r),"middleware",[]),v(g(r),"sendEventToInsights",void 0),v(g(r),"status","idle"),v(g(r),"error",void 0),v(g(r),"scheduleSearch",$t(function(){r.started&&r.mainHelper.search()})),v(g(r),"scheduleRender",$t(function(){var e,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];null!=(e=r.mainHelper)&&e.hasPendingRequests()||(clearTimeout(r._searchStalledTimer),r._searchStalledTimer=null,t&&(r.status="idle",r.error=void 0)),r.mainIndex.render({instantSearchInstance:g(r)}),r.emit("render")})),v(g(r),"onInternalStateChange",$t(function(){var t=r.mainIndex.getWidgetUiState({});r.middleware.forEach(function(e){e.instance.onStateChange({uiState:t})})})),r.setMaxListeners(100);var t=e.indexName,t=void 0===t?"":t,n=e.compositionID,i=e.numberLocale,a=e.initialUiState,a=void 0===a?{}:a,o=e.routing,o=void 0===o?null:o,s=e.insights,s=void 0===s?void 0:s,c=e.searchFunction,u=e.stalledSearchDelay,u=void 0===u?200:u,l=e.searchClient,l=void 0===l?null:l,f=e.insightsClient,f=void 0===f?null:f,m=e.onStateChange,m=void 0===m?null:m,d=e.future,e=void 0===d?Ma(Ma({},qa),e.future||{}):d;if(null===l)throw new Error($a("The `searchClient` option is required."));if("function"!=typeof l.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof l.addAlgoliaAgent&&l.addAlgoliaAgent("instantsearch.js (".concat("4.87.1",")")),f&&"function"!=typeof f)throw new Error($a("The `insightsClient` option should be a function."));return r.client=l,r.future=e,r.insightsClient=f,r.indexName=t,r.compositionID=n,r.helper=null,r.mainHelper=null,r.mainIndex=ui({indexName:r.compositionID||r.indexName}),r.onStateChange=m,r.started=!1,r.templatesConfig={helpers:ka({numberLocale:i}),compileOptions:{}},r._stalledSearchDelay=u,r._searchStalledTimer=null,r._createURL=Ua,r._initialUiState=a,r._initialResults=null,r._insights=s,c&&(r._searchFunction=c),r.sendEventToInsights=w,o&&((d="boolean"==typeof o?{}:o).$$internal=!0,r.use(Ia(d))),s&&((l="boolean"==typeof s?{}:s).$$internal=!0,r.use(_i(l))),Wr(function(e){return-1<(null==(e=e.window.navigator)||null==(e=e.userAgent)?void 0:e.indexOf("Algolia Crawler"))},{fallback:function(){return!1}})&&r.use(Hi({$$internal:!0})),r}return e=p,(t=[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var r=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.map(function(e){var t=Ma({$$type:"__unknown__",$$internal:!1,subscribe:w,started:w,unsubscribe:w,onStateChange:w},e({instantSearchInstance:r}));return r.middleware.push({creator:e,instance:t}),t});return this.started&&i.forEach(function(e){e.subscribe(),e.started()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error($a("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(this.compositionID&&e.some(function(e){return!Array.isArray(e)&&Ht(e)&&!e._isolated}))throw new Error($a("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(Array.isArray(e))return this.mainIndex.removeWidgets(e),this;throw new Error($a("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."))}},{key:"start",value:function(){var n=this;if(this.started)throw new Error($a("The `start` method has already been called once."));var r,e,t,i,a,o=this.mainHelper||b(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});this.compositionID&&(o.searchForFacetValues=o.searchForCompositionFacetValues.bind(o)),o.search=function(){return n.status="loading",n.scheduleRender(!1),n._hasSearchWidget&&(n.compositionID?o.searchWithComposition():o.searchOnlyWithDerivedHelpers()),n._hasRecommendWidget&&o.recommend(),o},this._searchFunction&&(r={search:function(){return new Promise(w)}},this._mainHelperSearch=o.search.bind(o),o.search=function(){var t=n.mainIndex.getHelper(),e=b(r,t.state.index,t.state);return e.once("search",function(e){e=e.state;t.overrideStateWithoutTriggeringChangeEvent(e),n._mainHelperSearch()}),e.on("change",function(e){e=e.state;t.setState(e)}),n._searchFunction(e),o}),o.on("error",function(e){var r,e=e.error;e instanceof Error||(r=e,e=Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},new Error(r.message))),e.error=e,n.error=e,n.status="error",n.scheduleRender(!1),n.emit("error",e)}),this.mainHelper=o,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults?(br(this.client,this._initialResults),t=this.mainHelper,i=this._initialResults,a=Object.keys(i).reduce(function(e,t){t=i[t];return t.recommendResults?mr(mr({},e),t.recommendResults.results):e},{}),t._recommendCache=a,e=this.scheduleSearch,this.scheduleSearch=$t(w),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){n.scheduleSearch=e}:$t(function(){n.scheduleSearch=e})()):0<this.mainIndex.getWidgets().length&&this.scheduleSearch(),this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(e){e.instance.started()}),void 0===this._insights&&o.derivedHelpers[0].once("result",function(){n.mainIndex.getScopedResults().some(function(e){e=e.results;return null==e?void 0:e._automaticInsights})&&n.use(_i({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var e;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),null!=(e=this.mainHelper)&&e.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e.status="stalled",e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t=this,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error($a("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var n="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;this.onStateChange&&r?this.onStateChange({uiState:n,setUiState:function(e){Bt("function"==typeof e?e(n):e,t.mainIndex),t.scheduleSearch(),t.onInternalStateChange()}}):(Bt(n,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){if(this.started)return this._createURL(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});throw new Error($a("The `start` method needs to be called before `createURL`."))}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error($a("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}])&&_a(e.prototype,t),r&&_a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),p}();function c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u(e,t){return e(t={exports:{}},t.exports),t.exports}var za="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Va=ee.useState,Ja=ee.useEffect,Za=ee.useLayoutEffect,Ka=ee.useDebugValue;function Ga(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!za(e,r)}catch(e){return 1}}var r="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=Va({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Za(function(){i.value=r,i.getSnapshot=t,Ga(i)&&a({inst:i})},[e,r,t]),Ja(function(){return Ga(i)&&a({inst:i}),e(function(){Ga(i)&&a({inst:i})})},[e]),Ka(r),r},Xa={useSyncExternalStore:void 0!==ee.useSyncExternalStore?ee.useSyncExternalStore:r},Ya=(u(function(e,t){}).useSyncExternalStore,u(function(e){e.exports=Xa}).useSyncExternalStore);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ro(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?to(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=eo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==eo(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):to(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var no=["react (".concat(O.version,")"),"react-instantsearch (".concat(I,")"),"react-instantsearch-core (".concat(I,")")],io="react-instantsearch-server (".concat(I,")"),ao=function(e){return e?"next.js (".concat(e,")"):null};function oo(e){var t,r=di(),n=ln(),i=mn(),a=bn().waitForResultsRef,o=null==i?void 0:i.initialResults,s=O.useRef(e),a=n||o||a,c=O.useRef(null),o=(null===(c=null!=i&&i.ssrSearchRef?i.ssrSearchRef:c).current&&((t=new Qa(e))._schedule=function(e){t._schedule.queue.push(e),clearTimeout(t._schedule.timer),t._schedule.timer=setTimeout(function(){t._schedule.queue.forEach(function(e){e()}),t._schedule.queue=[]},0)},t._schedule.queue=[],a&&(t._initialResults=o||{},t._manuallyResetScheduleSearch=!0),so(e.searchClient,[].concat(no,[n&&io,ao("undefined"!=typeof window&&(null==(u=window.next)?void 0:u.version)||(void 0===rt||null==(u=rt.env)?void 0:u.NEXT_RUNTIME))])),a&&t.start(),n&&n.notifyServer({search:t}),e.routing,c.current=t),c.current),u=s.current,l=(u.indexName!==e.indexName&&(o.helper.setIndex(e.indexName||"").search(),s.current=e),u.searchClient!==e.searchClient&&(so(e.searchClient,[].concat(no,[n&&io])),o.mainHelper.setClient(e.searchClient).search(),s.current=e),u.onStateChange!==e.onStateChange&&(o.onStateChange=e.onStateChange,s.current=e),u.searchFunction!==e.searchFunction&&(o._searchFunction=e.searchFunction,s.current=e),u.stalledSearchDelay!==e.stalledSearchDelay&&(o._stalledSearchDelay=null!=(a=e.stalledSearchDelay)?a:200,s.current=e),Gr(u.future,e.future)||(o.future=ro(ro({},qa),e.future),s.current=e),O.useRef(null));return Ya(O.useCallback(function(){var e=c.current;return null===l.current?e.started||(e.start(),r()):(clearTimeout(l.current),e._preventWidgetCleanup=!1),function(){null!=i&&i.ssrSearchRef||(clearTimeout(e._schedule.timer),l.current=setTimeout(function(){e.dispose()}),e._preventWidgetCleanup=!0)}},[r,i]),function(){return c.current},function(){return c.current})}function so(t,e){"function"==typeof t.addAlgoliaAgent&&e.filter(Boolean).forEach(function(e){t.addAlgoliaAgent(e)})}var co=["children"];function uo(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function lo(e){var t=e.search;return O.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var mo=["children"];function ho(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function po(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ho(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=fo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==fo(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ho(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function go(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function yo(e){var t=e.children,e=go(e,mo),r=ee.useRef(null),n=ee.useRef(0);return 0===Object.keys(e).length?ee.createElement(ee.Fragment,null,t):ee.createElement(fn.Provider,{value:po(po({},e),{},{ssrSearchRef:r,recommendIdx:n})},t)}function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function So(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bo(Object(r),!0).forEach(function(e){Oo(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Oo(e,t,r){return(t=function(e){e=function(e,t){if("object"!=vo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==vo(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wo(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,Po()),function(s){var e=s||{},t=e.escapeHTML,c=void 0===t||t,t=e.transformItems,u=void 0===t?function(e){return e}:t,l={};return{$$type:"ais.autocomplete",init:function(e){var t=e.instantSearchInstance;r(So(So({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance,e=this.getWidgetRenderState(e);e.indices.forEach(function(e){(0,e.sendEvent)("view:internal",e.hits)}),r(So(So({},e),{},{instantSearchInstance:t}),!1)},getRenderState:function(e,t){return So(So({},e),{},{autocomplete:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var r=this,t=e.helper,n=e.state,i=e.scopedResults,a=e.instantSearchInstance,o=(l.refine||(l.refine=function(e){t.setQuery(e).search()}),{}),e=i.map(function(e){var t;return e.results&&(e.results.hits=c?wt(e.results.hits):e.results.hits),o[e.indexId]=Dt({instantSearchInstance:a,helper:e.helper,widgetType:r.$$type}),{indexId:e.indexId,indexName:(null==(t=e.results)?void 0:t.index)||"",hits:(null==(t=e.results)?void 0:t.hits)||[],results:e.results||{}}});return{currentRefinement:n.query||"",indices:u(e).map(function(e){return So(So({},e),{},{sendEvent:o[e.indexId]})}),refine:l.refine,widgetParams:s}},getWidgetUiState:function(e,t){t=t.searchParameters.query||"";return""===t||e&&e.query===t?e:So(So({},e),{},{query:t})},getWidgetSearchParameters:function(e,t){t={query:t.uiState.query||""};return c?e.setQueryParameters(So(So({},t),T)):e.setQueryParameters(t)},dispose:function(e){e=e.state,n(),e=e.setQueryParameter("query",void 0);return c?e.setQueryParameters(Object.keys(T).reduce(function(e,t){return So(So({},e),{},Oo({},t,void 0))},{})):e}}}}var Po=a({name:"autocomplete",connector:!0});function jo(e,t){return s(wo,e,t)}function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function xo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Eo(Object(r),!0).forEach(function(e){Io(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Eo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Io(e,t,r){return(t=function(e){e=function(e,t){if("object"!=Ro(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Ro(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ro(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?To(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?To(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function To(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var No=a({name:"breadcrumb",connector:!0}),ko=function(a){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w,f=(h(a,No()),{});return function(o){var s,e=o||{},r=e.attributes,t=e.separator,n=void 0===t?" > ":t,t=e.rootPath,i=void 0===t?null:t,t=e.transformItems,c=void 0===t?function(e){return e}:t;if(r&&Array.isArray(r)&&0!==r.length)return s=Co(r,1)[0],{$$type:"ais.breadcrumb",init:function(e){a(xo(xo({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){a(xo(xo({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!1)},dispose:function(){l()},getRenderState:function(e,t){return xo(xo({},e),{},{breadcrumb:xo(xo({},e.breadcrumb),{},Io({},s,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var r=this,n=e.helper,i=e.createURL,t=e.results,e=e.state;var a,e=t&&0!==e.hierarchicalFacets.length?(e=(e=t.getFacetValues(s,{}))&&!Array.isArray(e)&&e.data?e.data:[],c((a=function r(e){return e.reduce(function(e,t){return e=t.isRefined&&(e.push({label:t.name,value:t.escapedValue}),Array.isArray(t.data))?e.concat(r(t.data)):e},[])}(e)).map(function(e,t){return{label:e.label,value:t+1===a.length?null:a[t+1].value}}),{results:t})):[];return f.createURL||(f.createURL=function(t){return i(function(e){return r.getWidgetUiState(e,{searchParameters:u(n.state,t),helper:n})})}),f.refine||(f.refine=function(e){n.setState(u(n.state,e)).search()}),{canRefine:0<e.length,createURL:f.createURL,items:e,refine:f.refine,widgetParams:o}},getWidgetUiState:function(e,t){var t=t.searchParameters.getHierarchicalFacetBreadcrumb(s);return e=xo(xo({},e),{},{hierarchicalMenu:xo(xo({},e.hierarchicalMenu),{},Io({},s,t))}),t=s,e.hierarchicalMenu&&(e.hierarchicalMenu[t]&&e.hierarchicalMenu[t].length||delete e.hierarchicalMenu[t],0===Object.keys(e.hierarchicalMenu).length)&&delete e.hierarchicalMenu,e},getWidgetSearchParameters:function(e,t){t=t.uiState,t=t.hierarchicalMenu&&t.hierarchicalMenu[s];if(e.isConjunctiveFacet(s)||e.isDisjunctiveFacet(s))return e;e.isHierarchicalFacet(s)&&e.getHierarchicalFacetByName(s);e=e.removeHierarchicalFacet(s).addHierarchicalFacet({name:s,attributes:r,separator:n,rootPath:i});return t?e.addHierarchicalFacetRefinement(s,t.join(n)):e.setQueryParameters({hierarchicalFacetsRefinements:xo(xo({},e.hierarchicalFacetsRefinements),{},Io({},s,[]))})}};throw new Error(No("The `attributes` option expects an array of strings."));function u(e,t){return t?e.resetPage().toggleFacetRefinement(s,t):0===(t=e.getHierarchicalFacetBreadcrumb(s)).length?e:e.resetPage().toggleFacetRefinement(s,t[0])}}};function Fo(e,t){return s(ko,e,t)}function Ao(e){var t;return e.startsWith("data:")?"[DONE]"===(t=e.slice(5).trim())?null:t:e.startsWith("{")?e:null}function Mo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Do(n.key),n)}}function _o(e,t,r){(t=Do(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function Do(e){e=function(e,t){if("object"!=Lo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Lo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Lo(e)?e:e+""}function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ho(){return Math.random().toString(36).substring(2,9)}function Bo(e){return"object"===Lo(e)&&null!==e&&"string"==typeof(e=e).type&&(e.type.startsWith("tool-")||"dynamic-tool"===e.type)}function Wo(e){var e=e.messages;return 0!==e.length&&"assistant"===(e=e[e.length-1]).role&&!(!e.parts||0===e.parts.length)&&0!==(e=e.parts.filter(Bo)).length&&e.every(function(e){return"output-available"===e.state||"output-error"===e.state})}var $o=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");_o(this,"queue",[]),_o(this,"isRunning",!1)}var t,r,n;return t=e,(r=[{key:"run",value:function(e){var n=this;return new Promise(function(t,r){n.queue.push(function(){return e().then(function(e){t(e)},function(e){r(e)})}),n.processQueue()})}},{key:"processQueue",value:function(){var r=this;this.isRunning||(this.isRunning=!0,function e(){var t;0===r.queue.length?r.isRunning=!1:(t=r.queue.shift())&&t().then(e,e)}())}}])&&Mo(t.prototype,r),n&&Mo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Uo(e){return void 0===e?Promise.resolve(void 0):"function"==typeof e?Promise.resolve(e()):Promise.resolve(e)}var qo=["messageId"];function Qo(e){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zo(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function S(e){return function(e){if(Array.isArray(e))return Vo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var r;if(e)return"string"==typeof e?Vo(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Jo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jo(Object(r),!0).forEach(function(e){m(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Zo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ko(n.key),n)}}function m(e,t,r){(t=Ko(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function Ko(e){e=function(e,t){if("object"!=Qo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Qo(e)?e:e+""}var Go=function(){function l(e){var o=this,t=e.generateId,t=void 0===t?Ho:t,r=e.id,r=void 0===r?t():r,n=e.transport,i=e.state,a=e.onError,s=e.onToolCall,c=e.onFinish,u=e.onData,e=e.sendAutomaticallyWhen;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");m(this,"id",void 0),m(this,"generateId",void 0),m(this,"state",void 0),m(this,"transport",void 0),m(this,"onError",void 0),m(this,"onToolCall",void 0),m(this,"onFinish",void 0),m(this,"onData",void 0),m(this,"sendAutomaticallyWhen",void 0),m(this,"activeResponse",null),m(this,"jobExecutor",new $o),m(this,"sendMessage",function(n,i){return o.jobExecutor.run(function(){var t,r;return(n?(t=n.messageId||o.generateId(),"parts"in n&&n.parts?Promise.resolve(j({id:t,role:"user"},n)):"text"in n&&n.text?(r=[{type:"text",text:n.text}],n.files?o.convertFilesToParts(n.files).then(function(e){return r.push.apply(r,S(e)),{id:t,role:"user",parts:r,metadata:n.metadata}}):Promise.resolve({id:t,role:"user",parts:r,metadata:n.metadata})):"files"in n&&n.files?o.convertFilesToParts(n.files).then(function(e){return{id:t,role:"user",parts:e,metadata:n.metadata}}):Promise.resolve(void 0)):Promise.resolve(void 0)).then(function(e){return e&&o.state.pushMessage(e),o.makeRequest(j({trigger:"submit-message",messageId:null==e?void 0:e.id},i))})})}),m(this,"regenerate",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=e.messageId,n=zo(e,qo);return o.jobExecutor.run(function(){var e=-1;if(r)e=o.state.messages.findIndex(function(e){return e.id===r});else for(var t=o.state.messages.length-1;0<=t;t--)if("assistant"===o.state.messages[t].role){e=t;break}return 0<=e&&(o.state.messages=o.state.messages.slice(0,e)),o.makeRequest(j({trigger:"regenerate-message",messageId:r},n))})}),m(this,"resumeStream",function(e){return o.jobExecutor.run(function(){return o.transport?(o.setStatus({status:"submitted"}),o.transport.reconnectToStream(j({chatId:o.id},e)).then(function(e){return e?o.processStreamWithCallbacks(e):(o.setStatus({status:"ready"}),Promise.resolve())},function(e){return o.handleError(e),Promise.resolve()})):Promise.reject(new Error("Transport is required for resuming stream. Please provide a transport when initializing the chat."))})}),m(this,"clearError",function(){"error"===o.state.status&&o.setStatus({status:"ready",error:void 0})}),m(this,"addToolResult",function(e){var n=e.tool,i=e.toolCallId,a=e.output;return o.jobExecutor.run(function(){var e,t,r=o.state.messages.findIndex(function(e){return null!=(e=null==(e=e.parts)?void 0:e.some(function(e){return"toolCallId"in e&&e.toolCallId===i||"type"in e&&e.type==="tool-".concat(String(n))}))&&e});return-1!==r&&(t=(e=o.state.messages[r]).parts.map(function(e){return"toolCallId"in e&&e.toolCallId===i&&"state"in e?j(j({},e),{},{state:"output-available",output:a}):e}),o.state.replaceMessage(r,j(j({},e),{},{parts:t})),o.sendAutomaticallyWhen)?Promise.resolve(o.sendAutomaticallyWhen({messages:o.state.messages})).then(function(e){return e?o.makeRequest({trigger:"submit-message"}):Promise.resolve()}):Promise.resolve()})}),m(this,"stop",function(){return o.activeResponse&&(o.activeResponse.abortController.abort(),o.activeResponse=null),o.setStatus({status:"ready"}),Promise.resolve()}),this.id=r,this.generateId=t,this.state=i,this.transport=n,this.onError=a,this.onToolCall=s,this.onFinish=c,this.onData=u,this.sendAutomaticallyWhen=e}var e,t,r;return e=l,(t=[{key:"status",get:function(){return this.state.status}},{key:"setStatus",value:function(e){var t=e.status,e=e.error;this.state.status=t,void 0!==e&&(this.state.error=e)}},{key:"error",get:function(){return this.state.error}},{key:"messages",get:function(){return this.state.messages},set:function(e){this.state.messages=e}},{key:"lastMessage",get:function(){return this.state.messages[this.state.messages.length-1]}},{key:"makeRequest",value:function(e){var t=this;if(!this.transport)return Promise.reject(new Error("Transport is required for sending messages. Please provide a transport when initializing the chat."));this.activeResponse&&this.activeResponse.abortController.abort();var r=new AbortController;return this.activeResponse={abortController:r},this.setStatus({status:"submitted"}),this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:r.signal,trigger:e.trigger,messageId:e.messageId,headers:e.headers,body:e.body,requestMetadata:e.metadata}).then(function(e){return t.activeResponse.stream=e,t.processStreamWithCallbacks(e)},function(e){return"AbortError"!==e.name&&t.handleError(e),Promise.resolve()})}},{key:"processStreamWithCallbacks",value:function(e){var s,c,u,l,f=this,m=(this.setStatus({status:"streaming"}),-1),d=!1,r=!1,h=!1,p=Promise.resolve();return new Promise(function(t){var n,i,a,o;n=function(t){switch(t.type){case"start":s=t.messageId||f.generateId();var e=f.lastMessage;m=(e&&"assistant"===e.role&&e.id===s?c=e:(c={id:s,role:"assistant",parts:[],metadata:t.messageMetadata},f.state.pushMessage(c)),f.state.messages.length-1);break;case"text-start":c&&(u=t.id,e={type:"text",text:"",state:"streaming",providerMetadata:t.providerMetadata},c=j(j({},c),{},{parts:[].concat(S(c.parts),[e])}),f.state.replaceMessage(m,c));break;case"text-delta":c&&u&&-1!==(e=c.parts.findIndex(function(e){return"text"===e.type&&"streaming"===e.state}))&&(i=(n=S(c.parts))[e],n[e]=j(j({},i),{},{text:i.text+t.delta}),c=j(j({},c),{},{parts:n}),f.state.replaceMessage(m,c));break;case"text-end":c&&-1!==(e=c.parts.findIndex(function(e){return"text"===e.type&&"streaming"===e.state}))&&(n=(i=S(c.parts))[e],i[e]=j(j({},n),{},{state:"done"}),c=j(j({},c),{},{parts:i}),f.state.replaceMessage(m,c),u=void 0);break;case"reasoning-start":c&&(l=t.id,e={type:"reasoning",text:"",state:"streaming",providerMetadata:t.providerMetadata},c=j(j({},c),{},{parts:[].concat(S(c.parts),[e])}),f.state.replaceMessage(m,c));break;case"reasoning-delta":c&&l&&-1!==(n=c.parts.findIndex(function(e){return"reasoning"===e.type&&"streaming"===e.state}))&&(e=(i=S(c.parts))[n],i[n]=j(j({},e),{},{text:e.text+t.delta}),c=j(j({},c),{},{parts:i}),f.state.replaceMessage(m,c));break;case"reasoning-end":c&&-1!==(n=c.parts.findIndex(function(e){return"reasoning"===e.type&&"streaming"===e.state}))&&(i=(e=S(c.parts))[n],e[n]=j(j({},i),{},{state:"done"}),c=j(j({},c),{},{parts:e}),f.state.replaceMessage(m,c),l=void 0);break;case"tool-input-start":c&&(n={type:"tool-".concat(t.toolName),toolCallId:t.toolCallId,state:"input-streaming",input:t.input,providerExecuted:t.providerExecuted},c=j(j({},c),{},{parts:[].concat(S(c.parts),[n])}),f.state.replaceMessage(m,c));break;case"tool-input-delta":break;case"tool-input-available":var r;c&&(i=c.parts.findIndex(function(e){return"toolCallId"in e&&e.toolCallId===t.toolCallId}),e={type:"tool-".concat(t.toolName),toolCallId:t.toolCallId,state:"input-available",input:t.input,callProviderMetadata:t.callProviderMetadata,providerExecuted:t.providerExecuted},c=0<=i?((n=S(c.parts))[i]=e,j(j({},c),{},{parts:n})):j(j({},c),{},{parts:[].concat(S(c.parts),[e])}),f.state.replaceMessage(m,c),f.onToolCall)&&!t.providerExecuted&&(r=f.onToolCall({toolCall:{toolName:t.toolName,toolCallId:t.toolCallId,input:t.input}}))&&"function"==typeof r.then&&(p=p.then(function(){return r}));break;case"tool-output-available":c&&0<=(i=c.parts.findIndex(function(e){return"toolCallId"in e&&e.toolCallId===t.toolCallId}))&&(e=(n=S(c.parts))[i],n[i]=j(j({},e),{},{state:"output-available",output:t.output,callProviderMetadata:t.callProviderMetadata,preliminary:t.preliminary}),c=j(j({},c),{},{parts:n}),f.state.replaceMessage(m,c));break;case"tool-error":c&&0<=(i=c.parts.findIndex(function(e){return"toolCallId"in e&&e.toolCallId===t.toolCallId}))&&(n=(e=S(c.parts))[i],e[i]=j(j({},n),{},{state:"output-error",errorText:t.errorText,input:null!=(i=t.input)?i:n.input,callProviderMetadata:t.callProviderMetadata}),c=j(j({},c),{},{parts:e}),f.state.replaceMessage(m,c));break;case"source-url":c&&(i={type:"source-url",sourceId:t.sourceId,url:t.url,title:t.title},c=j(j({},c),{},{parts:[].concat(S(c.parts),[i])}),f.state.replaceMessage(m,c));break;case"source-document":c&&(n={type:"source-document",sourceId:t.sourceId,mediaType:t.mediaType,title:t.title,filename:t.filename,providerMetadata:t.providerMetadata},c=j(j({},c),{},{parts:[].concat(S(c.parts),[n])}),f.state.replaceMessage(m,c));break;case"file":c&&(e={type:"file",url:t.url,mediaType:t.mediaType},c=j(j({},c),{},{parts:[].concat(S(c.parts),[e])}),f.state.replaceMessage(m,c));break;case"start-step":c&&(c=j(j({},c),{},{parts:[].concat(S(c.parts),[{type:"step-start"}])}),f.state.replaceMessage(m,c));break;case"message-metadata":c&&(c=j(j({},c),{},{metadata:t.messageMetadata}),f.state.replaceMessage(m,c));break;case"error":throw h=!0,new Error(t.errorText);case"abort":d=!0;break;case"finish":c&&void 0!==t.messageMetadata&&(c=j(j({},c),{},{metadata:t.messageMetadata}),f.state.replaceMessage(m,c));break;default:var n,i=t.type;null!=i&&i.startsWith("data-")&&c&&(n={type:i,id:t.id,data:t.data},c=j(j({},c),{},{parts:[].concat(S(c.parts),[n])}),f.state.replaceMessage(m,c),f.onData)&&f.onData(n)}},i=function(){p.then(function(){f.setStatus({status:"ready"}),f.activeResponse=null,f.onFinish&&c&&f.onFinish({message:c,messages:f.state.messages,isAbort:d,isDisconnect:r,isError:h}),t()})},a=function(e){"AbortError"===e.name?(d=!0,f.setStatus({status:"ready"})):(r=!0,f.handleError(e)),f.onFinish&&c&&f.onFinish({message:c,messages:f.state.messages,isAbort:d,isDisconnect:r,isError:h}),t()},o=e.getReader(),function r(){o.read().then(function(e){var t=e.done,e=e.value;t?(o.releaseLock(),i()):(t=n(e))&&"function"==typeof t.then?t.then(r,function(e){o.releaseLock(),a(e)}):r()},function(e){o.releaseLock(),a(e)})}()})}},{key:"handleError",value:function(e){this.setStatus({status:"error",error:e}),this.onError&&this.onError(e)}},{key:"convertFilesToParts",value:function(e){var r=this;if(Array.isArray(e))return Promise.resolve(e);for(var n=[],i=0;i<e.length;i++)!function(){var t=e[i];n.push(r.fileToDataUrl(t).then(function(e){return{type:"file",mediaType:t.type,filename:t.name,url:e}}))}();return Promise.all(n)}},{key:"fileToDataUrl",value:function(n){return new Promise(function(e,t){var r=new FileReader;r.onload=function(){return e(r.result)},r.onerror=t,r.readAsDataURL(n)})}}])&&Zo(e.prototype,t),r&&Zo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}();function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yo(e,t){return(Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function es(r){var n=ts();return function(){var e,t=rs(r),t=(e=n?(e=rs(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"==Xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}}function ts(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ts=function(){return!!e})()}function rs(e){return(rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ns(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function is(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ns(Object(r),!0).forEach(function(e){ls(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ns(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function as(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?os(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?os(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fs(n.key),n)}}function us(e,t,r){t&&cs(e.prototype,t),r&&cs(e,r),Object.defineProperty(e,"prototype",{writable:!1})}function ls(e,t,r){(t=fs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function fs(e){e=function(e,t){if("object"!=Xo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Xo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Xo(e)?e:e+""}var ms=function(){function s(e){var t=e.api,t=void 0===t?"/api/chat":t,r=e.credentials,n=e.headers,i=e.body,a=e.fetch,o=e.prepareSendMessagesRequest,e=e.prepareReconnectToStreamRequest;ss(this,s),ls(this,"api",void 0),ls(this,"credentials",void 0),ls(this,"headers",void 0),ls(this,"body",void 0),ls(this,"fetch",void 0),ls(this,"prepareSendMessagesRequest",void 0),ls(this,"prepareReconnectToStreamRequest",void 0),this.api=t,this.credentials=r,this.headers=n,this.body=i,this.fetch=a,this.prepareSendMessagesRequest=o,this.prepareReconnectToStreamRequest=e}return us(s,[{key:"sendMessages",value:function(e){var s=this,c=e.abortSignal,u=e.chatId,l=e.messages,f=e.requestMetadata,m=e.trigger,d=e.messageId,h=e.headers,p=e.body,g=null!=(e=this.fetch)?e:fetch;return Promise.all([Uo(this.credentials),Uo(this.headers),Uo(this.body)]).then(function(e){var e=as(e,3),t=e[0],r=e[1],e=e[2],n=s.api,i=is(is({id:u,messages:l},e),p),a=is(is({"Content-Type":"application/json"},r instanceof Headers?Object.fromEntries(r.entries()):r),h instanceof Headers?Object.fromEntries(h.entries()):h),o=t,e=is(is({},e),p);return(s.prepareSendMessagesRequest?Promise.resolve(s.prepareSendMessagesRequest({id:u,messages:l,requestMetadata:f,body:e,credentials:t,headers:r,api:s.api,trigger:m,messageId:d})):Promise.resolve(null)).then(function(e){return e&&(i=e.body,e.api&&(n=e.api),e.headers&&(a=is({"Content-Type":"application/json"},e.headers instanceof Headers?Object.fromEntries(e.headers.entries()):e.headers)),e.credentials)&&(o=e.credentials),g(n,{method:"POST",headers:a,body:JSON.stringify(i),signal:c,credentials:o}).then(function(e){if(!e.ok)throw new Error("HTTP error: ".concat(e.status," ").concat(e.statusText));if(e.body)return s.processResponseStream(e.body);throw new Error("Response body is empty")})})})}},{key:"reconnectToStream",value:function(e){var o=this,s=e.chatId,c=e.headers,u=e.body,l=null!=(e=this.fetch)?e:fetch;return Promise.all([Uo(this.credentials),Uo(this.headers),Uo(this.body)]).then(function(e){var e=as(e,3),t=e[0],r=e[1],e=e[2],n=o.api,i=is(is({},r instanceof Headers?Object.fromEntries(r.entries()):r),c instanceof Headers?Object.fromEntries(c.entries()):c),a=t,e=is(is({},e),u);return(o.prepareReconnectToStreamRequest?Promise.resolve(o.prepareReconnectToStreamRequest({id:s,requestMetadata:void 0,body:e,credentials:t,headers:r,api:o.api})):Promise.resolve(null)).then(function(e){return e&&(e.api&&(n=e.api),e.headers&&(i=e.headers instanceof Headers?Object.fromEntries(e.headers.entries()):e.headers),e.credentials)&&(a=e.credentials),l("".concat(n,"?chatId=").concat(s),{method:"GET",headers:i,credentials:a}).then(function(e){if(e.ok)return e.body?o.processResponseStream(e.body):null;if(404===e.status)return null;throw new Error("HTTP error: ".concat(e.status," ").concat(e.statusText))})})})}}]),s}(),ds=function(){var e=n,t=ms;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yo(e,t);var r=es(n);function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ss(this,n),r.call(this,e)}return us(n,[{key:"processResponseStream",value:function(e){return t=e,u=new TextDecoder,l="",new ReadableStream({start:function(c){var e=t.getReader();(function s(){e.read().then(function(e){var t=e.done,e=e.value;if(t){if(l.trim()){t=Ao(l.trim());if(t)try{var r=JSON.parse(t);c.enqueue(r)}catch(e){}}c.close()}else{var n=(l+=u.decode(e,{stream:!0})).split("\n");l=n.pop()||"";for(var i=0;i<n.length;i++){var a=n[i].trim();if(a){a=Ao(a);if(a)try{var o=JSON.parse(a);c.enqueue(o)}catch(e){}}}s()}},function(e){c.error(e)})})()}});var t,u,l}}]),n}(),hs=["messages","agentId"];function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ys(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gs(Object(r),!0).forEach(function(e){d(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gs(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function vs(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function bs(e,t){return(bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ss(r){var n=ws();return function(){var e,t=Ps(r),t=(e=n?(e=Ps(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"==ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Os(t)}}function Os(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ws(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ws=function(){return!!e})()}function Ps(e){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function js(e){return function(e){if(Array.isArray(e))return Rs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var r;if(e)return"string"==typeof e?Rs(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cs(n.key),n)}}function Is(e,t,r){return t&&xs(e.prototype,t),r&&xs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,r){(t=Cs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function Cs(e){e=function(e,t){if("object"!=ps(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=ps(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ps(e)?e:e+""}var Ts="instantsearch-chat-initial-messages";var Ns=function(){function i(){function e(){if("ready"===r.status)try{sessionStorage.setItem(Ts+(t?"-".concat(t):""),JSON.stringify(r.messages))}catch(e){}}var r=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(n=t,(n=sessionStorage.getItem(Ts+(n?"-".concat(n):"")))?JSON.parse(n):[]);Es(this,i),d(this,"_messages",void 0),d(this,"_status","ready"),d(this,"_error",void 0),d(this,"_messagesCallbacks",new Set),d(this,"_statusCallbacks",new Set),d(this,"_errorCallbacks",new Set),d(this,"pushMessage",function(e){r._messages=r._messages.concat(e),r._callMessagesCallbacks()}),d(this,"popMessage",function(){r._messages=r._messages.slice(0,-1),r._callMessagesCallbacks()}),d(this,"replaceMessage",function(e,t){r._messages=[].concat(js(r._messages.slice(0,e)),[r.snapshot(t)],js(r._messages.slice(e+1))),r._callMessagesCallbacks()}),d(this,"snapshot",function(e){return JSON.parse(JSON.stringify(e))}),d(this,"~registerMessagesCallback",function(e){var t=e;return r._messagesCallbacks.add(t),function(){r._messagesCallbacks.delete(t)}}),d(this,"~registerStatusCallback",function(e){return r._statusCallbacks.add(e),function(){r._statusCallbacks.delete(e)}}),d(this,"~registerErrorCallback",function(e){return r._errorCallbacks.add(e),function(){r._errorCallbacks.delete(e)}}),d(this,"_callMessagesCallbacks",function(){r._messagesCallbacks.forEach(function(e){return e()})}),d(this,"_callStatusCallbacks",function(){r._statusCallbacks.forEach(function(e){return e()})}),d(this,"_callErrorCallbacks",function(){r._errorCallbacks.forEach(function(e){return e()})}),this._messages=n;this["~registerMessagesCallback"](e),this["~registerStatusCallback"](e)}return Is(i,[{key:"status",get:function(){return this._status},set:function(e){this._status=e,this._callStatusCallbacks()}},{key:"error",get:function(){return this._error},set:function(e){this._error=e,this._callErrorCallbacks()}},{key:"messages",get:function(){return this._messages},set:function(e){this._messages=js(e),this._callMessagesCallbacks()}}]),i}(),ks=function(){var e=a,t=Go;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bs(e,t);var i=Ss(a);function a(e){var t=e.messages,r=e.agentId,e=vs(e,hs),r=(Es(this,a),new Ns(r,t)),n=i.call(this,ys(ys({},e),{},{state:r}));return d(Os(n),"_state",void 0),d(Os(n),"~registerMessagesCallback",function(e){return n._state["~registerMessagesCallback"](e)}),d(Os(n),"~registerStatusCallback",function(e){return n._state["~registerStatusCallback"](e)}),d(Os(n),"~registerErrorCallback",function(e){return n._state["~registerErrorCallback"](e)}),n._state=r,n}return Is(a)}(),Fs="algolia_search_index",As="algolia_recommend",Ms="algolia_memorize",_s="algolia_memory_search",Ds="algolia_ponder";function Ls(e){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Hs=["resume","tools","type"],Bs=["messages","trigger"];function Ws(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ws(Object(r),!0).forEach(function(e){$s(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ws(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function $s(e,t,r){return(t=function(e){e=function(e,t){if("object"!=Ls(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Ls(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ls(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Us(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||Qs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qs(e){return function(e){if(Array.isArray(e))return zs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qs(e,t){var r;if(e)return"string"==typeof e?zs(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zs(e,t):void 0}function zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Vs(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}var Js=a({name:"chat",connector:!0}),Zs=function(O){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(O,Js()),function(i){function a(){c.messages&&0!==c.messages.length&&m(!0)}function o(){S([]),c.clearError(),m(!1)}function s(e){function n(e){return e.map(function(e){return R(R({},e),{},{parts:null==(e=e.parts)?void 0:e.filter(function(e){return!("type"in e&&e.type.startsWith("data-"))})})})}var r,t,i=(a=Us(Kt(e.client),2))[0],a=a[1];if("transport"in p&&p.transport&&(r=p.transport.prepareSendMessagesRequest,t=new ds(R(R({},p.transport),{},{prepareSendMessagesRequest:function(e){function t(e){return R(R({},e),{},{body:R(R({},e.body),{},{messages:n(e.body.messages)})})}e=r?r(e):{body:R({},e)};return e&&"then"in e?e.then(t):t(e)}}))),"agentId"in p&&p.agentId){if(!i||!a)throw new Error(Js("Could not extract Algolia credentials from the search client."));var o="https://".concat(i,".algolia.net/agent-studio/1/agents/").concat(b,"/completions?compatibilityMode=ai-sdk-5");t=new ds({api:o,headers:{"x-algolia-application-id":i,"x-algolia-api-Key":a,"x-algolia-agent":Zt(e.client)},prepareSendMessagesRequest:function(e){var t=e.messages,r=e.trigger,e=Vs(e,Bs);return{api:"regenerate-message"===r?"".concat(o,"&cache=false"):o,body:R(R({},e),{},{messages:n(t)})}}})}if(t)return"chat"in p?p.chat:new ks(R(R({},p),{},{transport:t,sendAutomaticallyWhen:Wo,onToolCall:function(e){var t=e.toolCall,e=h[t.toolName];return e?e.onToolCall?e.onToolCall(R(R({},t),{},{addToolResult:function(e){e=e.output;return c.addToolResult({output:e,tool:t.toolName,toolCallId:t.toolCallId})}})):Promise.resolve():c.addToolResult({output:'No tool implemented for "'.concat(t.toolName,'".'),tool:t.toolName,toolCallId:t.toolCallId})}}));throw new Error(Js("You need to provide either an `agentId` or a `transport`."))}var c,u,l,f,m,e=i||{},t=e.resume,d=void 0!==t&&t,t=e.tools,h=void 0===t?{}:t,t=e.type,r=void 0===t?"chat":t,p=Vs(e,Hs),g="",y=!1,v=!1,b="agentId"in p?p.agentId:void 0,S=function(e){"function"==typeof e&&(e=e(c.messages)),c.messages=e};return{$$type:"ais.chat",init:function(e){var t=this,r=e.instantSearchInstance,n=(c=s(r),function(){O(R(R({},t.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!1)});f=function(e){y=e,n()},l=function(e){g=e,n()},m=function(e){v=e,n()},c["~registerErrorCallback"](n),c["~registerMessagesCallback"](n),c["~registerStatusCallback"](n),d&&c.resumeStream(),O(R(R({},this.getWidgetRenderState(e)),{},{instantSearchInstance:r}),!0)},render:function(e){O(R(R({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e,t){return R(R({},e),{},$s({},r,this.getWidgetRenderState(t)))},getWidgetRenderState:function(e){var t=e.instantSearchInstance,r=e.parent,n=(c||this.init(R(R({},e),{},{uiState:{},results:void 0})),u=u||Dt({instantSearchInstance:e.instantSearchInstance,helper:e.helper,widgetType:this.$$type}),{});return Object.entries(h).forEach(function(e){var e=Us(e,2),t=e[0],e=R(R({},e[1]),{},{addToolResult:c.addToolResult});n[t]=e}),{indexUiState:t.getUiState()[r.getIndexId()],input:g,open:y,sendEvent:u,setIndexUiState:r.setIndexUiState.bind(r),setInput:l,setOpen:f,setMessages:S,suggestions:null==(e=qs(e=c.messages).reverse().find(function(e){return"assistant"===e.role&&e.parts}))||!e.parts||null==(e=e.parts.find(function(e){return"type"in e&&"data-suggestions"===e.type&&"data"in e&&Array.isArray(null==(e=e.data)?void 0:e.suggestions)}))?void 0:e.data.suggestions,isClearing:v,clearMessages:a,onClearTransitionEnd:o,tools:n,widgetParams:i,addToolResult:c.addToolResult,clearError:c.clearError,error:c.error,id:c.id,messages:c.messages,regenerate:c.regenerate,resumeStream:c.resumeStream,sendMessage:c.sendMessage,status:c.status,stop:c.stop}},dispose:function(){n()},shouldRender:function(){return!0},get chatInstance(){return c}}}};function Ks(e,t){return s(Zs,e,t)}function Gs(e){return(Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xs(e){return function(e){if(Array.isArray(e))return Ys(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var r;if(e)return"string"==typeof e?Ys(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ys(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ec(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function tc(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ec(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Gs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Gs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Gs(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ec(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var rc=a({name:"clear-refinements",connector:!0}),nc=function(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,rc()),function(n){var e=n||{},t=e.includedAttributes,s=void 0===t?[]:t,t=e.excludedAttributes,c=void 0===t?["query"]:t,t=e.transformItems,u=void 0===t?function(e){return e}:t;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(rc("The options `includedAttributes` and `excludedAttributes` cannot be used together."));function i(){return l.refine()}function a(){return l.createURL()}var l={refine:w,createURL:function(){return""},attributesToClear:[]};return{$$type:"ais.clearRefinements",init:function(e){var t=e.instantSearchInstance;r(tc(tc({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(tc(tc({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(){o()},getRenderState:function(e,t){return tc(tc({},e),{},{clearRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.createURL,r=e.scopedResults,o=e.results,e=(l.attributesToClear=r.reduce(function(e,t){return e.concat((t=(e={scopedResult:t,includedAttributes:s,excludedAttributes:c,transformItems:u,results:o}).scopedResult,r=e.includedAttributes,n=e.excludedAttributes,i=e.transformItems,e=e.results,a=-1!==r.indexOf("query")||-1===n.indexOf("query"),{helper:t.helper,items:i(jr(tr(t.results,t.helper.state,a).map(function(e){return e.attribute}).filter(function(e){return 0===r.length||-1!==r.indexOf(e)}).filter(function(e){return"query"===e&&a||-1===n.indexOf(e)})),{results:e})}));var r,n,i,a},[]),l.refine=function(){l.attributesToClear.forEach(function(e){var t=e.helper,e=e.items;t.setState(it({helper:t,attributesToClear:e})).search()})},l.createURL=function(){return t(Nr.apply(void 0,Xs(l.attributesToClear.map(function(e){return it({helper:e.helper,attributesToClear:e.items})}))))},l.attributesToClear.some(function(e){return 0<e.items.length}));return{canRefine:e,hasRefinements:e,refine:i,createURL:a,widgetParams:n}}}}};function ic(e,t){return s(nc,e,t)}function ac(e){return(ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oc(e){return function(e){if(Array.isArray(e))return sc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var r;if(e)return"string"==typeof e?sc(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function cc(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function uc(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?cc(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=ac(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=ac(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ac(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):cc(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var lc=a({name:"current-refinements",connector:!0}),fc=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,lc()),function(a){if((a||{}).includedAttributes&&(a||{}).excludedAttributes)throw new Error(lc("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var e=a||{},o=e.includedAttributes,t=e.excludedAttributes,s=void 0===t?["query"]:t,t=e.transformItems,c=void 0===t?function(e){return e}:t;return{$$type:"ais.currentRefinements",init:function(e){var t=e.instantSearchInstance;r(uc(uc({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(uc(uc({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(){n()},getRenderState:function(e,t){return uc(uc({},e),{},{currentRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var r=e.results,t=e.scopedResults,n=e.createURL,i=e.helper;e=r?t.reduce(function(e,t){return e.concat(c(mc({results:t.results,helper:t.helper,indexId:t.indexId,includedAttributes:o,excludedAttributes:s}),{results:r}))},[]):c(mc({results:null,helper:i,indexId:i.state.index,includedAttributes:o,excludedAttributes:s}),{results:r});return{items:e,canRefine:0<e.length,refine:function(e){return hc(i,e)},createURL:function(e){return n(dc(i.state,e))},widgetParams:a}}}}};function mc(e){var t=e.results,r=e.helper,n=e.indexId,i=e.includedAttributes,a=e.excludedAttributes,e=-1!==(i||[]).indexOf("query")||-1===(a||[]).indexOf("query"),o=i?function(e){return-1!==i.indexOf(e.attribute)}:function(e){return-1===a.indexOf(e.attribute)},s=tr(t,r.state,e).map(pc).filter(o);return s.reduce(function(e,t){return[].concat(oc(e.filter(function(e){return e.attribute!==t.attribute})),[{indexName:r.state.index,indexId:n,attribute:t.attribute,label:t.attribute,refinements:s.filter(function(e){return e.attribute===t.attribute}).sort(function(e,t){return"numeric"===e.type?e.value-t.value:0}),refine:function(e){return hc(r,e)}}])},[])}function dc(e,t){switch(e=e.resetPage(),t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function hc(e,t){e.setState(dc(e.state,t)).search()}function pc(e){var t=function(e){if("numeric"===e.type)return Number(e.name);if("escapedValue"in e)return e.escapedValue;return e.name}(e),r=e.operator?"".concat(function(e){switch(e){case">=":return"â¥";case"<=":return"â¤";default:return e}}(e.operator)," ").concat(e.name):e.name,t={attribute:e.attribute,type:e.type,value:t,label:r};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.count&&(t.count=e.count),void 0!==e.exhaustive&&(t.exhaustive=e.exhaustive),t}function gc(e,t){return s(fc,e,t)}function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vc(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function bc(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?vc(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=yc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=yc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==yc(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):vc(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var Sc=a({name:"frequently-bought-together",connector:!0}),Oc=function(r){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,Sc()),function(n){var i,e=n||{},t=e.escapeHTML,a=void 0===t||t,t=e.transformItems,o=void 0===t?function(e){return e}:t,s=e.objectIDs,c=e.limit,u=e.threshold,l=e.fallbackParameters,f=e.queryParameters;if(s&&0!==s.length)return{dependsOn:"recommend",$$type:"ais.frequentlyBoughtTogether",init:function(e){r(bc(bc({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=this.getWidgetRenderState(e);r(bc(bc({},t),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e){return e},getWidgetRenderState:function(e){var t=e.results,r=e.helper,e=e.instantSearchInstance;if(i=i||Dt({instantSearchInstance:e,helper:r,widgetType:this.$$type}),null==t)return{items:[],widgetParams:n,sendEvent:i};a&&0<t.hits.length&&(t.hits=wt(t.hits));e=ur(ar(t.hits,0,1),t.queryID);return{items:o(e,{results:t}),widgetParams:n,sendEvent:i}},dispose:function(e){e=e.recommendState;return m(),e.removeParams(this.$$id)},getWidgetParameters:function(e){var r=this;return s.reduce(function(e,t){return e.addFrequentlyBoughtTogether({objectID:t,maxRecommendations:c,threshold:u,fallbackParameters:l?bc(bc({},l),a?T:{}):void 0,queryParameters:bc(bc({},f),a?T:{}),$$id:r.$$id})},e.removeParams(this.$$id))}};throw new Error(Sc("The `objectIDs` option is required."))}};function wc(e,t){return s(Oc,e,t)}function Pc(e){return(Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jc(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Rc(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?jc(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Pc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Pc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Pc(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):jc(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var Ec=a({name:"geo-search",connector:!0});function xc(e){return e.insideBoundingBox||""}function Ic(e,t){return e.setQueryParameter("insideBoundingBox",t)}function Cc(g){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(g,Ec()),function(s){function c(e){if(e.aroundLatLng){var e=e.aroundLatLng,t=e.match(Vt);if(t)return{lat:parseFloat(t[1]),lng:parseFloat(t[2])};throw new Error('Invalid value for "aroundLatLng" parameter: "'.concat(e,'"'))}}function u(){return p.internalToggleRefineOnMapMove()}function a(e,t){return function(){p.isRefineOnMapMove=!p.isRefineOnMapMove,t(e)}}function l(){return p.isRefineOnMapMove}function f(){return p.internalSetMapMoveSinceLastRefine()}function o(t,r){return function(){var e=!0!==p.hasMapMoveSinceLastRefine;p.hasMapMoveSinceLastRefine=!0,e&&r(t)}}function m(){return p.hasMapMoveSinceLastRefine}var d,e=s||{},t=e.enableRefineOnMapMove,e=e.transformItems,h=void 0===e?function(e){return e}:e,p={isRefineOnMapMove:void 0===t||t,hasMapMoveSinceLastRefine:!1,lastRefinePosition:"",lastRefineBoundingBox:"",internalToggleRefineOnMapMove:w,internalSetMapMoveSinceLastRefine:w};return{$$type:Tc,init:function(e){var t=e.instantSearchInstance;p.internalToggleRefineOnMapMove=a(e,w),p.internalSetMapMoveSinceLastRefine=o(e,w),g(Rc(Rc({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.helper,r=e.instantSearchInstance,t=t.state,n=Boolean(t.aroundLatLng)&&Boolean(p.lastRefinePosition)&&t.aroundLatLng!==p.lastRefinePosition,i=!t.insideBoundingBox&&Boolean(p.lastRefineBoundingBox)&&t.insideBoundingBox!==p.lastRefineBoundingBox,n=((n||i)&&(p.hasMapMoveSinceLastRefine=!1),p.lastRefinePosition=t.aroundLatLng||"",p.lastRefineBoundingBox=xc(t),p.internalToggleRefineOnMapMove=a(e,this.render.bind(this)),p.internalSetMapMoveSinceLastRefine=o(e,this.render.bind(this)),this.getWidgetRenderState(e));d("view:internal",n.items),g(Rc(Rc({},n),{},{instantSearchInstance:r}),!1)},getWidgetRenderState:function(e){var t,r,n,i=e.helper,a=e.results,e=e.instantSearchInstance,o=i.state,a=a?h(a.hits.filter(function(e){return e._geoloc}),{results:a}):[];return d=d||Dt({instantSearchInstance:e,helper:i,widgetType:Tc}),{items:a,position:c(o),currentRefinement:(e=o).insideBoundingBox&&Jt(e.insideBoundingBox),refine:function(e){var t=e.northEast,e=e.southWest,t=[t.lat,t.lng,e.lat,e.lng].join();n.setState(Ic(n.state,t).resetPage()).search(),p.hasMapMoveSinceLastRefine=!1,p.lastRefineBoundingBox=t},sendEvent:d,clearMapRefinement:(r=n=i,function(){r.setQueryParameter("insideBoundingBox",void 0).search()}),isRefinedWithMap:(t=o,function(){return Boolean(t.insideBoundingBox)}),toggleRefineOnMapMove:u,isRefineOnMapMove:l,setMapMoveSinceLastRefine:f,hasMapMoveSinceLastRefine:m,widgetParams:s}},getRenderState:function(e,t){return Rc(Rc({},e),{},{geoSearch:this.getWidgetRenderState(t)})},dispose:function(e){e=e.state;return r(),e.setQueryParameter("insideBoundingBox",void 0)},getWidgetUiState:function(e,t){t=xc(t.searchParameters);return!t||e&&e.geoSearch&&e.geoSearch.boundingBox===t?e:Rc(Rc({},e),{},{geoSearch:{boundingBox:t}})},getWidgetSearchParameters:function(e,t){t=t.uiState;return t&&t.geoSearch?Ic(e,t.geoSearch.boundingBox):e.setQueryParameter("insideBoundingBox",void 0)}}}}var Tc="ais.geoSearch";function Nc(e){return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var kc=["name","escapedValue","data","path"];function Fc(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ac(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fc(Object(r),!0).forEach(function(e){Mc(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fc(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Mc(e,t,r){return(t=function(e){e=function(e,t){if("object"!=Nc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Nc(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _c(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?Lc(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Hc=a({name:"hierarchical-menu",connector:!0}),Bc=["name:asc"],Wc=function(s){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(s,Hc()),function(u){var e=u||{},l=e.attributes,t=e.separator,f=void 0===t?" > ":t,t=e.rootPath,n=void 0===t?null:t,t=e.showParentLevel,i=void 0===t||t,t=e.limit,m=void 0===t?10:t,t=e.showMore,d=void 0!==t&&t,t=e.showMoreLimit,a=void 0===t?20:t,t=e.sortBy,h=void 0===t?Bc:t,t=e.transformItems,p=void 0===t?function(e){return e}:t;if(!l||!Array.isArray(l)||0===l.length)throw new Error(Hc("The `attributes` option expects an array of strings."));if(!0===d&&a<=m)throw new Error(Hc("The `showMoreLimit` option must be greater than `limit`."));var g,y,v=Dc(l,1)[0],o=function(){};function b(){o()}var S=!1;function O(){return S?a:m}return{$$type:"ais.hierarchicalMenu",init:function(e){var t=e.instantSearchInstance;s(Ac(Ac({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t,r,n=e.instantSearchInstance;t=e,o=function(){S=!S,r.render(t)},s(Ac(Ac({},(r=this).getWidgetRenderState(e)),{},{instantSearchInstance:n}),!1)},dispose:function(e){e=e.state;return r(),e.removeHierarchicalFacet(v).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return Ac(Ac({},e),{},{hierarchicalMenu:Ac(Ac({},e.hierarchicalMenu),{},Mc({},v,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r=this,n=e.results,i=e.state,a=e.createURL,o=e.instantSearchInstance,s=e.helper,e=[],c=!1;return g=g||Ct({instantSearchInstance:o,helper:s,attribute:function(e){e=e.split(f).length-1;return l[e]},widgetType:this.$$type}),y=y||function(e){g("click:internal",e),s.toggleFacetRefinement(v,e).search()},n&&(t=function t(e,r){var n=O();return!(n<r?e.length<=n:e.length<n)||e.slice(0,m).some(function(e){return Array.isArray(e.data)&&0<e.data.length&&t(e.data,r)})}(o=(o=n.getFacetValues(v,{sortBy:h,facetOrdering:h===Bc}))&&!Array.isArray(o)&&o.data?o.data:[],i.maxValuesPerFacet||0),c=d&&(S||t),e=p(function i(e){return e.slice(0,O()).map(function(e){var t=e.name,r=e.escapedValue,n=e.data,e=(e.path,Ac(Ac({},_c(e,kc)),{},{value:r,label:t,data:null}));return Array.isArray(n)&&(e.data=i(n)),e})}(o),{results:n})),{items:e,refine:y,canRefine:0<e.length,createURL:function(t){return a(function(e){return r.getWidgetUiState(e,{searchParameters:i.resetPage().toggleFacetRefinement(v,t),helper:s})})},sendEvent:g,widgetParams:u,isShowingMore:S,toggleShowMore:b,canToggleShowMore:c}},getWidgetUiState:function(e,t){var t=t.searchParameters.getHierarchicalFacetBreadcrumb(v);return e=Ac(Ac({},e),{},{hierarchicalMenu:Ac(Ac({},e.hierarchicalMenu),{},Mc({},v,t))}),t=v,e.hierarchicalMenu&&(e.hierarchicalMenu[t]&&0!==e.hierarchicalMenu[t].length||delete e.hierarchicalMenu[t],0===Object.keys(e.hierarchicalMenu).length)&&delete e.hierarchicalMenu,e},getWidgetSearchParameters:function(e,t){t=t.uiState,t=t.hierarchicalMenu&&t.hierarchicalMenu[v];if(e.isConjunctiveFacet(v)||e.isDisjunctiveFacet(v))return e;e.isHierarchicalFacet(v)&&e.getHierarchicalFacetByName(v);var e=e.removeHierarchicalFacet(v).addHierarchicalFacet({name:v,attributes:l,separator:f,rootPath:n,showParentLevel:i}),r=e.maxValuesPerFacet||0,r=Math.max(r,d?a:m),e=e.setQueryParameter("maxValuesPerFacet",r);return t?e.addHierarchicalFacetRefinement(v,t.join(f)):e.setQueryParameters({hierarchicalFacetsRefinements:Ac(Ac({},e.hierarchicalFacetsRefinements),{},Mc({},v,[]))})}}}};function $c(e,t){return s(Wc,e,t)}function Uc(e){return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qc(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Qc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qc(Object(r),!0).forEach(function(e){zc(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qc(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function zc(e,t,r){return(t=function(e){e=function(e,t){if("object"!=Uc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Uc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Uc(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vc=a({name:"hits",connector:!0}),Jc=function(r){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,Vc()),function(n){var i,a,e=n||{},t=e.escapeHTML,o=void 0===t||t,t=e.transformItems,s=void 0===t?function(e){return e}:t;return{$$type:"ais.hits",init:function(e){r(Qc(Qc({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=this.getWidgetRenderState(e);r(Qc(Qc({},t),{},{instantSearchInstance:e.instantSearchInstance}),!1),t.sendEvent("view:internal",t.items)},getRenderState:function(e,t){return Qc(Qc({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.helper,e=e.instantSearchInstance;if(i=i||Dt({instantSearchInstance:e,helper:r,widgetType:this.$$type}),a=a||Lt({helper:r,widgetType:this.$$type,instantSearchInstance:e}),!t)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:i,bindEvent:a,widgetParams:n};o&&0<t.hits.length&&(t.hits=wt(t.hits));var r=ur(ar(t.hits,t.page,t.hitsPerPage),t.queryID),e=s(r,{results:t});return{hits:e,items:e,results:t,banner:null==(r=t.renderingContent)||null==(e=r.widgets)||null==(t=e.banners)?void 0:t[0],sendEvent:i,bindEvent:a,widgetParams:n}},dispose:function(e){e=e.state;return c(),o?e.setQueryParameters(Object.keys(T).reduce(function(e,t){return Qc(Qc({},e),{},zc({},t,void 0))},{})):e},getWidgetSearchParameters:function(e,t){return o?e.setQueryParameters(T):e}}}};function Zc(e,t){return s(Jc,e,t)}function Kc(e){return(Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(e){return function(e){if(Array.isArray(e))return Xc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var r;if(e)return"string"==typeof e?Xc(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Yc(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function eu(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Yc(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Kc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Kc(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Yc(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var tu=a({name:"hits-per-page",connector:!0}),ru=function(n){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(n,tu()),function(o){var e=o||{},t=e.items,e=e.transformItems,s=void 0===e?function(e){return e}:e;if(!Array.isArray(t))throw new Error(tu("The `items` option expects an array of objects."));var c=t,e=c.filter(function(e){return!0===e.default});if(0===e.length)throw new Error(tu("A default value must be specified in `items`."));if(1<e.length)throw new Error(tu("More than one default value is specified in `items`."));var r=e[0],u=function(t){return function(e){return(e||0===e?t.setQueryParameter("hitsPerPage",e):t.setQueryParameter("hitsPerPage",void 0)).search()}},l=function(e){var r=e.state,n=e.createURL,i=e.getWidgetUiState,a=e.helper;return function(t){return n(function(e){return i(e,{searchParameters:r.resetPage().setQueryParameter("hitsPerPage",t||0===t?t:void 0),helper:a})})}};return{$$type:"ais.hitsPerPage",init:function(e){var t=e.state,r=e.instantSearchInstance;c.some(function(e){return Number(t.hitsPerPage)===Number(e.value)})||(c=[{value:"",label:""}].concat(Gc(c))),n(eu(eu({},this.getWidgetRenderState(e)),{},{instantSearchInstance:r}),!0)},render:function(e){var t=e.instantSearchInstance;n(eu(eu({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return i(),e.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(e,t){return eu(eu({},e),{},{hitsPerPage:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r=e.state,n=e.results,i=e.createURL,e=e.helper,a=!!n&&0<n.nbHits;return{items:s((t=r.hitsPerPage,c.map(function(e){return eu(eu({},e),{},{isRefined:Number(e.value)===Number(t)})})),{results:n}),refine:u(e),createURL:l({state:r,createURL:i,getWidgetUiState:this.getWidgetUiState,helper:e}),hasNoResults:!a,canRefine:a,widgetParams:o}},getWidgetUiState:function(e,t){t=t.searchParameters.hitsPerPage;return void 0===t||t===r.value?e:eu(eu({},e),{},{hitsPerPage:t})},getWidgetSearchParameters:function(e,t){t=t.uiState;return e.setQueryParameters({hitsPerPage:t.hitsPerPage||r.value})}}}};function nu(e,t){return s(ru,e,t)}function iu(e){return(iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var au=["page"],ou=["clickAnalytics","userToken"];function su(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function cu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?su(Object(r),!0).forEach(function(e){uu(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):su(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function uu(e,t,r){return(t=function(e){e=function(e,t){if("object"!=iu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=iu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==iu(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lu(e){return function(e){if(Array.isArray(e))return fu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var r;if(e)return"string"==typeof e?fu(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mu(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}var du=a({name:"infinite-hits",connector:!0});function hu(e){e=e||{};e.page;return mu(e,au)}function pu(e){e=e||{};e.clickAnalytics,e.userToken;return mu(e,ou)}var gu=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(i,du()),function(p){var r,n,g,y,v,b,e=p||{},t=e.escapeHTML,S=void 0===t||t,t=e.transformItems,O=void 0===t?function(e){return e}:t,t=e.cache,w=void 0===t?(n=r=null,{read:function(e){e=e.state;return wr(n,hu(e))?r:null},write:function(e){var t=e.state,e=e.hits;n=hu(t),r=e}}):t,P=function(e,t){e=e.page,e=void 0===e?0:e,t=Object.keys(t).map(Number);return 0===t.length?e:Math.min.apply(Math,[e].concat(lu(t)))},j=function(e,t){e=e.page,e=void 0===e?0:e,t=Object.keys(t).map(Number);return 0===t.length?e:Math.max.apply(Math,[e].concat(lu(t)))};return{$$type:"ais.infiniteHits",init:function(e){i(cu(cu({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=e.instantSearchInstance,e=this.getWidgetRenderState(e);i(cu(cu({},e),{},{instantSearchInstance:t}),!1),v("view:internal",e.currentPageHits)},getRenderState:function(e,t){return cu(cu({},e),{},{infiniteHits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r,n,i=e.results,a=e.helper,o=e.parent,s=e.state,e=e.instantSearchInstance,c=function(){var e=o.getPreviousState()||s;return w.read({state:pu(e)})||{}},u=[],l=o.getPreviousState()||s,f=c(),m=null==i||null==(m=i.renderingContent)||null==(m=m.widgets)||null==(m=m.banners)?void 0:m[0],d=(g||(g=function(){e=a;var e,t=c();e.overrideStateWithoutTriggeringChangeEvent(cu(cu({},e.state),{},{page:P(e.state,t)-1})).searchWithoutTriggeringOnStateChange()},y=function(){e=a;var e,t=c();e.setPage(j(e.state,t)+1).search()}),v||(v=Dt({instantSearchInstance:e,helper:a,widgetType:this.$$type}),b=Lt({helper:a,widgetType:this.$$type,instantSearchInstance:e})),e=i?(h=void 0===(h=l.page)?0:h,S&&0<i.hits.length&&(i.hits=wt(i.hits)),t=ur(ar(i.hits,i.page,i.hitsPerPage),i.queryID),t=O(t,{results:i}),r=!1,Pr(e.mainIndex,function(e){!r&&e.getWidgets().some(function(e){return"ais.dynamicWidgets"===e.$$type})&&(r=!0)}),d=!(null!=(d=l.disjunctiveFacets)&&d.length||(l.facets||[]).filter(function(e){return"*"!==e}).length||null!=(d=l.hierarchicalFacets)&&d.length),void 0!==f[h]||i.__isArtificial||"idle"!==e.status||r&&d||(f[h]=t,w.write({state:pu(l),hits:f})),u=t,0===P(l,f)):void 0===l.page||0===P(l,f),n=f,Object.keys(n).map(Number).sort(function(e,t){return e-t}).reduce(function(e,t){return e.concat(n[t])},[])),h=!i||i.nbPages<=j(l,f)+1;return{hits:d,items:d,currentPageHits:u,sendEvent:v,bindEvent:b,banner:m,results:i||void 0,showPrevious:g,showMore:y,isFirstPage:e,isLastPage:h,widgetParams:p}},dispose:function(e){e=e.state,a(),e=e.setQueryParameter("page",void 0);return S?e.setQueryParameters(Object.keys(T).reduce(function(e,t){return cu(cu({},e),{},uu({},t,void 0))},{})):e},getWidgetUiState:function(e,t){t=t.searchParameters.page||0;return t?cu(cu({},e),{},{page:t+1}):e},getWidgetSearchParameters:function(e,t){var t=t.uiState,r=e,e=(S&&(r=e.setQueryParameters(T)),t.page?t.page-1:0);return r.setQueryParameter("page",e)}}}};function yu(e,t){return s(gu,e,t)}var vu=["name","escapedValue","path"];function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Su(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Ou(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?wu(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Pu(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ju(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pu(Object(r),!0).forEach(function(e){Ru(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pu(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ru(e,t,r){return(t=function(e){e=function(e,t){if("object"!=bu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==bu(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Eu=a({name:"menu",connector:!0}),xu=["isRefined","name:asc"],Iu=function(r){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,Eu()),function(l){var f,m,d,e=l||{},h=e.attribute,t=e.limit,n=void 0===t?10:t,t=e.showMore,p=void 0!==t&&t,t=e.showMoreLimit,i=void 0===t?20:t,t=e.sortBy,g=void 0===t?xu:t,t=e.transformItems,y=void 0===t?function(e){return e}:t;if(!h)throw new Error(Eu("The `attribute` option is required."));if(!0===p&&i<=n)throw new Error(Eu("The `showMoreLimit` option must be greater than `limit`."));var v=!1,b=function(){};function S(){b()}function O(){return v?i:n}return{$$type:"ais.menu",init:function(e){var t=e.instantSearchInstance;r(ju(ju({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(ju(ju({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return a(),e.removeHierarchicalFacet(h).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return ju(ju({},e),{},{menu:ju(ju({},e.menu),{},Ru({},h,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r,n=this,i=e.results,a=e.createURL,o=e.instantSearchInstance,s=e.helper,c=[],u=!1;return f=f||Ct({instantSearchInstance:o,helper:s,attribute:h,widgetType:this.$$type}),m=m||function(t){return a(function(e){return n.getWidgetUiState(e,{searchParameters:s.state.resetPage().toggleFacetRefinement(h,t),helper:s})})},d=d||function(e){var t=Ou(s.getHierarchicalFacetBreadcrumb(h),1)[0];f("click:internal",e||t),s.toggleFacetRefinement(h,e||t).search()},e.results&&(t=e,r=this,b=function(){v=!v,r.render(t)}),i&&(e=(o=i.getFacetValues(h,{sortBy:g,facetOrdering:g===xu}))&&!Array.isArray(o)&&o.data?o.data:[],u=p&&(v||e.length>O()),c=y(e.slice(0,O()).map(function(e){var t=e.name,r=e.escapedValue;e.path;return ju(ju({},Su(e,vu)),{},{label:t,value:r})}),{results:i})),{items:c,createURL:m,refine:d,sendEvent:f,canRefine:0<c.length,widgetParams:l,isShowingMore:v,toggleShowMore:S,canToggleShowMore:u}},getWidgetUiState:function(e,t){var t=Ou(t.searchParameters.getHierarchicalFacetBreadcrumb(h),1)[0];return e=ju(ju({},e),{},{menu:ju(ju({},e.menu),{},Ru({},h,t))}),t=h,e.menu&&(void 0===e.menu[t]&&delete e.menu[t],0===Object.keys(e.menu).length)&&delete e.menu,e},getWidgetSearchParameters:function(e,t){var r,t=t.uiState,t=t.menu&&t.menu[h];return e.isConjunctiveFacet(h)||e.isDisjunctiveFacet(h)?e:(r=(e=e.removeHierarchicalFacet(h).addHierarchicalFacet({name:h,attributes:[h]})).maxValuesPerFacet||0,r=Math.max(r,p?i:n),e=e.setQueryParameter("maxValuesPerFacet",r),t?e.addHierarchicalFacetRefinement(h,t):e.setQueryParameters({hierarchicalFacetsRefinements:ju(ju({},e.hierarchicalFacetsRefinements),{},Ru({},h,[]))}))}}}};function Cu(e,t){return s(Iu,e,t)}function Tu(e){return(Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||ku(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ku(e,t){var r;if(e)return"string"==typeof e?Fu(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fu(e,t):void 0}function Fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Au(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Au(Object(r),!0).forEach(function(e){Mu(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Au(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Mu(e,t,r){return(t=function(e){e=function(e,t){if("object"!=Tu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Tu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Tu(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _u(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,Du()),function(m){var d,e=m||{},t=e.attribute,h=void 0===t?"":t,t=e.items,p=void 0===t?[]:t,t=e.transformItems,g=void 0===t?function(e){return e}:t;if(""===h)throw new Error(Du("The `attribute` option is required."));if(p&&0!==p.length)return d={},{$$type:Lu,init:function(e){var t=e.instantSearchInstance;r(E(E({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(E(E({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return n(),e.removeNumericRefinement(h)},getWidgetUiState:function(e,t){var t=t.searchParameters.getNumericRefinements(h),r=t["="]&&t["="][0];return r||0===r?E(E({},e),{},{numericMenu:E(E({},e.numericMenu),{},Mu({},h,"".concat(t["="])))}):(r=t[">="]&&t[">="][0]||"",t=t["<="]&&t["<="][0]||"",e=E(E({},e),{},{numericMenu:E(E({},e.numericMenu),{},Mu({},h,"".concat(r,":").concat(t)))}),r=h,e.numericMenu&&(":"===e.numericMenu[r]&&delete e.numericMenu[r],0===Object.keys(e.numericMenu).length)&&delete e.numericMenu,e)},getWidgetSearchParameters:function(e,t){var r,t=t.uiState,t=t.numericMenu&&t.numericMenu[h],e=e.setQueryParameters({numericRefinements:E(E({},e.numericRefinements),{},Mu({},h,{}))});return t?-1===t.indexOf(":")?e.addNumericRefinement(h,"=",Number(t)):(r=(t=Nu(t.split(":").map(parseFloat),2))[0],t=t[1],r=y(r)?e.addNumericRefinement(h,">=",r):e,y(t)?r.addNumericRefinement(h,"<=",t):r):e},getRenderState:function(e,t){return E(E({},e),{},{numericMenu:E(E({},e.numericMenu),{},Mu({},h,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var n,t,i=this,r=e.results,a=e.state,o=e.instantSearchInstance,s=e.helper,c=e.createURL,e=(d.refine||(d.refine=function(e){var t=Wu(s.state,h,e);d.sendEvent("click:internal",e),s.setState(t).search()}),d.createURL||(d.createURL=function(r){return function(t){return c(function(e){return i.getWidgetUiState(e,{searchParameters:Wu(r,h,t),helper:s})})}}),d.sendEvent||(d.sendEvent=Hu({instantSearchInstance:o})),!r||0===r.nbHits),o=(n=a,p.map(function(e){var t=e.start,r=e.end,e=e.label;return{label:e,value:encodeURI(JSON.stringify({start:t,end:r})),isRefined:Bu(n,h,{start:t,end:r,label:e})}})),u=!0,l=function(e,t){var r,n,i,a,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(Array.isArray(e)||(o=ku(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o);try{for(l.s();!(t=l.n()).done;){var f=t.value;if(f.isRefined&&"{}"!==decodeURI(f.value)){u=!1;break}}}catch(e){l.e(e)}finally{l.f()}return{createURL:d.createURL(a),items:g(o,{results:r}),hasNoResults:e,canRefine:!(e&&u),refine:d.refine,sendEvent:d.sendEvent,widgetParams:m}}};throw new Error(Du("The `items` option expects an array of objects."))}}var Du=a({name:"numeric-menu",connector:!0}),Lu="ais.numericMenu",Hu=function(e){var t=e.instantSearchInstance;return function(){1===arguments.length&&t.sendEventToInsights(arguments.length<=0?void 0:arguments[0])}};function Bu(e,t,r){var n=e.getNumericRefinements(t);return void 0!==r.start&&void 0!==r.end?r.start===r.end?$u(n,"=",r.start):$u(n,">=",r.start)&&$u(n,"<=",r.end):void 0!==r.start?$u(n,">=",r.start):void 0!==r.end?$u(n,"<=",r.end):void 0===r.start&&void 0===r.end&&Object.keys(n).every(function(e){return 0===(n[e]||[]).length})}function Wu(e,t,r){var r=JSON.parse(decodeURI(r)),n=e.getNumericRefinements(t);if(void 0===r.start&&void 0===r.end)return e.removeNumericRefinement(t);if(Bu(e,t,r)||(e=e.removeNumericRefinement(t)),void 0!==r.start&&void 0!==r.end){if(r.start>r.end)throw new Error("option.start should be > to option.end");if(r.start===r.end)return e=$u(n,"=",r.start)?e.removeNumericRefinement(t,"=",r.start):e.addNumericRefinement(t,"=",r.start)}return void 0!==r.start&&(e=(e=$u(n,">=",r.start)?e.removeNumericRefinement(t,">=",r.start):e).addNumericRefinement(t,">=",r.start)),"number"==typeof(e=void 0!==r.end?(e=$u(n,"<=",r.end)?e.removeNumericRefinement(t,"<=",r.end):e).addNumericRefinement(t,"<=",r.end):e).page&&(e.page=0),e}function $u(e,t,r){return void 0!==e[t]&&e[t].includes(r)}function Uu(e){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zu(n.key),n)}}function Qu(e,t,r){(t=zu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function zu(e){e=function(e,t){if("object"!=Uu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Uu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Uu(e)?e:e+""}var Vu=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");Qu(this,"currentPage",void 0),Qu(this,"total",void 0),Qu(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}var e,r,n;return e=t,(r=[{key:"pages",value:function(){var e,t=this.total,r=this.currentPage,n=this.padding;return 0===t?[0]:Ar((e=this.nbPagesDisplayed(n,t))===t?{end:t}:{start:r-(n=this.calculatePaddingLeft(r,n,t,e)),end:r+(e-n)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,r,n){return e<=t?e:r-t<=e?n-(r-e):t}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}])&&qu(e.prototype,r),n&&qu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ju(e){return(Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zu(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ku(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Zu(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Ju(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ju(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Zu(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var Gu=a({name:"pagination",connector:!0}),Xu=function(r){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,Gu()),function(a){var e=a||{},o=e.totalPages,e=e.padding,s=new Vu({currentPage:0,total:0,padding:void 0===e?3:e}),c={};return{$$type:"ais.pagination",init:function(e){var t=e.instantSearchInstance;r(Ku(Ku({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(Ku(Ku({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return t(),e.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){t=t.searchParameters.page||0;return t?Ku(Ku({},e),{},{page:t+1}):e},getWidgetSearchParameters:function(e,t){t=t.uiState,t=t.page?t.page-1:0;return e.setQueryParameter("page",t)},getWidgetRenderState:function(e){var t=e.results,r=e.helper,n=e.state,i=e.createURL,e=(c.refine||(c.refine=function(e){r.setPage(e),r.search()}),c.createURL||(c.createURL=function(t){return i(function(e){return Ku(Ku({},e),{},{page:t+1})})}),n.page||0),n=(n=(n=t||{nbPages:0}).nbPages,void 0!==o?Math.min(o,n):n);return s.currentPage=e,s.total=n,{createURL:c.createURL,refine:c.refine,canRefine:1<n,currentRefinement:e,nbHits:(null==t?void 0:t.nbHits)||0,nbPages:n,pages:t?s.pages():[],isFirstPage:s.isFirstPage(),isLastPage:s.isLastPage(),widgetParams:a}},getRenderState:function(e,t){return Ku(Ku({},e),{},{pagination:this.getWidgetRenderState(t)})}}}};function Yu(e,t){return s(Xu,e,t)}function el(){var e=Wr(function(e){return(null==(e=e.window.location)?void 0:e.hostname)||""},{fallback:function(){return""}});return{url:"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content=".concat(e,"&utm_campaign=poweredby")}}function tl(e){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rl(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function nl(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?rl(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=tl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==tl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):rl(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function il(e){return function(e){if(Array.isArray(e))return al(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var r;if(e)return"string"==typeof e?al(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?al(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ol=a({name:"query-rules",connector:!0});function sl(e){var i,a,o,t=this.helper,r=this.initialRuleContexts,n=this.trackedFilters,s=this.transformRuleContexts,e=e.state,c=e.ruleContexts||[],n=(i=(n={helper:t,sharedHelperState:e,trackedFilters:n}).helper,a=n.sharedHelperState,o=n.trackedFilters,Object.keys(o).reduce(function(e,t){var r=tr(i.lastResults||{},a,!0).filter(function(e){return e.attribute===t}).map(function(e){return e.numericValue||e.name}),n=(0,o[t])(r);return[].concat(il(e),il(r.filter(function(e){return n.includes(e)}).map(function(e){return"ais-".concat(t,"-").concat(e).replace(/[^a-z0-9-_]+/gi,"_")})))},[])),s=s([].concat(il(r),il(n))).slice(0,10);wr(c,s)||t.overrideStateWithoutTriggeringChangeEvent(nl(nl({},e),{},{ruleContexts:s}))}function cl(l){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(l,ol()),function(i){var a,e=i||{},t=e.trackedFilters,o=void 0===t?{}:t,t=e.transformRuleContexts,s=void 0===t?function(e){return e}:t,t=e.transformItems,r=void 0===t?function(e){return e}:t,c=(Object.keys(o).forEach(function(e){if("function"!=typeof o[e])throw new Error(ol("'The \"".concat(e,'" filter value in the `trackedFilters` option expects a function.')))}),0<Object.keys(o).length),u=[];return{$$type:"ais.queryRules",init:function(e){var t=e.helper,r=e.state,n=e.instantSearchInstance;u=r.ruleContexts||[],a=sl.bind({helper:t,initialRuleContexts:u,trackedFilters:o,transformRuleContexts:s}),c&&(([r.disjunctiveFacetsRefinements,r.facetsRefinements,r.hierarchicalFacetsRefinements,r.numericRefinements].some(function(e){return Boolean(e&&0<Object.keys(e).length)})||Boolean(i.transformRuleContexts))&&a({state:r}),t.on("change",a)),l(nl(nl({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!0)},render:function(e){var t=e.instantSearchInstance;l(nl(nl({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},getWidgetRenderState:function(e){var e=e.results,t=(e||{}).userData;return{items:r(void 0===t?[]:t,{results:e}),widgetParams:i}},getRenderState:function(e,t){return nl(nl({},e),{},{queryRules:this.getWidgetRenderState(t)})},dispose:function(e){var t=e.helper,e=e.state;return n(),c?(t.removeListener("change",a),e.setQueryParameter("ruleContexts",u)):e}}}}function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ll(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function fl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ll(Object(r),!0).forEach(function(e){ml(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ll(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ml(e,t,r){return(t=function(e){e=function(e,t){if("object"!=ul(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=ul(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ul(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?hl(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var pl=a({name:"range-input",connector:!0},{name:"range-slider",connector:!0});function gl(e){var t=e.min,r=e.max,e=e.precision,e=Math.pow(10,e);return{min:t&&Math.floor(t*e)/e,max:r&&Math.ceil(r*e)/e}}var yl=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,pl()),function(s){var e=s||{},t=e.attribute,u=void 0===t?"":t,l=e.min,f=e.max,t=e.precision,m=void 0===t?0:t;if(!u)throw new Error(pl("The `attribute` option is required."));if(y(l)&&y(f)&&f<l)throw new Error(pl("The `max` option can't be lower than `min`."));var c={from:function(e){return e.toLocaleString()},to:function(e){return Number(Number(e).toFixed(m)).toLocaleString()}},i=function(e,t,r,n){var e=e.state,i=t.min,t=t.max,a=dl(e.getNumericRefinement(u,">=")||[],1)[0],o=dl(e.getNumericRefinement(u,"<=")||[],1)[0],s=void 0===r||""===r,c=void 0===n||""===n,r=gl({min:s?void 0:parseFloat(r),max:c?void 0:parseFloat(n),precision:m}),n=r.min,r=r.max,s=y(l)||i!==n?y(l)&&s?l:n:void 0,n=y(f)||t!==r?y(f)&&c?f:r:void 0,c=void 0===s,r=y(i)&&i<=s,c=c||y(s)&&(!y(i)||r),i=void 0===n,r=y(n)&&n<=t,i=i||y(n)&&(!y(t)||r);return(a!==s||o!==n)&&c&&i?(e=e.removeNumericRefinement(u),y(s)&&(e=e.addNumericRefinement(u,">=",s)),(e=y(n)?e.addNumericRefinement(u,"<=",n):e).resetPage()):null};function d(r,n){return function(){var e=dl(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[void 0,void 0],2),t=e[0],e=e[1],t=i(r,n,t,e);t&&r.setState(t).search()}}return{$$type:"ais.range",init:function(e){r(fl(fl({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){r(fl(fl({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e,t){return fl(fl({},e),{},{range:fl(fl({},e.range),{},ml({},u,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r=e.results,n=e.helper,e=e.instantSearchInstance,i=qt(r&&r.disjunctiveFacets||[],function(e){return e.name===u}),i=i&&i.stats||{min:void 0,max:void 0},a=(i=i,a=y(l)?l:y(i.min)?i.min:0,i=y(f)?f:y(i.max)?i.max:0,gl({min:a,max:i,precision:m})),o=(o=dl((i=n).getNumericRefinement(u,">=")||[],1)[0],i=dl(i.getNumericRefinement(u,"<=")||[],1)[0],[y(o)?o:-1/0,y(i)?i:1/0]),i=d(n,r?a:{min:void 0,max:void 0});return{refine:i,canRefine:a.min!==a.max,format:c,range:a,sendEvent:(t=e,function(){1===arguments.length&&t.sendEventToInsights(arguments.length<=0?void 0:arguments[0])}),widgetParams:fl(fl({},s),{},{precision:m}),start:o}},dispose:function(e){e=e.state;return n(),e.removeDisjunctiveFacet(u).removeNumericRefinement(u)},getWidgetUiState:function(e,t){var t=t.searchParameters.getNumericRefinements(u),r=t[">="],r=void 0===r?[]:r,t=t["<="],t=void 0===t?[]:t;return 0===r.length&&0===t.length?e:fl(fl({},e),{},{range:fl(fl({},e.range),{},ml({},u,"".concat(r,":").concat(t)))})},getWidgetSearchParameters:function(e,t){var r,t=t.uiState,e=e.addDisjunctiveFacet(u).setQueryParameters({numericRefinements:fl(fl({},e.numericRefinements),{},ml({},u,{}))}),t=(y(l)&&(e=e.addNumericRefinement(u,">=",l)),y(f)&&(e=e.addNumericRefinement(u,"<=",f)),t.range&&t.range[u]);return e=t&&-1!==t.indexOf(":")&&(r=(t=dl(t.split(":").map(parseFloat),2))[0],t=t[1],y(r)&&(!y(l)||l<r)&&(e=(e=e.removeNumericRefinement(u,">=")).addNumericRefinement(u,">=",r)),y(t))&&(!y(f)||t<f)?(e=e.removeNumericRefinement(u,"<=")).addNumericRefinement(u,"<=",t):e}}}};function vl(e,t){return s(yl,e,t)}function bl(e){return(bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Sl=["name","escapedValue"],Ol=["escapedValue","value"];function wl(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wl(Object(r),!0).forEach(function(e){Pl(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wl(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Pl(e,t,r){return(t=function(e){e=function(e,t){if("object"!=bl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=bl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==bl(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jl(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}var Rl=a({name:"refinement-list",connector:!0}),El=["isRefined","count:desc","name:asc"],xl=function(c){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(c,Rl()),function(m){var e=m||{},d=e.attribute,t=e.operator,i=void 0===t?"or":t,t=e.limit,h=void 0===t?10:t,t=e.showMore,p=void 0!==t&&t,t=e.showMoreLimit,a=void 0===t?20:t,t=e.sortBy,g=void 0===t?El:t,t=e.escapeFacetValues,s=void 0===t||t,t=e.transformItems,y=void 0===t?function(e){return e}:t;if(!d)throw new Error(Rl("The `attribute` option is required."));if(!/^(and|or)$/.test(i))throw new Error(Rl('The `operator` must one of: `"and"`, `"or"` (got "'.concat(i,'").')));if(!0===p&&a<=h)throw new Error(Rl("`showMoreLimit` should be greater than `limit`."));function v(e){var t=e.name,r=e.escapedValue;return N(N({},jl(e,Sl)),{},{value:r,label:t,highlighted:t})}var b,S,O,w=[],P=!0,j=!1,R=function(){};function E(){R()}function x(){return j?a:h}function I(a,o){return function(i){return function(e){var t,r=i.instantSearchInstance,n=i.results;""===e&&w?c(N(N({},o.getWidgetRenderState(N(N({},i),{},{results:b}))),{},{instantSearchInstance:r}),!1):(t={highlightPreTag:(s?T:bt).highlightPreTag,highlightPostTag:(s?T:bt).highlightPostTag},a.searchForFacetValues(d,e,Math.min(x(),100),t).then(function(e){e=s?e.facetHits.map(function(e){return yt(yt({},e),{},{highlighted:St(e.highlighted)})}):e.facetHits,e=y(e.map(function(e){var t=e.escapedValue,r=e.value;return N(N({},jl(e,Ol)),{},{value:t,label:r})}),{results:n});c(N(N({},o.getWidgetRenderState(N(N({},i),{},{results:b}))),{},{items:e,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:r}),!1)}))}}}var C=function(){return function(){}};return{$$type:"ais.refinementList",init:function(e){c(N(N({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){c(N(N({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e,t){return N(N({},e),{},{refinementList:N(N({},e.refinementList),{},Pl({},d,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r,n=this,i=e.results,a=e.state,o=e.createURL,s=e.instantSearchInstance,c=e.helper,u=[],l=[],s=(O&&S&&C||(O=Ct({instantSearchInstance:s,helper:c,attribute:d,widgetType:this.$$type}),S=function(e){O("click:internal",e),c.toggleFacetRefinement(d,e).search()},C=I(c,this)),i&&(l=(s=i.getFacetValues(d,{sortBy:g,facetOrdering:g===El}))&&Array.isArray(s)?s:[],u=y(l.slice(0,x()).map(v),{results:i}),s=a.maxValuesPerFacet,f=x(),P=f<s?l.length<=f:l.length<f,b=i,w=u,e.results)&&(t=e,r=this,R=function(){j=!j,r.render(t)}),C&&C(e)),l=j&&w.length>h,f=p&&!P;return{createURL:function(t){return o(function(e){return n.getWidgetUiState(e,{searchParameters:a.resetPage().toggleFacetRefinement(d,t),helper:c})})},items:u,refine:S,searchForItems:s,isFromSearch:!1,canRefine:0<u.length,widgetParams:m,isShowingMore:j,canToggleShowMore:l||f,toggleShowMore:E,sendEvent:O,hasExhaustiveItems:P}},dispose:function(e){e=e.state,r(),e=e.setQueryParameter("maxValuesPerFacet",void 0);return"and"===i?e.removeFacet(d):e.removeDisjunctiveFacet(d)},getWidgetUiState:function(e,t){var t=t.searchParameters,t="or"===i?t.getDisjunctiveRefinements(d):t.getConjunctiveRefinements(d);return e=N(N({},e),{},{refinementList:N(N({},e.refinementList),{},Pl({},d,t))}),t=d,e.refinementList&&(e.refinementList[t]&&0!==e.refinementList[t].length||delete e.refinementList[t],0===Object.keys(e.refinementList).length)&&delete e.refinementList,e},getWidgetSearchParameters:function(e,t){var r,t=t.uiState,n="or"===i;return e.isHierarchicalFacet(d)||n&&e.isConjunctiveFacet(d)||!n&&e.isDisjunctiveFacet(d)?e:(t=t.refinementList&&t.refinementList[d],r=(e=n?e.addDisjunctiveFacet(d).removeDisjunctiveFacetRefinement(d):e.addFacet(d).removeFacetRefinement(d)).maxValuesPerFacet||0,r=Math.max(r,p?a:h),e=e.setQueryParameter("maxValuesPerFacet",r),t?t.reduce(function(e,t){return n?e.addDisjunctiveFacetRefinement(d,t):e.addFacetRefinement(d,t)},e):e.setQueryParameters(Pl({},r=n?"disjunctiveFacetsRefinements":"facetsRefinements",N(N({},e[r]),{},Pl({},d,[])))))}}}};function Il(e,t){return s(xl,e,t)}function Cl(e){return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tl(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Nl(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Tl(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Cl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Cl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Cl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Tl(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var kl=a({name:"related-products",connector:!0}),Fl=function(r){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,kl()),function(n){var i,e=n||{},t=e.escapeHTML,a=void 0===t||t,o=e.objectIDs,s=e.limit,c=e.threshold,u=e.fallbackParameters,l=e.queryParameters,t=e.transformItems,f=void 0===t?function(e){return e}:t;if(o&&0!==o.length)return{dependsOn:"recommend",$$type:"ais.relatedProducts",init:function(e){r(Nl(Nl({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=this.getWidgetRenderState(e);r(Nl(Nl({},t),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e){return e},getWidgetRenderState:function(e){var t=e.results,r=e.helper,e=e.instantSearchInstance;if(i=i||Dt({instantSearchInstance:e,helper:r,widgetType:this.$$type}),null==t)return{items:[],widgetParams:n,sendEvent:i};a&&0<t.hits.length&&(t.hits=wt(t.hits));e=ur(ar(t.hits,0,1),t.queryID);return{items:f(e,{results:t}),widgetParams:n,sendEvent:i}},dispose:function(e){e=e.recommendState;return m(),e.removeParams(this.$$id)},getWidgetParameters:function(e){var r=this;return o.reduce(function(e,t){return e.addRelatedProducts({objectID:t,maxRecommendations:s,threshold:c,fallbackParameters:u?Nl(Nl({},u),a?T:{}):void 0,queryParameters:Nl(Nl({},l),a?T:{}),$$id:r.$$id})},e.removeParams(this.$$id))}};throw new Error(kl("The `objectIDs` option is required."))}};function Al(e,t){return s(Fl,e,t)}function Ml(e){return(Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _l(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Dl(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_l(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Ml(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Ml(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ml(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):_l(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Ll(e,t){return t(e)}var Hl=a({name:"search-box",connector:!0}),Bl=function(r){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,Hl()),function(n){var i,a,e=(n||{}).queryHook,o=void 0===e?Ll:e;return{$$type:"ais.searchBox",init:function(e){var t=e.instantSearchInstance;r(Dl(Dl({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(Dl(Dl({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return t(),e.setQueryParameter("query",void 0)},getRenderState:function(e,t){return Dl(Dl({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper,r=e.instantSearchInstance,e=e.state;return i||(i=function(e){o(e,function(e){return t.setQuery(e).search()})},a=function(){t.setQuery("").search()}),{query:e.query||"",refine:i,clear:a,widgetParams:n,isSearchStalled:"stalled"===r.status}},getWidgetUiState:function(e,t){t=t.searchParameters.query||"";return""===t||e&&e.query===t?e:Dl(Dl({},e),{},{query:t})},getWidgetSearchParameters:function(e,t){t=t.uiState;return e.setQueryParameter("query",t.query||"")}}}};function Wl(e,t){return s(Bl,e,t)}function $l(e){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ul(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ql(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ul(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=$l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=$l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==$l(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Ul(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var Ql=a({name:"sort-by",connector:!0});function zl(e){return"strategy"in e&&void 0!==e.strategy}function Vl(e){return zl(e)?e.strategy:e.value}function Jl(e,t){if(t)return void 0!==(e=e[t])&&zl(e)}var Zl=function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w,c=(h(n,Ql()),{});return function(a){var i,e=a||{},o=e.items,e=e.transformItems,s=void 0===e?function(e){return e}:e;if(Array.isArray(o))return i={},o.forEach(function(e,t){var r="value"in e&&void 0!==e.value,n="strategy"in e&&void 0!==e.strategy;if(r&&n)throw new Error(Ql("Item at index ".concat(t,' cannot have both "value" and "strategy" properties.')));if(!r&&!n)throw new Error(Ql("Item at index ".concat(t,' must have either a "value" or "strategy" property.')));r=Vl(e);i[r]=e}),c.itemsLookup=i,{$$type:"ais.sortBy",init:function(e){var t=e.instantSearchInstance;if(o.some(function(e){return"strategy"in e&&e.strategy})&&!t.compositionID)throw new Error(Ql('Sorting strategies can only be used in composition mode. Please provide a "compositionID" to your InstantSearch instance.'));var e=this.getWidgetRenderState(e),r=e.currentRefinement;qt(o,function(e){return Vl(e)===r});n(ql(ql({},e),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;n(ql(ql({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return t(),c.isUsingComposition&&e.sortBy&&(e=e.setQueryParameter("sortBy",void 0)),c.initialValue&&e.index!==c.initialValue?e.setIndex(c.initialValue):e},getRenderState:function(e,t){return ql(ql({},e),{},{sortBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.helper,n=e.state,i=e.parent,e=e.instantSearchInstance;!c.initialValue&&i&&(c.initialValue=i.getIndexName()),c.refine||(c.isUsingComposition=Boolean(null==e?void 0:e.compositionID),c.refine=function(e){var t=c.itemsLookup[e];(t&&zl(t)?r.setQueryParameter("sortBy",t.strategy):r.setQueryParameter("sortBy",void 0).setIndex(e)).search()});i=s(o,{results:t}).map(function(e){return{label:e.label,value:Vl(e)}}),e=c.isUsingComposition&&Jl(c.itemsLookup,n.sortBy)?n.sortBy:n.index,n=!t||0===t.nbHits;return{currentRefinement:e,options:i,refine:c.refine,hasNoResults:n,canRefine:!n&&0<o.length,widgetParams:a}},getWidgetUiState:function(e,t){t=t.searchParameters,t=c.isUsingComposition&&Jl(c.itemsLookup,t.sortBy)?t.sortBy:t.index;return ql(ql({},e),{},{sortBy:t!==c.initialValue?t:void 0})},getWidgetSearchParameters:function(e,t){var r,t=t.uiState.sortBy||c.initialValue||e.index;return Jl(c.itemsLookup,t)?(r=c.itemsLookup[t],e.setQueryParameter("sortBy",r.strategy)):e.setQueryParameter("index",t)}};throw new Error(Ql("The `items` option expects an array of objects."))}};function Kl(e,t){return s(Zl,e,t)}function Gl(e){return(Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xl(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Yl(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Xl(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Gl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Gl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Gl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Xl(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var ef=a({name:"stats",connector:!0}),tf=function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(n,ef()),function(r){return{$$type:"ais.stats",init:function(e){var t=e.instantSearchInstance;n(Yl(Yl({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;n(Yl(Yl({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(){e()},getRenderState:function(e,t){return Yl(Yl({},e),{},{stats:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,e=e.state;return t?{hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbSortedHits:t.nbSortedHits,areHitsSorted:void 0!==t.appliedRelevancyStrictness&&0<t.appliedRelevancyStrictness&&t.nbSortedHits!==t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:r}:{hitsPerPage:e.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:e.page||0,processingTimeMS:-1,query:e.query||"",widgetParams:r}}}}};function rf(e,t){return s(tf,e,t)}function nf(e){return(nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function af(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function of(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?af(Object(r),!0).forEach(function(e){sf(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):af(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function sf(e,t,r){return(t=function(e){e=function(e,t){if("object"!=nf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=nf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==nf(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?uf(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var lf=a({name:"toggle-refinement",connector:!0}),ff="ais.toggleRefinement",mf=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,lf()),function(g){var y,v,b,S,O,e=g||{},w=e.attribute,t=e.on,e=e.off;if(w)return y=void 0!==e,v=$r(void 0===t||t).map(Ut),b=y?$r(e).map(Ut):void 0,O=function(t,e){var r=e.state,n=e.createURL,i=e.getWidgetUiState,a=e.helper;return function(){r=r.resetPage();var e=t?v:b,e=(e&&e.forEach(function(e){r=r.removeDisjunctiveFacetRefinement(w,e)}),t?b:v);return e&&e.forEach(function(e){r=r.addDisjunctiveFacetRefinement(w,e)}),n(function(e){return i(e,{searchParameters:r,helper:a})})}},{$$type:ff,init:function(e){var t=e.instantSearchInstance;r(of(of({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(of(of({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return n(),e.removeDisjunctiveFacet(w)},getRenderState:function(e,t){return of(of({},e),{},{toggleRefinement:of(of({},e.toggleRefinement),{},sf({},w,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var r,t,s,c,u,l,n,i=e.state,a=e.helper,o=e.results,f=e.createURL,e=e.instantSearchInstance,m=o?v.every(function(e){return i.isDisjunctiveFacetRefined(w,e)}):v.every(function(e){return i.isDisjunctiveFacetRefined(w,e)}),d={isRefined:m,count:0},h={isRefined:y&&!m,count:0},p=(o&&(p=$r(b||!1),r=o.getFacetValues(w,{})||[],t=v.map(function(t){return qt(r,function(e){return e.escapedValue===Ut(String(t))})}).filter(function(e){return void 0!==e}),p=y?p.map(function(t){return qt(r,function(e){return e.escapedValue===Ut(String(t))})}).filter(function(e){return void 0!==e}):[],d={isRefined:!!t.length&&t.every(function(e){return e.isRefined}),count:t.reduce(function(e,t){return e+t.count},0)||null},h={isRefined:!!p.length&&p.every(function(e){return e.isRefined}),count:p.reduce(function(e,t){return e+t.count},0)||r.reduce(function(e,t){return e+t.count},0)}),S||(s=(t={instantSearchInstance:e,attribute:w,on:v,helper:a}).instantSearchInstance,c=t.helper,u=t.attribute,l=t.on,S=function(){for(var e,t,r,n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];1===a.length?s.sendEventToInsights(a[0]):(n=a[1],e=void 0===(e=a[2])?"Filter Applied":e,t=(r=cf(a[0].split(":"),2))[0],r=r[1],"click"!==t||void 0===l||n||s.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:ff,eventType:t,eventModifier:r,payload:{eventName:e,index:(null==(n=c.lastResults)?void 0:n.index)||c.state.index,filters:l.map(function(e){return"".concat(u,":").concat(e)})},attribute:u}))}),m?h:d);return{value:{name:w,isRefined:m,count:o?p.count:null,onFacetValue:d,offFacetValue:h},createURL:O(m,{state:i,createURL:f,helper:a,getWidgetUiState:this.getWidgetUiState}),sendEvent:S,canRefine:Boolean(o?p.count:null),refine:(n=a,function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isRefined:!1}).isRefined;e?(v.forEach(function(e){return n.removeDisjunctiveFacetRefinement(w,e)}),y&&b.forEach(function(e){return n.addDisjunctiveFacetRefinement(w,e)})):(S("click:internal",e),y&&b.forEach(function(e){return n.removeDisjunctiveFacetRefinement(w,e)}),v.forEach(function(e){return n.addDisjunctiveFacetRefinement(w,e)})),n.search()}),widgetParams:g}},getWidgetUiState:function(e,t){var r=t.searchParameters,t=v&&v.every(function(e){return r.isDisjunctiveFacetRefined(w,e)});return t?of(of({},e),{},{toggle:of(of({},e.toggle),{},sf({},w,t))}):(null!=(t=e.toggle)&&delete t[w],e)},getWidgetSearchParameters:function(e,t){var r,t=t.uiState;return e.isHierarchicalFacet(w)||e.isConjunctiveFacet(w)?e:(r=e.addDisjunctiveFacet(w).removeDisjunctiveFacetRefinement(w),Boolean(t.toggle&&t.toggle[w])?(v&&v.forEach(function(e){r=r.addDisjunctiveFacetRefinement(w,e)}),r):y?(b&&b.forEach(function(e){r=r.addDisjunctiveFacetRefinement(w,e)}),r):r.setQueryParameters({disjunctiveFacetsRefinements:of(of({},e.disjunctiveFacetsRefinements),{},sf({},w,[]))}))}};throw new Error(lf("The `attribute` option is required."))}};function df(e,t){return s(mf,e,t)}function hf(e){return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pf(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function gf(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pf(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=hf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=hf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==hf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):pf(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var yf=a({name:"trending-items",connector:!0}),vf=function(m){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(m,yf()),function(n){var i,e=n||{},t=e.facetName,r=e.facetValue,a=e.limit,o=e.threshold,s=e.fallbackParameters,c=e.queryParameters,u=e.escapeHTML,l=void 0===u||u,u=e.transformItems,f=void 0===u?function(e){return e}:u;if(t&&!r||!t&&r)throw new Error(yf("When you provide facetName (received type ".concat(nt(t),"), you must also provide facetValue (received type ").concat(nt(r),").")));return{dependsOn:"recommend",$$type:"ais.trendingItems",init:function(e){m(gf(gf({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=this.getWidgetRenderState(e);m(gf(gf({},t),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e){return e},getWidgetRenderState:function(e){var t=e.results,r=e.helper,e=e.instantSearchInstance;if(i=i||Dt({instantSearchInstance:e,helper:r,widgetType:this.$$type}),null==t)return{items:[],widgetParams:n,sendEvent:i};l&&0<t.hits.length&&(t.hits=wt(t.hits));e=ur(ar(t.hits,0,1),t.queryID);return{items:f(e,{results:t}),widgetParams:n,sendEvent:i}},dispose:function(e){e=e.recommendState;return d(),e.removeParams(this.$$id)},getWidgetParameters:function(e){return e.removeParams(this.$$id).addTrendingItems({facetName:t,facetValue:r,maxRecommendations:a,threshold:o,fallbackParameters:s?gf(gf({},s),l?T:{}):void 0,queryParameters:gf(gf({},c),l?T:{}),$$id:this.$$id})}}}};function bf(e,t){return s(vf,e,t)}function Sf(e){return(Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Of(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function wf(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Of(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Sf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Sf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Sf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Of(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var Pf=a({name:"looking-similar",connector:!0}),jf=function(r){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(r,Pf()),function(n){var i,e=n||{},t=e.escapeHTML,a=void 0===t||t,o=e.objectIDs,s=e.limit,c=e.threshold,u=e.fallbackParameters,l=e.queryParameters,t=e.transformItems,f=void 0===t?function(e){return e}:t;if(o&&0!==o.length)return{dependsOn:"recommend",$$type:"ais.lookingSimilar",init:function(e){r(wf(wf({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=this.getWidgetRenderState(e);r(wf(wf({},t),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e){return e},getWidgetRenderState:function(e){var t=e.results,r=e.helper,e=e.instantSearchInstance;if(i=i||Dt({instantSearchInstance:e,helper:r,widgetType:this.$$type}),null==t)return{items:[],widgetParams:n,sendEvent:i};a&&0<t.hits.length&&(t.hits=wt(t.hits));e=ur(ar(t.hits,0,1),t.queryID);return{items:f(e,{results:t}),widgetParams:n,sendEvent:i}},dispose:function(e){e=e.recommendState;return m(),e.removeParams(this.$$id)},getWidgetParameters:function(e){var r=this;return o.reduce(function(e,t){return e.addLookingSimilar({objectID:t,maxRecommendations:s,threshold:c,fallbackParameters:u?wf(wf({},u),a?T:{}):void 0,queryParameters:wf(wf({},l),a?T:{}),$$id:r.$$id})},e.removeParams(this.$$id))}};throw new Error(Pf("The `objectIDs` option is required."))}};function Rf(e,t){return s(jf,e,t)}function Ef(e){return(Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?If(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?If(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function If(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Cf(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Tf(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Cf(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Ef(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Ef(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ef(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Cf(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var Nf=a({name:"filter-suggestions",connector:!0}),kf=function(O){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:w;return h(O,Nf()),function(t){var a,o,s,c,i,u,l,f,m,d,h,p=t.agentId,g=t.attributes,e=t.maxSuggestions,y=void 0===e?3:e,e=t.debounceMs,v=void 0===e?300:e,e=t.hitsToSample,b=void 0===e?5:e,e=t.transformItems,r=void 0===e?function(e){return e}:e,S=t.transport;if(p||S)return c=!(s=[]),m=f=u=null,d=function(e){e="results"in e?e.results:void 0;return{suggestions:r(s,{results:e}),isLoading:c,refine:l,widgetParams:t}},h=300,{$$type:"ais.filterSuggestions",init:function(e){var t=e.instantSearchInstance,n=e.helper;if(f=n,S)a=S.api,o=S.headers||{};else{var r=xf(Kt(t.client),2),i=r[0],r=r[1];if(!i||!r)throw new Error(Nf("Could not extract Algolia credentials from the search client."));a="https://".concat(i,".algolia.net/agent-studio/1/agents/").concat(p,"/completions?compatibilityMode=ai-sdk-5&stream=false"),o={"x-algolia-application-id":i,"x-algolia-api-key":r,"x-algolia-agent":Zt(t.client)}}l=function(t,e){var r=(null==(r=n.state.hierarchicalFacets.find(function(e){return e.attributes.includes(t)}))?void 0:r.name)||t;n.toggleFacetRefinement(r,e),n.search()},O(Tf(Tf({},d(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t,r=e.results,n=e.instantSearchInstance;m=e,r&&(r=(r=r).query||"",t=f?JSON.stringify(f.state.facetsRefinements)+JSON.stringify(f.state.disjunctiveFacetsRefinements)+JSON.stringify(f.state.hierarchicalFacetsRefinements):"",(r="".concat(r,"|").concat(t))!==u)&&(u=r,clearTimeout(i),i=setTimeout(function(){var e,r,n,t,i;null!=(e=m)&&e.results&&(e=m.results,r=m,null!=e&&null!=(t=e.hits)&&t.length?(n=Date.now(),c=!0,O(Tf(Tf({},d(r)),{},{instantSearchInstance:r.instantSearchInstance}),!1),t=(null==(t=e._rawResults)||null==(t=t[0])?void 0:t.facets)||{},t=g?Object.fromEntries(Object.entries(t).filter(function(e){e=xf(e,1)[0];return g.includes(e)})):t,i=f?tr(e,f.state).map(function(e){return{attribute:e.attribute,value:e.name}}):[],t=JSON.stringify({query:e.query,facets:t,hitsSample:e.hits.slice(0,b),currentRefinements:i,maxSuggestions:y}),e={messages:[{id:"sr-".concat(Date.now()),createdAt:(new Date).toISOString(),role:"user",parts:[{type:"text",text:t}]}]},i=null!=S&&S.prepareSendMessagesRequest?S.prepareSendMessagesRequest(e).body:e,fetch(a,{method:"POST",headers:Tf(Tf({},o),{},{"Content-Type":"application/json"}),body:JSON.stringify(i)}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error ".concat(e.status))}).then(function(e){e=JSON.parse(e.parts[1].text),e=(Array.isArray(e)?e:[]).filter(function(e){return!(!(null!=e&&e.attribute&&null!=e&&e.value&&null!=e&&e.label)||g&&!g.includes(e.attribute))}).slice(0,y);s=e}).catch(function(){s=[]}).finally(function(){function e(){c=!1,O(Tf(Tf({},d(r)),{},{instantSearchInstance:r.instantSearchInstance}),!1)}var t=Date.now()-n,t=Math.max(0,h-t);0<t?setTimeout(e,t):e()})):(c=!(s=[]),O(Tf(Tf({},d(r)),{},{instantSearchInstance:r.instantSearchInstance}),!1)))},v)),O(Tf(Tf({},d(e)),{},{instantSearchInstance:n}),!1)},dispose:function(){clearTimeout(i),n()},getRenderState:function(e,t){return Tf(Tf({},e),{},{filterSuggestions:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){return d(e)}};throw new Error(Nf("The `agentId` option is required unless a custom `transport` is provided."))}};function Ff(e,t){return s(kf,e,t)}function Af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?Mf(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){{var r;if(e)return"string"==typeof e?Df(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Df(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Lf(){var t,r,n,i,a,o,s,c=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).catchError,u=cn(),e=(t=cn(),r=on(),l=r.getIndexId(),e=(f=_f(O.useState(function(){return t.getUiState()}),2))[0],n=f[1],f=e[l],d=(h=_f(O.useState(function(){return t.renderState}),2))[0],i=h[1],h=d[l]||{},l=O.useCallback(function(e){t.setUiState(e)},[t]),m=O.useCallback(function(e){r.setIndexUiState(e)},[r]),O.useEffect(function(){function e(){n(t.getUiState()),i(t.renderState)}return t.addListener("render",e),e(),function(){t.removeListener("render",e)}},[t]),{uiState:e,setUiState:l,indexUiState:f,setIndexUiState:m,renderState:d,indexRenderState:h}),l=e.uiState,f=e.setUiState,m=e.indexUiState,d=e.setIndexUiState,h=e.renderState,e=e.indexRenderState,p=(a=cn(),o=on(),p=Af(O.useState(function(){var e=rn(o);return{results:e.results,scopedResults:e.scopedResults}}),2),g=p[0],s=p[1],O.useEffect(function(){function e(){var e=o.getResults();null!==e?s({results:e,scopedResults:o.getScopedResults()}):0===a.mainIndex.getIndexName().length&&(e=a.mainIndex.getWidgets().find(Ht))&&s({results:rn(o).results,scopedResults:e.getScopedResults()})}return a.addListener("render",e),e(),function(){a.removeListener("render",e)}},[a,o]),g),g=p.results,p=p.scopedResults,y=O.useCallback(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.use.apply(u,t),function(){u.unuse.apply(u,t)}},[u]),v=O.useCallback(function(){u.refresh()},[u]);return yn(function(){var e;return c?(u.addListener("error",e=function(){}),function(){return u.removeListener("error",e)}):function(){}},[u,c]),{results:g,scopedResults:p,uiState:l,setUiState:f,indexUiState:m,setIndexUiState:d,renderState:h,indexRenderState:e,addMiddlewares:y,refresh:v,status:u.status,error:u.error}}function Hf(e){return(Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bf(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Wf(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Bf(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!=Hf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=Hf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Hf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Bf(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function $f(e){var t=e.children,r=e.renderToString,n=e.notifyServer,i=e.searchRef,a=e.skipRecommend;return Promise.resolve().then(function(){r(ee.createElement(un.Provider,{value:{notifyServer:n}},t))}).then(function(){return new Promise(function(e){return setTimeout(e,0)})}).then(function(){if(i.current)return function(i,e){var a,o=1<arguments.length&&void 0!==e&&e,s=i.mainHelper,t=s.getClient();return i.compositionID?s.setClient(Wf(Wf({},t),{},{search:function(e){return a=[e.requestBody.params],t.search(e)}})):s.setClient(Wf(Wf({},t),{},{search:function(e){return a=e.map(function(e){return e.params}),t.search(e)}})),i._hasSearchWidget&&(i.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),!o&&i._hasRecommendWidget&&s.recommend(),new Promise(function(e,t){var r=!i._hasSearchWidget,n=!i._hasRecommendWidget||o;s.derivedHelpers[0].on("result",function(){r=!0,n&&e(a)}),s.derivedHelpers[0].on("recommend:result",function(){n=!0,r&&e(a)}),s.on("error",function(e){t(e)}),i.on("error",function(e){t(e)}),s.derivedHelpers.forEach(function(e){return e.on("error",function(e){t(e)})})})}(i.current,a);throw new Error("Unable to retrieve InstantSearch's server state in `getServerState()`. Did you mount the <InstantSearch> component?")}).then(function(e){return{initialResults:function(e,a){var o={},s=0;if(Pr(e,function(e){var t,r,n=e.getResults(),i=null==(i=e.getHelper())?void 0:i.lastRecommendResults;(n||i)&&(r=(t=(null==n||null==(t=n._rawResults)?void 0:t.length)||0)?null==a?void 0:a.slice(s,s+t):[],s+=t,o[e.getIndexId()]=Wf(Wf(Wf({},n&&{state:Wf(Wf({},n._state),{},{clickAnalytics:null==r||null==(t=r[0])?void 0:t.clickAnalytics,userToken:null==r||null==(e=r[0])?void 0:e.userToken}),results:n._rawResults}),i&&{recommendResults:{params:JSON.parse(JSON.stringify(i._state.params)),results:i._rawResults}}),r&&{requestParams:r}))}),0===Object.keys(o).length)throw new Error("The root index does not have any results. Make sure you have at least one widget that provides results.");return o}(i.current.mainIndex,e)}})}function Uf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function qf(e,t,r){(t=function(e){e=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}function Qf(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function te(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qf(Object(r),!0).forEach(function(e){qf(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qf(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function re(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function zf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||Zf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vf(e){return function(e){if(Array.isArray(e))return Uf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jf(e){return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zf(e,t){var r;if(e)return"string"==typeof e?Uf(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uf(e,t):void 0}var F=c(u(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),Kf=u(function(e){e.exports=function(e,t){if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports}),Je=(c(Kf),u(function(e){e.exports=function(e,t){if(null==e)return{};var r,n=Kf(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n},e.exports.__esModule=!0,e.exports.default=e.exports})),A=c(Je);function M(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])},[]).filter(Boolean).join(" ")}var Gf=["children","classNames"];var Xf=["className","onSelect","onApply"];var Yf=["children","classNames","hidden"];var em=u(function(t){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),tm=c(em),rm=u(function(e){var n=em.default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if(r=r.call(e,t||"default"),"object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")},e.exports.__esModule=!0,e.exports.default=e.exports}),nm=(c(rm),u(function(e){var t=em.default;e.exports=function(e){return e=rm(e,"string"),"symbol"==t(e)?e:e+""},e.exports.__esModule=!0,e.exports.default=e.exports})),Ze=(c(nm),u(function(e){e.exports=function(e,t,r){return(t=nm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports})),im=c(Ze),am=u(function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}),om=(c(am),u(function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports})),sm=(c(om),u(function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports})),cm=(c(sm),u(function(e){e.exports=function(e,t){var r;if(e)return"string"==typeof e?sm(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sm(e,t):void 0},e.exports.__esModule=!0,e.exports.default=e.exports})),um=(c(cm),u(function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports})),Ke=(c(um),u(function(e){e.exports=function(e,t){return am(e)||om(e,t)||cm(e,t)||um()},e.exports.__esModule=!0,e.exports.default=e.exports})),lm=c(Ke);function fm(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}var mm={damping:.7,stiffness:.05,mass:1.25},dm=!1;"undefined"!=typeof window&&(null!=(Ge=window.document)&&Ge.addEventListener("mousedown",function(){dm=!0}),null!=(Xe=window.document)&&Xe.addEventListener("mouseup",function(){dm=!1}),null!=(t=window.document))&&t.addEventListener("click",function(){dm=!1});var hm=new Map;function pm(){for(var r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fm(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fm(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},mm),n=!1,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(e){var t;"instant"===e?n=!0:"object"===tm(e)&&(n=!1,r.damping=null!=(t=e.damping)?t:r.damping,r.stiffness=null!=(t=e.stiffness)?t:r.stiffness,r.mass=null!=(t=e.mass)?t:r.mass)});var a=JSON.stringify(r);return hm.has(a)||hm.set(a,Object.freeze(r)),n?"instant":hm.get(a)}function gm(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n,r,e))return n}}function ym(e){e=e.createElement;return e("svg",{className:"ais-AutocompleteSubmitIcon",viewBox:"0 0 24 24",fill:"currentColor"},e("path",{d:"M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"}))}function vm(e){e=e.createElement;return e("svg",{className:"ais-AutocompleteLoadingIcon",viewBox:"0 0 100 100"},e("circle",{cx:"50",cy:"50",fill:"none",r:"35",stroke:"currentColor",strokeDasharray:"164.93361431346415 56.97787143782138",strokeWidth:"6"},e("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;90 50 50;180 50 50;360 50 50",keyTimes:"0;0.40;0.65;1"})))}function bm(e){e=e.createElement;return e("svg",{className:"ais-AutocompleteClearIcon",viewBox:"0 0 24 24",fill:"currentColor"},e("path",{d:"M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"}))}function Sm(e){e=e.createElement;return e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},e("path",{d:"M12.516 6.984v5.25l4.5 2.672-0.75 1.266-5.25-3.188v-6h1.5zM12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z"}))}function Om(e){e=e.createElement;return e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},e("path",{d:"M18 7v13c0 0.276-0.111 0.525-0.293 0.707s-0.431 0.293-0.707 0.293h-10c-0.276 0-0.525-0.111-0.707-0.293s-0.293-0.431-0.293-0.707v-13zM17 5v-1c0-0.828-0.337-1.58-0.879-2.121s-1.293-0.879-2.121-0.879h-4c-0.828 0-1.58 0.337-2.121 0.879s-0.879 1.293-0.879 2.121v1h-4c-0.552 0-1 0.448-1 1s0.448 1 1 1h1v13c0 0.828 0.337 1.58 0.879 2.121s1.293 0.879 2.121 0.879h10c0.828 0 1.58-0.337 2.121-0.879s0.879-1.293 0.879-2.121v-13h1c0.552 0 1-0.448 1-1s-0.448-1-1-1zM9 5v-1c0-0.276 0.111-0.525 0.293-0.707s0.431-0.293 0.707-0.293h4c0.276 0 0.525 0.111 0.707 0.293s0.293 0.431 0.293 0.707v1zM9 11v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1zM13 11v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1z"}))}function wm(e){e=e.createElement;return e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},e("path",{d:"M8 17v-7.586l8.293 8.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-8.293-8.293h7.586c0.552 0 1-0.448 1-1s-0.448-1-1-1h-10c-0.552 0-1 0.448-1 1v10c0 0.552 0.448 1 1 1s1-0.448 1-1z"}))}var Pm=u(function(e){e.exports=function(e){if(Array.isArray(e))return sm(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),jm=(c(Pm),u(function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),Rm=(c(jm),u(function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports})),H=(c(Rm),u(function(e){e.exports=function(e){return Pm(e)||jm(e)||cm(e)||Rm()},e.exports.__esModule=!0,e.exports.default=e.exports})),Em=c(H);function xm(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Im(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xm(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xm(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Cm="test-localstorage-support",Tm="autocomplete-recent-searches";var Nm=["variant","size","iconOnly","className","children"];function km(e){var o=e.createElement;return function(e){var t=e.variant,t=void 0===t?"primary":t,r=e.size,r=void 0===r?"md":r,n=e.iconOnly,n=void 0!==n&&n,i=e.className,a=e.children,e=A(e,Nm);return o("button",F({type:"button",className:M("ais-Button","ais-Button--".concat(t),"ais-Button--".concat(r),n&&"ais-Button--icon-only",i)},e),a)}}function Fm(e){var t=e.createElement,r=e.Fragment;return function(){return t(r,null,"No results")}}function Am(e){var n=e.createElement;return function(e){var t=e.classNames,r=e.items,e=e.translations;return r&&!(r.length<1)&&e.title?n("h3",{className:(void 0===t?{}:t).title},e.title):null}}function Mm(e){var t=e.createElement,r=e.Fragment;return function(e){return t(r,null,JSON.stringify(e.item,null,2))}}function _m(e){var a=e.createElement;return function(e){var t=e.classNames,r=void 0===t?{}:t,n=e.itemComponent,t=e.items,i=e.sendEvent;return a("div",{className:r.container},a("ol",{className:r.list},t.map(function(e){return a("li",{key:e.objectID,className:r.item,onClick:function(){i("click:internal",e,"Item Clicked")},onAuxClick:function(){i("click:internal",e,"Item Clicked")}},a(n,{item:e,sendEvent:i}))})))}}var Dm=["listRef","nextButtonRef","previousButtonRef","carouselIdRef","canScrollLeft","canScrollRight","setCanScrollLeft","setCanScrollRight","classNames","itemComponent","previousIconComponent","nextIconComponent","headerComponent","showNavigation","items","translations","sendEvent"];function Lm(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}var Hm=0;function Bm(e){e=e.createElement;return e("svg",{width:"8",height:"16",viewBox:"0 0 8 16",fill:"none"},e("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M7.13809 0.744078C7.39844 1.06951 7.39844 1.59715 7.13809 1.92259L2.27616 8L7.13809 14.0774C7.39844 14.4028 7.39844 14.9305 7.13809 15.2559C6.87774 15.5814 6.45563 15.5814 6.19528 15.2559L0.861949 8.58926C0.6016 8.26382 0.6016 7.73618 0.861949 7.41074L6.19528 0.744078C6.45563 0.418641 6.87774 0.418641 7.13809 0.744078Z"}))}function Wm(e){e=e.createElement;return e("svg",{width:"8",height:"16",viewBox:"0 0 8 16",fill:"none"},e("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M0.861908 15.2559C0.601559 14.9305 0.601559 14.4028 0.861908 14.0774L5.72384 8L0.861908 1.92259C0.601559 1.59715 0.601559 1.06952 0.861908 0.744079C1.12226 0.418642 1.54437 0.418642 1.80472 0.744079L7.13805 7.41074C7.3984 7.73618 7.3984 8.26382 7.13805 8.58926L1.80472 15.2559C1.54437 15.5814 1.12226 15.5814 0.861908 15.2559Z"}))}function $m(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},e("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 1.875c.27 0 .51.173.594.43l1.593 4.844a1.043 1.043 0 0 0 .664.664l4.844 1.593a.625.625 0 0 1 0 1.188l-4.844 1.593a1.043 1.043 0 0 0-.664.664l-1.593 4.844a.625.625 0 0 1-1.188 0l-1.593-4.844a1.042 1.042 0 0 0-.664-.664l-4.844-1.593a.625.625 0 0 1 0-1.188l4.844-1.593a1.042 1.042 0 0 0 .664-.664l1.593-4.844a.625.625 0 0 1 .594-.43ZM9 7.539A2.292 2.292 0 0 1 7.54 9L4.5 10l3.04 1A2.292 2.292 0 0 1 9 12.46l1 3.04 1-3.04A2.293 2.293 0 0 1 12.46 11l3.04-1-3.04-1A2.292 2.292 0 0 1 11 7.54L10 4.5 9 7.54ZM4.167 1.875c.345 0 .625.28.625.625v3.333a.625.625 0 0 1-1.25 0V2.5c0-.345.28-.625.625-.625ZM15.833 13.542c.345 0 .625.28.625.625V17.5a.625.625 0 1 1-1.25 0v-3.333c0-.345.28-.625.625-.625Z",clipRule:"evenodd"}),e("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.875 4.167c0-.346.28-.625.625-.625h3.333a.625.625 0 1 1 0 1.25H2.5a.625.625 0 0 1-.625-.625ZM13.542 15.833c0-.345.28-.625.625-.625H17.5a.625.625 0 0 1 0 1.25h-3.333a.625.625 0 0 1-.625-.625Z",clipRule:"evenodd"}))}function Um(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"m5 12 7-7 7 7"}),e("path",{d:"M12 19V5"}))}function qm(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"M5 12h14"}),e("path",{d:"m12 5 7 7-7 7"}))}function Qm(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"m18 15-6-6-6 6"}))}function zm(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"m6 9 6 6 6-6"}))}function Vm(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"M18 6 6 18"}),e("path",{d:"m6 6 12 12"}))}function Jm(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"M15 3h6v6"}),e("path",{d:"m21 3-7 7"}),e("path",{d:"m3 21 7-7"}),e("path",{d:"M9 21H3v-6"}))}function Zm(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"m14 10 7-7"}),e("path",{d:"M20 10h-6V4"}),e("path",{d:"m3 21 7-7"}),e("path",{d:"M4 14h6v6"}))}function Km(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("circle",{cx:"12",cy:"12",r:"10"}),e("rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"}))}function Gm(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e("path",{d:"M21 3v5h-5"}),e("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e("path",{d:"M3 21v-5h5"}))}function Xm(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),e("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}))}function Ym(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("circle",{cx:"12",cy:"12",r:"1"}),e("circle",{cx:"12",cy:"5",r:"1"}),e("circle",{cx:"12",cy:"19",r:"1"}))}function ed(e){e=e.createElement;return e("svg",{viewBox:"12 12 24 24",role:"status","aria-busy":"true","aria-live":"polite"},e("title",null,"Loading spinner"),e("circle",{cx:"24",cy:"24",r:"11",fill:"none",stroke:"currentColor"}))}function td(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"m15 18-6-6 6-6"}))}function rd(e){e=e.createElement;return e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},e("path",{d:"m9 18 6-6-6-6"}))}var nd=["maximized","onToggleMaximize","onClose","onClear","canClear","closeIconComponent","minimizeIconComponent","maximizeIconComponent","titleIconComponent","classNames","translations"];function id(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ad(e){var m=e.createElement,d=km({createElement:m});return function(e){var t=e.maximized,t=void 0!==t&&t,r=e.onToggleMaximize,n=e.onClose,i=e.onClear,a=e.canClear,a=void 0!==a&&a,o=e.closeIconComponent,s=(e.minimizeIconComponent,e.maximizeIconComponent),c=e.titleIconComponent,u=e.classNames,u=void 0===u?{}:u,l=e.translations,e=A(e,nd),l=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?id(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):id(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({title:"Chat",minimizeLabel:"Minimize chat",maximizeLabel:"Maximize chat",closeLabel:"Close chat",clearLabel:"Clear"},l),f=m(t?Zm:Jm,{createElement:m});return m("div",F({className:M("ais-ChatHeader",u.root,e.className)},e),m("span",{className:M("ais-ChatHeader-title",u.title)},m("span",{className:M("ais-ChatHeader-titleIcon",u.titleIcon)},c?m(c,null):m($m,{createElement:m})),l.title),m("div",{className:M("ais-ChatHeader-actions")},i&&m(d,{variant:"ghost",size:"sm",className:M("ais-ChatHeader-clear",u.clear),onClick:i,disabled:!a},l.clearLabel),m(d,{variant:"ghost",size:"sm",iconOnly:!0,className:M("ais-ChatHeader-maximize",u.maximize),onClick:r,"aria-label":t?l.minimizeLabel:l.maximizeLabel},s?m(s,{maximized:t}):f),m(d,{variant:"ghost",size:"sm",iconOnly:!0,className:M("ais-ChatHeader-close",u.close),onClick:n,"aria-label":l.closeLabel,title:l.closeLabel},o?m(o,null):m(Vm,{createElement:m}))))}}function od(){return(od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sd(e){return"(?=[\\s\\S]+?\\1"+(e?"\\1":"")+")"}var cd=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce(function(e,t){return e[t.toLowerCase()]=t,e},{class:"className",for:"htmlFor"}),ud={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"Â ",quot:"â"},ld=["style","script","pre"],fd=["src","href","data","formAction","srcDoc","action"],md=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,dd=/\n{2,}$/,hd=/^(\s*>[\s\S]*?)(?=\n\n|$)/,pd=/^ *> ?/gm,gd=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,yd=/^ {2,}\n/,vd=/^(?:([-*_])( *\1){2,}) *(?:\n *)+\n/,bd=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,Sd=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Od=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,wd=/^(?:\n *)*\n/,Pd=/\r\n?/g,jd=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,Rd=/^\[\^([^\]]+)]/,Ed=/\f/g,xd=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,Id=/^\s*?\[(x|\s)\]/,Cd=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Td=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Nd=/^([^\n]+)\n *(=|-)\2{2,} *\n/,kd=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,Fd=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,Ad=/^<!--[\s\S]*?(?:-->)/,Md=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,_d=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,Dd=/^\{.*\}$/,Ld=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Hd=/^<([^ >]+[:@\/][^ >]+)>/,Bd=/-([a-z])?/gi,Wd=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,$d=/^[^\n]+(?:  \n|\n{2,})/,Ud=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,qd=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Qd=/^\[([^\]]*)\] ?\[([^\]]*)\]/,zd=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Vd=/\t/g,Jd=/(^ *\||\| *$)/g,Zd=/^ *:-+: *$/,Kd=/^ *:-+ *$/,Gd=/^ *-+: *$/,r="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",Xd=RegExp("^([*_])\\1"+sd(1)+r+"\\1\\1(?!\\1)"),Yd=RegExp("^([*_])"+sd(0)+r+"\\1(?!\\1)"),eh=RegExp("^(==)"+sd(0)+r+"\\1"),th=RegExp("^(~~)"+sd(0)+r+"\\1"),rh=/^(:[a-zA-Z0-9-_]+:)/,nh=/^\\([^0-9A-Za-z\s])/,ih=/\\([^0-9A-Za-z\s])/g,ah=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,oh=/^\n+/,sh=/^([ \t]*)/,ch=/(?:^|\n)( *)$/,uh="(?:\\d+\\.)",lh="(?:[*+-])";function fh(e){return"( *)("+(1===e?uh:lh)+") +"}var mh=fh(1),dh=fh(2);function hh(e){return RegExp("^"+(1===e?mh:dh))}var ph=hh(1),gh=hh(2);function yh(e){return RegExp("^"+(1===e?mh:dh)+"[^\\n]*(?:\\n(?!\\1"+(1===e?uh:lh)+" )[^\\n]*)*(\\n|$)","gm")}var vh=yh(1),bh=yh(2);function Sh(e){e=1===e?uh:lh;return RegExp("^( *)("+e+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+e+" (?!"+e+" ))\\n*|\\s*\\n*$)")}var Oh=Sh(1),wh=Sh(2);function Ph(i,e){var r=1===e,n=r?Oh:wh,c=r?vh:bh,u=r?ph:gh;return{t:function(e){return u.test(e)},u:Ah(function(e,t){var r=ch.exec(t.prevCapture);return r&&(t.list||!t.inline&&!t.simple)?n.exec(e=r[1]+e):null}),i:1,o:function(e,i,a){var t=r?+e[2]:void 0,o=e[0].replace(dd,"\n").match(c),s=!1;return{items:o.map(function(e,t){var r=u.exec(e)[0].length,r=RegExp("^ {1,"+r+"}","gm"),e=e.replace(r,"").replace(u,""),r=t===o.length-1,t=-1!==e.indexOf("\n\n")||r&&s;s=t;var r=a.inline,n=a.list,e=(a.list=!0,t=t?(a.inline=!1,xh(e)+"\n\n"):(a.inline=!0,xh(e)),i(t,a));return a.inline=r,a.list=n,e}),ordered:r,start:t}},l:function(e,r,n){return i(e.ordered?"ol":"ul",{key:n.key,start:"20"===e.type?e.start:void 0},e.items.map(function(e,t){return i("li",{key:t},r(e,n))}))}}}var jh=RegExp("^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),Rh=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function Eh(e){return"string"==typeof e}function xh(e){for(var t=e.length;0<t&&e[t-1]<=" ";)t--;return e.slice(0,t)}function Ih(e,t){return e.startsWith(t)}function Ch(e){return e.replace(/[ÃÃÃÃÃÃÃ Ã¡Ã¢Ã£Ã¤Ã¥Ã¦Ã]/g,"a").replace(/[Ã§Ã]/g,"c").replace(/[Ã°Ã]/g,"d").replace(/[ÃÃÃÃÃ©Ã¨ÃªÃ«]/g,"e").replace(/[ÃÃ¯ÃÃ®ÃÃ­ÃÃ¬]/g,"i").replace(/[ÃÃ±]/g,"n").replace(/[Ã¸ÃÅÅÃÃµÃÃ´ÃÃ³ÃÃ²]/g,"o").replace(/[ÃÃ¼ÃÃ»ÃÃºÃÃ¹]/g,"u").replace(/[Å¸Ã¿ÃÃ½]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Th(e){return Gd.test(e)?"right":Zd.test(e)?"center":Kd.test(e)?"left":null}function Nh(e,t,r,n){var i=r.inTable,a=(r.inTable=!0,[[]]),o="";function s(){var e;o&&((e=a[a.length-1]).push.apply(e,t(o,r)),o="")}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach(function(e,t,r){"|"===e.trim()&&(s(),n)?0!==t&&t!==r.length-1&&a.push([]):o+=e}),s(),r.inTable=i,a}function kh(e,t,r){r.inline=!0;var n,i,a=e[2]?e[2].replace(Jd,"").split("|").map(Th):[],o=e[3]?(o=e[3],n=t,i=r,o.trim().split("\n").map(function(e){return Nh(e,n,i,!0)})):[],e=Nh(e[1],t,r,!!o.length);return r.inline=!1,o.length?{align:a,cells:o,header:e,type:"25"}:{children:e,type:"21"}}function Fh(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function Ah(e){return e.inline=1,e}function Mh(r){return Ah(function(e,t){return t.inline?r.exec(e):null})}function _h(r){return Ah(function(e,t){return t.inline||t.simple?r.exec(e):null})}function Dh(r){return function(e,t){return t.inline||t.simple?null:r.exec(e)}}function Lh(t){return Ah(function(e){return t.exec(e)})}var Hh=/(javascript|vbscript|data(?!:image)):/i;function Bh(e){try{var t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(Hh.test(t))return null}catch(e){return null}return e}function Wh(e){return e&&e.replace(ih,"$1")}function $h(e,t,r){var n=r.inline||!1,i=r.simple||!1,e=(r.inline=!0,r.simple=!0,e(t,r));return r.inline=n,r.simple=i,e}function Uh(e,t,r){var n=r.inline||!1,e=(r.inline=!1,e(t,r));return r.inline=n,e}function qh(e,t,r){return{children:$h(t,e[2],r)}}function Qh(){return{}}function zh(){return null}function Vh(e,t,r){for(var n=e,i=t.split(".");i.length&&void 0!==(n=n[i[0]]);)i.shift();return n||r}function Jh(e,a){void 0===e&&(e=""),(a=void 0===a?{}:a).overrides=a.overrides||{},a.namedCodesToUnicode=a.namedCodesToUnicode?od({},ud,a.namedCodesToUnicode):ud;var i=a.slugify||Ch,c=a.sanitizer||Bh,o=a.createElement||O.createElement,s=[hd,bd,Sd,a.enforceAtxHeadings?Td:Cd,Nd,Wd,Oh,wh],u=[].concat(s,[$d,kd,Ad,_d]);function l(e,t){for(var r=0;r<e.length;r++)if(e[r].test(t))return 1}function f(e,t){var r,n,i=Vh(a.overrides,e+".props",{});return o.apply(void 0,[(e=e,r=a.overrides,(n=Vh(r,e))?"function"==typeof n||"object"==typeof n&&"render"in n?n:Vh(r,e+".component",e):e),od({},t,i,{className:function(){return[].slice.call(arguments).filter(Boolean).join(" ")}(null==t?void 0:t.className,i.className)||void 0})].concat([].slice.call(arguments,2)))}function m(e){e=e.replace(xd,"");var t=!1;a.forceInline?t=!0:a.forceBlock||(t=!1===zd.test(e));for(var r=b(v(t?e:xh(e).replace(oh,"")+"\n\n",{inline:t}));Eh(r[r.length-1])&&!r[r.length-1].trim();)r.pop();if(null===a.wrapper)return r;var n,e=a.wrapper||(t?"span":"div");if(1<r.length||a.forceWrapper)n=r;else{if(1===r.length)return"string"==typeof(n=r[0])?f("span",{key:"outer"},n):n;n=null}return o(e,{key:"outer"},n)}function d(s,e){return e&&e.trim()&&(e=e.match(md))?e.reduce(function(e,t){var n,i,r=t.indexOf("=");if(-1!==r){var a=(a=-1!==(a=t.slice(0,r)).indexOf("-")&&null===a.match(Md)?a.replace(Bd,function(e,t){return t.toUpperCase()}):a).trim(),o=(r=t.slice(r+1).trim(),('"'===(o=r[0])||"'"===o)&&2<=r.length&&r[r.length-1]===o?r.slice(1,-1):r),r=cd[a]||a;if("ref"===r)return e;a=e[r]=(n=s,o=o,i=c,"style"===(a=a)?function(e){var t=[],r="",n=!1,i=!1,a="";if(e){for(var o=0;o<e.length;o++){var s,c,u=e[o];'"'!==u&&"'"!==u||n||(i?u===a&&(i=!1,a=""):(i=!0,a=u)),"("===u&&r.endsWith("url")?n=!0:")"===u&&(n=n&&!1),";"!==u||i||n?r+=u:((u=r.trim())&&0<(s=u.indexOf(":"))&&(c=u.slice(0,s).trim(),u=u.slice(s+1).trim(),t.push([c,u])),r="")}var l,f,m=r.trim();m&&0<(l=m.indexOf(":"))&&(f=m.slice(0,l).trim(),m=m.slice(l+1).trim(),t.push([f,m]))}return t}(o).reduce(function(e,t){var r=t[0],t=t[1];return e[r.replace(/(-[a-z])/g,function(e){return e[1].toUpperCase()})]=i(t,n,r),e},{}):-1!==fd.indexOf(a)?i(Wh(o),n,a):"true"===(o=o.match(Dd)?Wh(o.slice(1,o.length-1)):o)||"false"!==o&&o);"string"==typeof a&&(kd.test(a)||_d.test(a))&&(e[r]=m(a.trim()))}else"style"!==t&&(e[cd[t]||t]=!0);return e},{}):null}var h,p,g,y,t=[],n={},v=((r={})[0]={t:[">"],u:Dh(hd),i:1,o:function(e,t,r){e=e[0].replace(pd,"").match(gd);return{alert:e[1],children:t(e[2],r)}},l:function(e,t,r){var n={key:r.key};return e.alert&&(n.className="markdown-alert-"+i(e.alert.toLowerCase(),Ch),e.children.unshift({attrs:{},children:[{type:"27",text:e.alert}],noInnerParse:!0,type:"11",tag:"header"})),f("blockquote",n,t(e.children,r))}},r[1]={t:["  "],u:Lh(yd),i:1,o:Qh,l:function(e,t,r){return f("br",{key:r.key})}},r[2]={t:["--","__","**","- ","* ","_ "],u:Dh(vd),i:1,o:Qh,l:function(e,t,r){return f("hr",{key:r.key})}},r[3]={t:["    "],u:Dh(Sd),i:0,o:function(e){return{lang:void 0,text:Wh(xh(e[0].replace(/^ {4}/gm,"")))}},l:function(e,t,r){return f("pre",{key:r.key},f("code",od({},e.attrs,{className:e.lang?"lang-"+e.lang:""}),e.text))}},r[4]={t:["```","~~~"],u:Dh(bd),i:0,o:function(e){return{attrs:d("code",e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"}}},r[5]={t:["`"],u:_h(Od),i:3,o:function(e){return{text:Wh(e[2])}},l:function(e,t,r){return f("code",{key:r.key},e.text)}},r[6]={t:["[^"],u:Dh(jd),i:0,o:function(e){return t.push({footnote:e[2],identifier:e[1]}),{}},l:zh},r[7]={t:["[^"],u:Mh(Rd),i:1,o:function(e){return{target:"#"+i(e[1],Ch),text:e[1]}},l:function(e,t,r){return f("a",{key:r.key,href:c(e.target,"a","href")},f("sup",{key:r.key},e.text))}},r[8]={t:["[ ]","[x]"],u:Mh(Id),i:1,o:function(e){return{completed:"x"===e[1].toLowerCase()}},l:function(e,t,r){return f("input",{checked:e.completed,key:r.key,readOnly:!0,type:"checkbox"})}},r[9]={t:["#"],u:Dh(a.enforceAtxHeadings?Td:Cd),i:1,o:function(e,t,r){return{children:$h(t,e[2],r),id:i(e[2],Ch),level:e[1].length}},l:function(e,t,r){return f("h"+e.level,{id:e.id,key:r.key},t(e.children,r))}},r[10]={t:function(e){var t=e.indexOf("\n");return 0<t&&t<e.length-1&&("="===e[t+1]||"-"===e[t+1])},u:Dh(Nd),i:0,o:function(e,t,r){return{children:$h(t,e[1],r),level:"="===e[2]?1:2,type:"9"}}},r[11]={t:["<"],u:Lh(kd),i:1,o:function(e,t,r){var n=e[3].match(sh),n=RegExp("^"+n[1],"gm"),n=e[3].replace(n,""),i=l(u,n)?Uh:$h,a=e[1].toLowerCase(),o=-1!==ld.indexOf(a),s=(o?a:e[1]).trim(),s={attrs:d(s,e[2]),noInnerParse:o,tag:s};return r.inAnchor=r.inAnchor||"a"===a,o?s.text=e[3]:(a=r.inHTML,r.inHTML=!0,s.children=i(t,n,r),r.inHTML=a),r.inAnchor=!1,s},l:function(e,t,r){return f(e.tag,od({key:r.key},e.attrs),e.text||(e.children?t(e.children,r):""))}},r[13]={t:["<"],u:Lh(_d),i:1,o:function(e){var t=e[1].trim();return{attrs:d(t,e[2]||""),tag:t}},l:function(e,t,r){return f(e.tag,od({},e.attrs,{key:r.key}))}},r[12]={t:["\x3c!--"],u:Lh(Ad),i:1,o:function(){return{}},l:zh},r[14]={t:["!["],u:_h(Rh),i:1,o:function(e){return{alt:Wh(e[1]),target:Wh(e[2]),title:Wh(e[3])}},l:function(e,t,r){return f("img",{key:r.key,alt:e.alt||void 0,title:e.title||void 0,src:c(e.target,"img","src")})}},r[15]={t:["["],u:Mh(jh),i:3,o:function(e,t,r){return{children:(t=t,n=e[1],i=(r=r).inline||!1,a=r.simple||!1,r.inline=!1,r.simple=!0,t=t(n,r),r.inline=i,r.simple=a,t),target:Wh(e[2]),title:Wh(e[3])};var n,i,a},l:function(e,t,r){return f("a",{key:r.key,href:c(e.target,"a","href"),title:e.title},t(e.children,r))}},r[16]={t:["<"],u:Mh(Hd),i:0,o:function(e){var e=e[1],t=!1;return-1!==e.indexOf("@")&&-1===e.indexOf("//")&&(t=!0,e=e.replace("mailto:","")),{children:[{text:e,type:"27"}],target:t?"mailto:"+e:e,type:"15"}}},r[17]={t:function(e,t){return!t.inAnchor&&!a.disableAutoLink&&(Ih(e,"http://")||Ih(e,"https://"))},u:Mh(Ld),i:0,o:function(e){return{children:[{text:e[1],type:"27"}],target:e[1],title:void 0,type:"15"}}},r[20]=Ph(f,1),r[33]=Ph(f,2),r[19]={t:["\n"],u:Dh(wd),i:3,o:Qh,l:function(){return"\n"}},r[21]={u:Ah(function(e,t){if(t.inline||t.simple||t.inHTML&&-1===e.indexOf("\n\n")&&-1===t.prevCapture.indexOf("\n\n"))return null;for(var r="",n=0;;){var i=e.indexOf("\n",n),a=e.slice(n,-1===i?void 0:i+1);if(l(s,a))break;if(r+=a,-1===i||!a.trim())break;n=i+1}t=xh(r);return""===t?null:[r,,t]}),i:3,o:qh,l:function(e,t,r){return f("p",{key:r.key},t(e.children,r))}},r[22]={t:["["],u:Mh(Ud),i:0,o:function(e){return n[e[1]]={target:e[2],title:e[4]},{}},l:zh},r[23]={t:["!["],u:_h(qd),i:0,o:function(e){return{alt:e[1]?Wh(e[1]):void 0,ref:e[2]}},l:function(e,t,r){return n[e.ref]?f("img",{key:r.key,alt:e.alt,src:c(n[e.ref].target,"img","src"),title:n[e.ref].title}):null}},r[24]={t:function(e){return"["===e[0]&&-1===e.indexOf("](")},u:Mh(Qd),i:0,o:function(e,t,r){return{children:t(e[1],r),fallbackChildren:e[0],ref:e[2]}},l:function(e,t,r){return n[e.ref]?f("a",{key:r.key,href:c(n[e.ref].target,"a","href"),title:n[e.ref].title},t(e.children,r)):f("span",{key:r.key},e.fallbackChildren)}},r[25]={t:["|"],u:Dh(Wd),i:1,o:kh,l:function(e,r,n){var i=e;return f("table",{key:n.key},f("thead",null,f("tr",null,i.header.map(function(e,t){return f("th",{key:t,style:Fh(i,t)},r(e,n))}))),f("tbody",null,i.cells.map(function(e,t){return f("tr",{key:t},e.map(function(e,t){return f("td",{key:t,style:Fh(i,t)},r(e,n))}))})))}},r[27]={u:Ah(function(e,t){var r;return(r=Ih(e,":")?rh.exec(e):r)||ah.exec(e)}),i:4,o:function(e){e=e[0];return{text:-1===e.indexOf("&")?e:e.replace(Fd,function(e,t){return a.namedCodesToUnicode[t]||e})}},l:function(e){return e.text}},r[28]={t:["**","__"],u:_h(Xd),i:2,o:function(e,t,r){return{children:t(e[2],r)}},l:function(e,t,r){return f("strong",{key:r.key},t(e.children,r))}},r[29]={t:function(e){var t=e[0];return("*"===t||"_"===t)&&e[1]!==t},u:_h(Yd),i:3,o:function(e,t,r){return{children:t(e[2],r)}},l:function(e,t,r){return f("em",{key:r.key},t(e.children,r))}},r[30]={t:["\\"],u:_h(nh),i:1,o:function(e){return{text:e[1],type:"27"}}},r[31]={t:["=="],u:_h(eh),i:3,o:qh,l:function(e,t,r){return f("mark",{key:r.key},t(e.children,r))}},r[32]={t:["~~"],u:_h(th),i:3,o:qh,l:function(e,t,r){return f("del",{key:r.key},t(e.children,r))}},!0===a.disableParsingRawHTML&&(delete r[11],delete r[13]),g=r,(y=Object.keys(g)).sort(function(e,t){return g[e].i-g[t].i||(e<t?-1:1)}),function(e,t){return S(e.replace(Pd,"\n").replace(Ed,"").replace(Vd,"    "),t)}),b=(h=r,p=a.renderRule,function e(t,r){if(void 0===r&&(r={}),Array.isArray(t)){for(var n=r.key,i=[],a=!1,o=0;o<t.length;o++){var s=e(t[r.key=o],r),c=Eh(s);c&&a?i[i.length-1]+=s:null!==s&&i.push(s),a=c}return r.key=n,i}return l=e,f=r,m=h[(u=t).type].l,p?p(function(){return m(u,l,f)},u,l,f):m(u,l,f);var u,l,f,m}),r=m(e);function S(e,t){var r=[];if(t.prevCapture=t.prevCapture||"",e.trim())for(;e;)for(var n=0;n<y.length;){var i=y[n],a=g[i];if(!a.t||function(e,t,r){if(!Array.isArray(r))return r(e,t);for(var n=0;n<r.length;n++)if(Ih(e,r[n]))return 1}(e,t,a.t)){var o=a.u(e,t);if(o&&o[0]){e=e.substring(o[0].length);a=a.o(o,S,t);t.prevCapture+=o[0],a.type||(a.type=i),r.push(a);break}}n++}return t.prevCapture="",r}return t.length?f("div",null,r,f("footer",{key:"footer"},t.map(function(e){return f("div",{id:i(e.identifier,Ch),key:e.identifier},e.identifier,b(v(e.footnote,{inline:!0})))}))):r}var Zh=["classNames","message","side","variant","actions","autoHideActions","leadingComponent","actionsComponent","footerComponent","tools","indexUiState","setIndexUiState","onClose","translations","suggestionsElement"];function Kh(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Gh(e){var v=e.createElement,b=km({createElement:v});return function(e){var t=e.classNames,t=void 0===t?{}:t,o=e.message,r=e.side,r=void 0===r?"left":r,n=e.variant,n=void 0===n?"subtle":n,i=e.actions,i=void 0===i?[]:i,a=e.autoHideActions,a=void 0!==a&&a,s=e.leadingComponent,c=e.actionsComponent,u=e.footerComponent,l=e.tools,f=void 0===l?{}:l,m=e.indexUiState,d=e.setIndexUiState,h=e.onClose,l=e.translations,p=e.suggestionsElement,e=A(e,Zh),l=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kh(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kh(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({messageLabel:"Message",actionsLabel:"Message actions"},l),g=Boolean(s),y=Boolean(0<i.length||c),r={root:M("ais-ChatMessage","ais-ChatMessage--".concat(r),"ais-ChatMessage--".concat(n),a&&"ais-ChatMessage--auto-hide-actions",t.root),container:M("ais-ChatMessage-container",t.container),leading:M("ais-ChatMessage-leading",t.leading),content:M("ais-ChatMessage-content",t.content),message:M("ais-ChatMessage-message",t.message),actions:M("ais-ChatMessage-actions",t.actions),footer:M("ais-ChatMessage-footer",t.footer)};return v("article",F({},e,{className:M(r.root,e.className),"aria-label":l.messageLabel}),v("div",{className:M(r.container)},g&&v("div",{className:M(r.leading)},s&&v(s,null)),v("div",{className:M(r.content)},v("div",{className:M(r.message)},o.parts.map(function(r,e){if("step-start"!==r.type){var t;if("text"===r.type)return t=Jh(r.text,{createElement:v,disableParsingRawHTML:!0}),v("span",{key:"".concat(o.id,"-").concat(e)},t);if(t=r.type,i="tool-",t.slice(0,i.length)===i){var n,i=r.type.replace("tool-",""),a=f[i];if(a)return i=a.layoutComponent,n=r,i?v("div",{key:"".concat(o.id,"-").concat(e),className:"ais-ChatMessage-tool"},v(i,{message:n,indexUiState:m,setIndexUiState:d,addToolResult:function(e){var t;return null==(t=a.addToolResult)?void 0:t.call(a,{output:e.output,tool:r.type,toolCallId:n.toolCallId})},onClose:h})):null}}return null})),p,y&&v("div",{className:M(r.actions),"aria-label":l.actionsLabel},c?v(c,{actions:i,message:o}):i.map(function(t,e){return v(b,{key:e,variant:"ghost",size:"sm",iconOnly:!0,className:"ais-ChatMessage-action",disabled:t.disabled,"aria-label":t.title,onClick:function(){var e;return null==(e=t.onClick)?void 0:e.call(t,o)}},t.icon?v(t.icon,null):v(Ym,{createElement:v}))})),u&&v("div",{className:M(r.footer)},v(u,null)))))}}var Xh=["onReload","actions","translations"];function Yh(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ep(e){var i=e.createElement,a=km({createElement:i});return function(e){var t=e.onReload,r=e.actions,n=e.translations,e=A(e,Xh),n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yh(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yh(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({errorMessage:"Sorry, we are not able to generate a response at the moment. Please retry or contact support.",retryText:"Retry"},n);return i("article",F({className:"ais-ChatMessageError ais-ChatMessage ais-ChatMessage--left ais-ChatMessage--subtle"},e),i("div",{className:"ais-ChatMessage-container"},i("div",{className:"ais-ChatMessage-content"},i("div",{className:"ais-ChatMessage-message"},n.errorMessage),(r||t)&&i("div",{className:"ais-ChatMessage-actions"},r?r.map(function(e,t){return i(a,F({key:t,variant:"ghost",className:"ais-ChatMessage-action"},e),e.children)}):i(a,{variant:"primary",size:"md",className:"ais-ChatMessage-errorAction",onClick:function(){return null==t?void 0:t()}},i(Gm,{createElement:i}),n.retryText)))))}}var tp=["translations"];function rp(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function np(e){var r=e.createElement;return function(e){var t=e.translations,e=A(e,tp),t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rp(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rp(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({loaderText:"Thinking..."},t);return r("article",F({className:"ais-ChatMessageLoader ais-ChatMessage ais-ChatMessage--left ais-ChatMessage--subtle"},e),r("div",{className:"ais-ChatMessage-container"},r("div",{className:"ais-ChatMessage-leading"},r("div",{className:"ais-ChatMessageLoader-spinner"},r(ed,{createElement:r}))),r("div",{className:"ais-ChatMessage-content"},r("div",{className:"ais-ChatMessage-message"},t.loaderText&&r("div",{className:"ais-ChatMessageLoader-text"},t.loaderText),r("div",{className:"ais-ChatMessageLoader-skeletonWrapper"},r("div",{className:"ais-ChatMessageLoader-skeletonItem"}),r("div",{className:"ais-ChatMessageLoader-skeletonItem"}))))))}}var ip=["classNames","messageClassNames","messageTranslations","messages","messageComponent","loaderComponent","errorComponent","actionsComponent","tools","indexUiState","setIndexUiState","status","hideScrollToBottom","onReload","onClose","translations","userMessageProps","assistantMessageProps","isClearing","onClearTransitionEnd","isScrollAtBottom","scrollRef","contentRef","onScrollToBottom","suggestionsElement"];function ap(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function op(e){return""!==cp(e).trim()}function sp(e){navigator.clipboard.writeText(cp(e))}var cp=function(e){return e.parts.map(function(e){return"text"in e?e.text:""}).join("")};function up(e){function I(e){var t=e.message,r=e.userMessageProps,n=e.assistantMessageProps,i=e.tools,a=e.indexUiState,o=e.setIndexUiState,s=e.onReload,c=e.onClose,u=e.actionsComponent,l=e.classNames,f=e.messageTranslations,m=e.translations,e=e.suggestionsElement,m=[].concat(Em(op(t)?[{title:m.copyToClipboardLabel,icon:function(){return d(Xm,{createElement:d})},onClick:sp}]:[]),[{title:m.regenerateLabel,icon:function(){return d(Gm,{createElement:d})},onClick:function(e){return s(e.id)}}]),r="user"===t.role?r:n,n="user"===t.role?void 0:m;return d(h,F({side:"user"===t.role?"right":"left",variant:"user"===t.role?"neutral":"subtle",message:t,tools:i,indexUiState:a,setIndexUiState:o,onClose:c,actions:n,actionsComponent:u,"data-role":t.role,classNames:l,translations:f,suggestionsElement:e},r))}var d,h,C=e.createElement,e=e.Fragment,T=km({createElement:C}),N=(d=(e={createElement:C,Fragment:e}).createElement,e=e.Fragment,h=Gh({createElement:d,Fragment:e}),np({createElement:C})),k=ep({createElement:C});return function(e){var t=e.classNames,t=void 0===t?{}:t,r=e.messageClassNames,n=void 0===r?{}:r,i=e.messageTranslations,r=e.messages,a=void 0===r?[]:r,r=e.messageComponent,o=e.loaderComponent,s=e.errorComponent,c=e.actionsComponent,u=e.tools,l=e.indexUiState,f=e.setIndexUiState,m=e.status,d=void 0===m?"ready":m,m=e.hideScrollToBottom,m=void 0!==m&&m,h=e.onReload,p=e.onClose,g=e.translations,y=e.userMessageProps,v=e.assistantMessageProps,b=e.isClearing,S=void 0!==b&&b,O=e.onClearTransitionEnd,b=e.isScrollAtBottom,w=e.scrollRef,P=e.contentRef,j=e.onScrollToBottom,R=e.suggestionsElement,e=A(e,ip),E=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ap(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ap(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({scrollToBottomLabel:"Scroll to bottom",copyToClipboardLabel:"Copy to clipboard",regenerateLabel:"Regenerate"},g),g={root:M("ais-ChatMessages",t.root),scroll:M("ais-ChatMessages-scroll ais-Scrollbar",t.scroll),content:M("ais-ChatMessages-content",t.content),scrollToBottom:M("ais-ChatMessages-scrollToBottom",t.scrollToBottom),scrollToBottomHidden:M("ais-ChatMessages-scrollToBottom--hidden",t.scrollToBottomHidden)},x=r||I,t=o||N,r=s||k;return C("div",F({},e,{className:M(g.root,e.className),role:"log","aria-live":"polite"}),C("div",{className:M(g.scroll),ref:w},C("div",{className:M(g.content,S&&"ais-ChatMessages-content--clearing"),ref:P,onTransitionEnd:function(e){e.target===e.currentTarget&&"opacity"===e.propertyName&&S&&null!=O&&O()}},a.map(function(e,t){return C(x,{key:e.id,message:e,userMessageProps:y,assistantMessageProps:v,tools:u,indexUiState:l,setIndexUiState:f,onReload:h,actionsComponent:c,onClose:p,translations:E,classNames:n,messageTranslations:i,suggestionsElement:"ready"===d&&"assistant"===e.role&&t===a.length-1?R:void 0})}),"submitted"===d&&C(t,{translations:{loaderText:E.loaderText}}),"error"===d&&C(r,{onReload:h}))),C(T,{variant:"outline",size:"sm",iconOnly:!0,className:M(g.scrollToBottom,(m||b)&&g.scrollToBottomHidden),onClick:j,"aria-label":E.scrollToBottomLabel,tabIndex:b?-1:0},C(zm,{createElement:C})))}}var lp=["classNames","headerComponent","footerComponent","value","placeholder","status","disabled","maxRows","autoFocus","translations","onInput","onSubmit","onKeyDown","onStop","promptRef"];function fp(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function mp(e){function S(){if(P){P.style.height="auto";var e=P.scrollHeight;if(P.getAttribute("data-max-rows")){var t=parseInt(P.getAttribute("data-max-rows")||"0",10);if(0<t)return t=t*j+R,P.style.overflowY=t<e?"auto":"hidden",P.style.height="".concat(Math.min(e,t),"px")}P.style.overflowY="hidden",P.style.height="".concat(e,"px")}}var O=e.createElement,w=km({createElement:O}),P=null,j=0,R=0;return function(e){var t=e.classNames,t=void 0===t?{}:t,r=e.headerComponent,n=e.footerComponent,i=e.value,a=e.placeholder,o=e.status,o=void 0===o?"ready":o,s=e.disabled,s=void 0!==s&&s,c=e.maxRows,c=void 0===c?5:c,u=e.autoFocus,u=void 0===u||u,l=e.translations,f=e.onInput,m=e.onSubmit,d=e.onKeyDown,h=e.onStop,p=e.promptRef,e=A(e,lp),l=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fp(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fp(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({textareaLabel:"Type your message...",textareaPlaceholder:"Type your message...",emptyMessageTooltip:"Message is empty",stopResponseTooltip:"Stop response",sendMessageTooltip:"Send message",disclaimer:"AI can make mistakes. Verify responses."},l),t={root:M("ais-ChatPrompt",t.root),header:M("ais-ChatPrompt-header",t.header),body:M("ais-ChatPrompt-body",t.body),textarea:M("ais-ChatPrompt-textarea ais-Scrollbar",s&&"ais-ChatPrompt-textarea--disabled",t.textarea),actions:M("ais-ChatPrompt-actions",t.actions,s&&"ais-ChatPrompt-actions--disabled"),submit:M("ais-ChatPrompt-submit",t.submit),footer:M("ais-ChatPrompt-footer",t.footer)},g="string"==typeof i?""!==i.trim():Boolean(i),y="submitted"===o||"streaming"===o,v=!g&&!y||s,b=O(y?Km:Um,{createElement:O});return O("form",{className:M(t.root,e.className),onSubmit:function(e){e.preventDefault(),y?null!=h&&h():g&&null!=m&&m(e)}},r&&O("div",{className:M(t.header)},O(r,null)),O("div",{className:M(t.body),onClick:function(e){e.target!==P&&null!=(e=P)&&e.focus()}},O("textarea",F({},e,{ref:function(e){var t;P=e=e,(t=p)&&(t.current=e),e&&(t=getComputedStyle(e),j=parseFloat(t.lineHeight),e=parseFloat(t.paddingTop),t=parseFloat(t.paddingBottom),R=e+t,S())},"data-max-rows":c,className:M(t.textarea),value:i,placeholder:a||l.textareaPlaceholder,"aria-label":l.textareaLabel,disabled:s,autoFocus:u,onInput:function(e){S(),null!=f&&f(e)},onKeyDown:function(e){if(null!=d&&d(e),"Enter"===e.key&&!e.shiftKey){if(e.preventDefault(),y)return void(null!=h&&h());if(!g)return;null!=m&&m(e)}"Escape"===e.key&&e.currentTarget&&e.currentTarget.blur&&e.currentTarget.blur()}})),O("div",{className:M(t.actions)},O(w,{type:"submit",variant:"primary",size:"sm",iconOnly:!0,className:M(t.submit),disabled:v,"aria-label":v?l.emptyMessageTooltip:y?l.stopResponseTooltip:l.sendMessageTooltip,"data-status":o},b))),O("div",{className:M(t.footer)},n?O(n,null):O("div",{className:"ais-ChatPrompt-disclaimer"},l.disclaimer)))}}var dp=["open","onClick","toggleIconComponent","classNames","className"];var hp=["open","maximized","headerProps","toggleButtonProps","messagesProps","suggestionsProps","promptProps","headerComponent","promptComponent","toggleButtonComponent","suggestionsComponent","classNames","className"];function pp(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function gp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pp(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pp(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var yp=["classNames","emptyComponent","headerComponent","itemComponent","layout","items","status","translations","sendEvent"];function vp(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}var bp=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];var Sp=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];var Op=["classNames","emptyComponent","headerComponent","itemComponent","layout","items","status","translations","sendEvent"];function wp(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}var Pp=["classNames","emptyComponent","headerComponent","itemComponent","layout","items","status","translations","sendEvent"];function jp(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}var Rp=["classNames","emptyComponent","headerComponent","itemComponent","layout","items","status","translations","sendEvent"];function Ep(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}var xp=["classNames","suggestions","isLoading","refine","skeletonCount","itemComponent","headerComponent","emptyComponent"];Je={createElement:O.createElement,Fragment:O.Fragment},Ip=Je.createElement;var Ip,Cp=function(e){var t=e.inputProps,r=e.onClear,n=e.query,e=e.isSearchStalled,i=t.ref;return Ip("form",{className:"ais-AutocompleteForm",action:"",noValidate:!0,role:"search",onSubmit:function(e){return e.preventDefault()},onReset:function(){var e;return null==(e=i.current)?void 0:e.focus()}},Ip("div",{className:"ais-AutocompleteInputWrapperPrefix"},Ip("label",{className:"ais-AutocompleteLabel","aria-label":"Submit",htmlFor:t.id,id:"".concat(t.id,"-label")},Ip("button",{className:"ais-AutocompleteSubmitButton",type:"submit",title:"Submit"},Ip(ym,{createElement:Ip}))),Ip("div",{className:"ais-AutocompleteLoadingIndicator",hidden:!e},Ip(vm,{createElement:Ip}))),Ip("div",{className:"ais-AutocompleteInputWrapper"},Ip("input",F({className:"ais-AutocompleteInput","aria-autocomplete":"both","aria-labelledby":"".concat(t.id,"-label"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:"search",spellCheck:"false",maxLength:512,type:"search",value:n},t))),Ip("div",{className:"ais-AutocompleteInputWrapperSuffix"},Ip("button",{className:"ais-AutocompleteClearButton",type:"reset",title:"Clear",hidden:0===n.length||e,onClick:r},Ip(bm,{createElement:Ip}))))};function Tp(e){var t=e.inputProps,e=e.clearQuery,r=Wl(),n=r.query,i=r.refine,r=r.isSearchStalled;return ee.createElement(Cp,{inputProps:te(te({},t),{},{onChange:function(e){return i(e.currentTarget.value)}}),onClear:e,query:n,isSearchStalled:r})}Ze={createElement:O.createElement,Fragment:O.Fragment},kp=Ze.createElement,Fp=Ze.Fragment,Np={createElement:kp,Fragment:Fp}.createElement;var Np,kp,Fp,Ap=function(e){var n=e.parts,t=e.highlightedTagName,i=void 0===t?"mark":t,t=e.nonHighlightedTagName,a=void 0===t?"span":t,t=e.separator,o=void 0===t?", ":t,t=e.className,r=e.classNames,s=void 0===r?{}:r,r=A(e,bp);return kp("span",F({},r,{className:M(s.root,t)}),n.map(function(e,t){var r=t===n.length-1;return kp(Fp,{key:t},e.map(function(e,t){return kp(Mp,{key:t,classNames:s,highlightedTagName:i,nonHighlightedTagName:a,isHighlighted:e.isHighlighted},e.value)}),!r&&kp("span",{className:s.separator},o))}))};function Mp(e){var t=e.classNames,r=e.children,n=e.highlightedTagName,i=e.isHighlighted,e=e.nonHighlightedTagName;return Np(i?n:e,{className:i?t.highlighted:t.nonHighlighted},r)}var _p=["classNames"];function Dp(e){var t=e.classNames,t=void 0===t?{}:t,e=re(e,_p);return ee.createElement(Ap,x({classNames:{root:M("ais-ReverseHighlight",t.root),highlighted:M("ais-ReverseHighlight-highlighted",t.highlighted),nonHighlighted:M("ais-ReverseHighlight-nonHighlighted",t.nonHighlighted),separator:M("ais-ReverseHighlight-separator",t.separator)}},e))}var Lp=["hit","attribute","highlightedTagName","nonHighlightedTagName","separator"],Hp=["isHighlighted"];function Bp(e){var t=e.hit,r=e.attribute,n=e.highlightedTagName,i=e.nonHighlightedTagName,a=e.separator,e=re(e,Lp),t=Yt(t._highlightResult,r)||[],r=(Array.isArray(t)?t:[t]).map(function(e){return Gt(ft(e.value||"")).map(function(e){var t=e.isHighlighted;return te(te({},re(e,Hp)),{},{isHighlighted:!t})})});return ee.createElement(Dp,x({},e,{parts:r,highlightedTagName:n,nonHighlightedTagName:i,separator:a}))}function Wp(e){var t=e.item,r=e.children,n=e.onSelect,i=e.onApply,e=e.classNames;return zp("div",{onClick:n,className:M("ais-AutocompleteItemWrapper","ais-AutocompleteSuggestionWrapper",(e=void 0===e?{}:e).root)},zp("div",{className:M("ais-AutocompleteItemContent","ais-AutocompleteSuggestionItemContent",e.content)},zp("div",{className:M("ais-AutocompleteItemIcon","ais-AutocompleteSuggestionItemIcon",e.content)},zp(ym,{createElement:zp})),zp("div",{className:M("ais-AutocompleteItemContentBody","ais-AutocompleteSuggestionItemContentBody",e.content)},r)),zp("div",{className:M("ais-AutocompleteItemActions","ais-AutocompleteSuggestionItemActions",e.actions)},zp("button",{className:M("ais-AutocompleteItemActionButton","ais-AutocompleteSuggestionItemApplyButton",e.applyButton),type:"button",title:"Apply ".concat(t.query," as search"),onClick:function(e){e.stopPropagation(),i()}},zp(wm,{createElement:zp}))))}function $p(e){var t=e.item,r=e.children,n=e.onSelect,i=e.onRemoveRecentSearch,a=e.onApply,e=e.classNames;return Vp("div",{onClick:n,className:M("ais-AutocompleteItemWrapper ais-AutocompleteRecentSearchWrapper",(e=void 0===e?{}:e).root)},Vp("div",{className:M("ais-AutocompleteItemContent","ais-AutocompleteRecentSearchItemContent",e.content)},Vp("div",{className:M("ais-AutocompleteItemIcon","ais-AutocompleteRecentSearchItemIcon",e.content)},Vp(Sm,{createElement:Vp})),Vp("div",{className:M("ais-AutocompleteItemContentBody","ais-AutocompleteRecentSearchItemContentBody",e.content)},r)),Vp("div",{className:M("ais-AutocompleteItemActions","ais-AutocompleteRecentSearchItemActions",e.actions)},Vp("button",{className:M("ais-AutocompleteItemActionButton","ais-AutocompleteRecentSearchItemDeleteButton",e.deleteButton),title:"Remove ".concat(t.query," from recent searches"),onClick:function(e){e.stopPropagation(),i()}},Vp(Om,{createElement:Vp})),Vp("button",{className:M("ais-AutocompleteItemActionButton","ais-AutocompleteRecentSearchItemApplyButton",e.applyButton),title:"Apply ".concat(t.query," as search"),onClick:function(e){e.stopPropagation(),a()}},Vp(wm,{createElement:Vp}))))}var Up,qp,Qp,zp,Vp,Jp,Zp,Kp,Gp,Xp,Yp,eg,tg,rg=["indices","showSuggestions","showRecent","searchParameters"],ng=["indicesConfig","refineSearchBox","getSearchPageURL","onSelect","indexUiState","isSearchPage","panelComponent","showRecent","recentSearchConfig","showSuggestions","transformItems","placeholder"],ig=(Ke={createElement:O.createElement,Fragment:O.Fragment},Up=Ke.createElement,function(e){var t=e.children,r=e.classNames,r=void 0===r?{}:r,e=A(e,Gf);return Up("div",F({className:M("ais-Autocomplete",r.root)},e),t)}),ag=(Ge={createElement:O.createElement,Fragment:O.Fragment},qp=Ge.createElement,function(e){var t=e.children,r=e.classNames,r=void 0===r?{}:r,n=e.hidden,e=A(e,Yf);return qp("div",F({},e,{"aria-hidden":n,className:M("ais-AutocompletePanel",!n&&"ais-AutocompletePanel--open",r.root,e.className),onMouseDown:function(e){e.preventDefault()}}),qp("div",{className:M("ais-AutocompletePanelLayout",r.layout)},t))}),og=(Xe={createElement:O.createElement,Fragment:O.Fragment},Qp=Xe.createElement,function(e){var t=e.items,r=e.HeaderComponent,a=e.ItemComponent,o=e.getItemProps,e=e.classNames,s=void 0===e?{}:e;return 0===t.length?null:Qp("div",{className:M("ais-AutocompleteIndex",s.root)},r&&Qp("div",{className:M("ais-AutocompleteIndexHeader",s.header)},Qp(r,{items:t})),Qp("ol",{className:M("ais-AutocompleteIndexList",s.list)},t.map(function(e,t){var t=o(e,t),r=t.className,n=t.onSelect,i=t.onApply,t=A(t,Xf);return Qp("li",F({key:"".concat(t.id,":").concat(e.objectID)},t,{className:M("ais-AutocompleteIndexItem",s.item,r)}),Qp(a,{item:e,onSelect:n,onApply:i}))})))}),sg=(t={createElement:O.createElement,Fragment:O.Fragment},zp=t.createElement,H={createElement:O.createElement,Fragment:O.Fragment},Vp=H.createElement,r={useEffect:O.useEffect,useId:O.useId,useMemo:O.useMemo,useRef:O.useRef,useState:O.useState},Jp=r.useEffect,Zp=r.useId,Kp=r.useMemo,Gp=r.useRef,Xp=r.useState,function(e){function n(){var e,t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(m?d(!1):null!=(n=u.current)&&n.blur(),null!=(n=r.activeDescendant)?n:h);!n&&r.query&&o(r.query),n&&g.has(n)&&(n=(r=g.get(n)).item,e=(r=r.config).onSelect,t=r.getQuery,r=r.getURL,(null!=e?e:s)({item:n,query:null!=(e=null==t?void 0:t(n))?e:"",url:null==r?void 0:r(n),setQuery:function(e){return o(e)}}),p(void 0))}var i,r=e.indices,a=e.indicesConfig,o=e.onRefine,s=e.onSelect,c=e.onApply,t=e.placeholder,f=(i=Zp(),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"".concat("autocomplete").concat(i).concat(t.join(":"))}),u=Gp(null),l=Gp(null),e=Xp(!1),e=lm(e,2),m=e[0],d=e[1],e=Xp(void 0),e=lm(e,2),h=e[0],p=e[1],e=Kp(function(){for(var e={indices:r,indicesConfig:a,getElementId:f},o=e.indices,s=e.indicesConfig,c=e.getElementId,u=[],l=new Map,t=0;t<o.length;t++)!function(t){for(var e,r=gm(s,function(e){return e.indexName===o[t].indexName}),n=(null==(e=o[t])?void 0:e.hits)||[],i=0;i<n.length;i++){var a=c("item",(null==r?void 0:r.indexName)||o[t].indexName,i);l.set(a,{item:n[i],config:r}),u.push(a)}}(t);return{items:l,itemsIds:u}},[r,a,f]),g=e.items,y=e.itemsIds;Jp(function(){function e(e){var t;null!==(t=(t=l).current&&"object"===tm(t.current)&&"base"in t.current?t.current.base:t.current)&&void 0!==t&&t.contains(e.target)||d(!1)}return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}},[l]);return{getInputProps:function(){return{id:f("input"),ref:u,role:"combobox","aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":"grid","aria-controls":f("panel"),"aria-activedescendant":h,placeholder:t,onFocus:function(){return d(!0)},onKeyDown:function(e){switch(e.key){case"Escape":m?(d(!1),e.preventDefault()):p(void 0);break;case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":d(!0);var t=function(e){switch(e){case"ArrowLeft":case"ArrowUp":var t=y.indexOf(h||"")-1;return y[t]||y[y.length-1];case"ArrowRight":case"ArrowDown":t=y.indexOf(h||"")+1;return y[t]||y[0];default:return}}(e.key);p(t),null!=(t=document.getElementById(t))&&t.scrollIntoView(!1),e.preventDefault();break;case"Enter":n({query:e.target.value});break;case"Tab":d(!1);break;default:return void d(!0)}},onKeyUp:function(e){switch(e.key){case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":case"Escape":case"Return":return void e.preventDefault();default:p(void 0)}}}},getItemProps:function(e,t){var r=f("item",e.__indexName,t);return{id:r,role:"row","aria-selected":r===h,onSelect:function(){return n({activeDescendant:r})},onApply:function(){var e=g.get(r),t=e.item,e=e.config.getQuery;c(null!=(e=null==e?void 0:e(t))?e:"")}}},getPanelProps:function(){return{hidden:!m,id:f("panel"),role:"grid","aria-labelledby":f("input")}},getRootProps:function(){return{ref:l}}}}),cg=(Je={useEffect:O.useEffect,useMemo:O.useMemo,useState:O.useState},Yp=Je.useEffect,eg=Je.useMemo,tg=Je.useState,function(e){var r,t=e.showRecent,n=e.query,i=e.indices,a=e.indicesConfig,o=e.suggestionsIndexName,s=t&&"object"===tm(t)?t.storageKey:void 0,c=eg(function(){return t=(e={limit:5,storageKey:s}).limit,r=void 0===t?5:t,n=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Tm;return function(){try{return localStorage.setItem(Cm,""),localStorage.removeItem(Cm),1}catch(e){}}()?{setItems:function(e){try{window.localStorage.setItem(t,JSON.stringify(e))}catch(e){}},getItems:function(){var e=window.localStorage.getItem(t);return e?JSON.parse(e):[]}}:{setItems:function(){},getItems:function(){return[]}}}(e.storageKey),i=null,{onAdd:function(e){this.onRemove(e),n.setItems([e].concat(Em(n.getItems())))},onRemove:function(t){var e;n.setItems(n.getItems().filter(function(e){return e!==t})),null!=(e=i)&&e()},registerUpdateListener:function(e){i=e},unregisterUpdateListener:function(){i=null},getSnapshot:function(){return{getAll:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return n.getItems().filter(function(e){return e.includes(t)}).slice(0,r)}}}};var e,t,r,n,i},[s]),e=tg(c.getSnapshot()),e=lm(e,2),u=e[0],l=e[1];return Yp(function(){return c.registerUpdateListener(function(){l(c.getSnapshot())}),function(){c.unregisterUpdateListener()}},[c]),t?(r=u.getAll(n).map(function(e){return{objectID:e,query:e,__indexName:"recent-searches",_highlightResult:(t=(e={item:{query:e},query:n||""}).item,(e=e.query).trim().length?{query:{value:t.query.replace(new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"gi"),function(e){return"<mark>".concat(e,"</mark>")})}}:{query:{matchLevel:"none"}})};var t}),e=Em(i.map(function(e){return e.indexName===o?Im(Im({},e),{},{hits:e.hits.filter(function(t){return!gm(r,function(e){return e.query===t.query})})}):e})),t=Em(a),e.unshift({indexName:"recent-searches",indexId:"recent-searches",hits:r}),t.unshift({indexName:"recent-searches",getQuery:function(e){return e.query}}),{storage:c,storageHits:r,indicesForPropGetters:e,indicesConfigForPropGetters:t}):{storage:{onAdd:function(){},onRemove:function(){}},storageHits:[],indicesForPropGetters:i,indicesConfigForPropGetters:a}});function ug(e){var n,a=e.indicesConfig,t=e.refineSearchBox,i=e.getSearchPageURL,r=e.onSelect,o=e.indexUiState,s=e.isSearchPage,c=e.panelComponent,u=e.showRecent,l=e.recentSearchConfig,f=e.showSuggestions,m=e.transformItems,d=e.placeholder,e=re(e,ng),m=jo({transformItems:m}),h=m.indices,p=m.refine,m=m.currentRefinement,m=cg({showRecent:u,query:m,indices:h,indicesConfig:a,suggestionsIndexName:null==f?void 0:f.indexName}),g=m.storage,y=m.storageHits,v=m.indicesForPropGetters,m=m.indicesConfigForPropGetters,v=sg({indices:v,indicesConfig:m,onRefine:function(e){p(e),t(e),g.onAdd(e)},onApply:function(e){p(e)},onSelect:null!=r?r:function(e){var t=e.query,r=e.setQuery,e=e.url;e?window.location.href=e:s||void 0===i?r(t):window.location.href=i(te(te({},o),{},{query:t}))},placeholder:d}),m=v.getInputProps,b=v.getItemProps,r=v.getPanelProps,d=v.getRootProps,S={};return u&&l&&(n=l.itemComponent,S.recent=ee.createElement(og,{HeaderComponent:l.headerComponent,ItemComponent:function(e){var t=e.item,r=e.onSelect,e=e.onApply;return ee.createElement(n,{item:t,onSelect:r,onRemoveRecentSearch:function(){return g.onRemove(t.query)},onApply:e},ee.createElement(lg,{item:t}))},classNames:l.classNames,items:y,getItemProps:b,key:"recentSearches"})),h.forEach(function(e){var t=e.indexId,r=e.indexName,e=e.hits,n=r===(null==f?void 0:f.indexName)?"suggestions":r,e="suggestions"===n&&u?e.filter(function(t){return!y.find(function(e){return e.query===t.query})}):e,i=a.find(function(e){return e.indexName===r});i&&(S[n]=ee.createElement(og,{key:t,HeaderComponent:i.headerComponent,ItemComponent:i.itemComponent,items:e.map(function(e){return te(te({},e),{},{__indexName:t})}),getItemProps:b,classNames:i.classNames}))}),ee.createElement(ig,x({},e,d()),ee.createElement(Tp,{inputProps:m(),clearQuery:function(){t(""),p("")}}),ee.createElement(ag,r(),c?ee.createElement(c,{elements:S,indices:h}):Object.keys(S).map(function(e){return S[e]})))}function lg(e){var t,e=e.item;return null!=(t=e._highlightResult)&&t.query&&"none"!==e._highlightResult.query.matchLevel?ee.createElement(Bp,{attribute:"query",hit:e}):e.query}function fg(e){var t=1===e.button;return Boolean(t||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}var mg=["classNames","items","hasItems","createURL","onNavigate","separator","translations"];function dg(e){function n(t){return function(e){fg(e)||(e.preventDefault(),r(t))}}var t=e.classNames,i=void 0===t?{}:t,t=e.items,a=void 0===t?[]:t,t=e.hasItems,o=e.createURL,r=e.onNavigate,s=e.separator,c=void 0===s?">":s,s=e.translations,e=re(e,mg);return ee.createElement("div",x({},e,{className:M("ais-Breadcrumb",i.root,!t&&M("ais-Breadcrumb--noRefinement",i.noRefinementRoot),e.className)}),ee.createElement("ul",{className:M("ais-Breadcrumb-list",i.list)},ee.createElement("li",{className:M("ais-Breadcrumb-item",i.item,!t&&M("ais-Breadcrumb-item--selected",i.selectedItem))},ee.createElement("a",{href:o(null),onClick:n(null),className:M("ais-Breadcrumb-link",i.link)},s.rootElementText)),a.map(function(e,t){var r=t===a.length-1;return ee.createElement("li",{key:t,className:M("ais-Breadcrumb-item",i.item,r&&M("ais-Breadcrumb-item--selected",i.selectedItem))},ee.createElement("span",{"aria-hidden":"true",className:M("ais-Breadcrumb-separator",i.separator)},c),r?e.label:ee.createElement("a",{className:M("ais-Breadcrumb-link",i.link),href:o(e.value),onClick:n(e.value)},e.label))})))}var hg=["attributes","rootPath","separator","transformItems","translations"];function pg(e){var r=e.listRef,n=e.nextButtonRef,i=e.previousButtonRef,t=e.carouselIdRef,a=e.canScrollLeft,o=e.canScrollRight,s=e.setCanScrollLeft,c=e.setCanScrollRight,u=void 0===(u=e.classNames)?{}:u,l=void 0===(f=e.itemComponent)?Mm({createElement:Og,Fragment:wg}):f,f=void 0===(f=e.previousIconComponent)?Bm:f,m=void 0===(m=e.nextIconComponent)?Wm:m,d=e.headerComponent,h=void 0===(h=e.showNavigation)||h,p=e.items,g=e.translations,y=e.sendEvent,e=A(e,Dm),g=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lm(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lm(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({listLabel:"Items",nextButtonLabel:"Next",nextButtonTitle:"Next",previousButtonLabel:"Previous",previousButtonTitle:"Previous"},g),v={root:M("ais-Carousel",u.root),list:M("ais-Carousel-list",u.list),item:M("ais-Carousel-item",u.item),navigation:M("ais-Carousel-navigation",u.navigation),navigationNext:M("ais-Carousel-navigation--next",u.navigationNext),navigationPrevious:M("ais-Carousel-navigation--previous",u.navigationPrevious)};function b(){r.current&&(r.current.scrollLeft-=.75*r.current.offsetWidth)}function S(){r.current&&(r.current.scrollLeft+=.75*r.current.offsetWidth)}return 0===p.length?null:Og("div",F({},e,{className:M(v.root)}),d&&Og(d,{canScrollLeft:a,canScrollRight:o,scrollLeft:b,scrollRight:S}),h&&Og("button",{ref:i,title:g.previousButtonTitle,"aria-label":g.previousButtonLabel,hidden:!0,"aria-controls":t.current,className:M(v.navigation,v.navigationPrevious),onClick:function(e){e.preventDefault(),b()}},Og(f,{createElement:Og})),Og("ol",{className:M(v.list),ref:r,tabIndex:0,id:t.current,"aria-roledescription":"carousel","aria-label":g.listLabel,"aria-live":"polite",onScroll:function(){var e,t;r.current&&(e=r.current.scrollLeft<=0,t=r.current.scrollLeft+r.current.clientWidth>=r.current.scrollWidth,s(!e),c(!t),i.current&&(i.current.hidden=e),n.current)&&(n.current.hidden=t)},onKeyDown:function(e){"ArrowLeft"===e.key?(e.preventDefault(),b()):"ArrowRight"===e.key&&(e.preventDefault(),S())}},p.map(function(e,t){return Og("li",{key:e.objectID,className:M(v.item),"aria-roledescription":"slide","aria-label":"".concat(t+1," of ").concat(p.length),onClick:function(){y("click:internal",e,"Item Clicked")},onAuxClick:function(){y("click:internal",e,"Item Clicked")}},Og(l,{item:e,sendEvent:y}))})),h&&Og("button",{ref:n,title:g.nextButtonTitle,"aria-label":g.nextButtonLabel,"aria-controls":t.current,className:M(v.navigation,v.navigationNext),onClick:function(e){e.preventDefault(),S()}},Og(m,{createElement:Og})))}Ze={useCallback:O.useCallback,useEffect:O.useEffect,useMemo:O.useMemo,useRef:O.useRef,useState:O.useState},gg=Ze.useCallback,yg=Ze.useEffect,vg=Ze.useMemo,bg=Ze.useRef,Sg=Ze.useState;var gg,yg,vg,bg,Sg,Og,wg,Pg=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Sg(!1),t=lm(t,2),n=t[0],r=t[1],t=Sg(!1!==e.initial),t=lm(t,2),i=t[0],a=t[1],t=Sg(!1),t=lm(t,2),o=t[0],s=t[1],l=bg(null),c=(l.current=e,bg(null)),u=bg(null),f=gg(function(){var e,t;return!!dm&&"undefined"!=typeof window&&!(!(t=window.getSelection())||!t.rangeCount)&&((t=t.getRangeAt(0)).commonAncestorContainer.contains(c.current)||(null==(e=c.current)?void 0:e.contains(t.commonAncestorContainer)))},[]),m=vg(function(){var r;return{escapedFromLock:n,isAtBottom:i,resizeDifference:0,accumulated:0,velocity:0,get scrollTop(){var e;return null!=(e=null==(e=c.current)?void 0:e.scrollTop)?e:0},set scrollTop(e){c.current&&(c.current.scrollTop=e,m.ignoreScrollToTop=c.current.scrollTop)},get targetScrollTop(){return c.current&&u.current?c.current.scrollHeight-1-c.current.clientHeight:0},get calculatedTargetScrollTop(){var e,t;return c.current&&u.current?(e=this.targetScrollTop,l.current.targetScrollTop?(null==(t=r)?void 0:t.targetScrollTop)===e?r.calculatedScrollTop:(t=Math.max(Math.min(l.current.targetScrollTop(e,{scrollElement:c.current,contentElement:u.current}),e),0),r={targetScrollTop:e,calculatedScrollTop:t},requestAnimationFrame(function(){r=void 0}),t):e):0},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=70}}},[]),d=gg(function(e){m.isAtBottom=e,a(e)},[m]),h=gg(function(e){m.escapedFromLock=e,r(e)},[m]),p=gg(function(){function i(){var n=new Promise(requestAnimationFrame).then(function(){if(!m.isAtBottom)return m.animation=void 0,!1;var e=m.scrollTop,t=performance.now(),r=(t-(null!=(r=m.lastTick)?r:t))/(1e3/60);if(m.animation||(m.animation={behavior:s,promise:n,ignoreEscapes:c}),m.animation.behavior===s&&(m.lastTick=t),f())return i();if(o>Date.now())return i();if(e<Math.min(u,m.calculatedTargetScrollTop)){if((null==(t=m.animation)?void 0:t.behavior)===s){if("instant"===s)return m.scrollTop=m.calculatedTargetScrollTop,i();m.velocity=(s.damping*m.velocity+s.stiffness*m.scrollDifference)/s.mass,m.accumulated+=m.velocity*r,m.scrollTop+=m.accumulated,m.scrollTop!==e&&(m.accumulated=0)}return i()}return a>Date.now()?(u=m.calculatedTargetScrollTop,i()):(m.animation=void 0,m.scrollTop<m.calculatedTargetScrollTop?p({animation:pm(l.current,l.current.resize),ignoreEscapes:c,duration:Math.max(0,a-Date.now())||void 0}):m.isAtBottom)});return n.then(function(e){return requestAnimationFrame(function(){m.animation||(m.lastTick=void 0,m.velocity=0)}),e})}var a,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=((e="string"==typeof e?{animation:e}:e).preserveScrollPosition||d(!0),Date.now()+(Number(e.wait)||0)),s=pm(l.current,e.animation),t=e.ignoreEscapes,c=void 0!==t&&t,u=m.calculatedTargetScrollTop;e.duration instanceof Promise?e.duration.then(function(){a=Date.now()},function(){a=Date.now()}):a=o+(null!=(t=e.duration)?t:0);return!0!==e.wait&&(m.animation=void 0),(null==(t=m.animation)?void 0:t.behavior)===s?m.animation.promise:i()},[d,f,m]),t=gg(function(){h(!0),d(!1)},[h,d]),g=gg(function(e){var n,i,a;e.target===c.current&&(n=m.scrollTop,i=m.ignoreScrollToTop,e=m.lastScrollTop,a=void 0===e?n:e,m.lastScrollTop=n,m.ignoreScrollToTop=void 0,i&&n<i&&(a=i),s(m.isNearBottom),setTimeout(function(){var e,t,r;m.resizeDifference||n===i||(f()?(h(!0),d(!1)):(t=a<n,r=n<a,null!=(e=m.animation)&&e.ignoreEscapes?m.scrollTop=a:(r&&(h(!0),d(!1)),t&&h(!1),!m.escapedFromLock&&m.isNearBottom&&d(!0))))},1))},[h,d,f,m]),y=gg(function(e){for(var t=e.target,e=e.deltaY,r=t;!["scroll","auto"].includes(getComputedStyle(r).overflow);){if(!r.parentElement)return;r=r.parentElement}r===c.current&&e<0&&c.current.scrollHeight>c.current.clientHeight&&(null==(t=m.animation)||!t.ignoreEscapes)&&(h(!0),d(!1))},[h,d,m]);return yg(function(){var e=c.current;if(e)return e.addEventListener("scroll",g,{passive:!0}),e.addEventListener("wheel",y,{passive:!0}),function(){e.removeEventListener("scroll",g),e.removeEventListener("wheel",y)}},[g,y]),yg(function(){var n,e,t=u.current;if(t)return(e=new ResizeObserver(function(e){var t,e=lm(e,1)[0].contentRect.height,r=e-(null!=(t=n)?t:e);m.resizeDifference=r,m.scrollTop>m.targetScrollTop&&(m.scrollTop=m.targetScrollTop),s(m.isNearBottom),0<=r?(t=pm(l.current,n?l.current.resize:l.current.initial),p({animation:t,wait:!0,preserveScrollPosition:!0,duration:"instant"===t?void 0:350})):m.isNearBottom&&(h(!1),d(!0)),n=e,requestAnimationFrame(function(){setTimeout(function(){m.resizeDifference===r&&(m.resizeDifference=0)},1)})})).observe(t),m.resizeObserver=e,function(){e.disconnect(),m.resizeObserver=void 0}},[m,s,h,d,p]),{contentRef:u,scrollRef:c,scrollToBottom:p,stopScroll:t,isAtBottom:i||o,isNearBottom:o,escapedFromLock:n,state:m}};Ke={createElement:O.createElement,Fragment:O.Fragment},Og=Ke.createElement,wg=Ke.Fragment;function jg(e){var t=zf(O.useState(!1),2),r=t[0],t=t[1],n=zf(O.useState(!0),2),i=n[0],n=n[1],r={listRef:O.useRef(null),nextButtonRef:O.useRef(null),previousButtonRef:O.useRef(null),carouselIdRef:O.useRef("ais-Carousel-".concat(Hm++)),canScrollLeft:r,canScrollRight:i,setCanScrollLeft:t,setCanScrollRight:n};return ee.createElement(pg,x({},r,e))}function Rg(m,c,u){var d=km({createElement:O.createElement});function l(e){var t=e.canScrollLeft,r=e.canScrollRight,n=e.scrollLeft,i=e.scrollRight,a=e.nbHits,o=e.query,s=e.hitsPerPage,c=e.setIndexUiState,u=e.indexUiState,l=e.getSearchPageURL,f=e.onClose;return(null!=s?s:0)<1?null:ee.createElement("div",{className:"ais-ChatToolSearchIndexCarouselHeader"},ee.createElement("div",{className:"ais-ChatToolSearchIndexCarouselHeaderResults"},a&&ee.createElement("div",{className:"ais-ChatToolSearchIndexCarouselHeaderCount"},null!=s?s:0," of ",a.toLocaleString()," result",1<a?"s":""),m&&ee.createElement(d,{variant:"ghost",size:"sm",onClick:function(){var e;o&&(e=te(te({},u),{},{query:o}),l&&new URL(l(e)).pathname!==window.location.pathname?window.location.href=l(e):(c(e),f()))},className:"ais-ChatToolSearchIndexCarouselHeaderViewAll"},"View all",ee.createElement(qm,{createElement:O.createElement}))),2<(null!=s?s:0)&&ee.createElement("div",{className:"ais-ChatToolSearchIndexCarouselHeaderScrollButtons"},ee.createElement(d,{variant:"outline",size:"sm",iconOnly:!0,onClick:n,disabled:!t,className:"ais-ChatToolSearchIndexCarouselHeaderScrollButton"},ee.createElement(td,{createElement:O.createElement})),ee.createElement(d,{variant:"outline",size:"sm",iconOnly:!0,onClick:i,disabled:!r,className:"ais-ChatToolSearchIndexCarouselHeaderScrollButton"},ee.createElement(rd,{createElement:O.createElement}))))}return{layoutComponent:function(e){var t=e.message,r=e.indexUiState,n=e.setIndexUiState,i=e.onClose,a=null==t?void 0:t.input,o=null==t?void 0:t.output,s=(null==o?void 0:o.hits)||[],e=ee.useMemo(function(){return function(e){return ee.createElement(l,x({nbHits:null==o?void 0:o.nbHits,query:null==a?void 0:a.query,hitsPerPage:s.length,setIndexUiState:n,indexUiState:r,getSearchPageURL:u,onClose:i},e))}},[s.length,null==a?void 0:a.query,null==o?void 0:o.nbHits,n,i,r]);return ee.createElement(jg,{items:s,itemComponent:c,sendEvent:function(){},showNavigation:!1,headerComponent:e})}}}function Eg(e){var t=e.open,r=void 0!==(r=e.maximized)&&r,n=e.headerProps,i=e.toggleButtonProps,a=e.messagesProps,o=e.suggestionsProps,s=void 0===(c=e.promptProps)?{}:c,c=e.headerComponent,u=e.promptComponent,l=e.toggleButtonComponent,f=e.suggestionsComponent,m=void 0===(m=e.classNames)?{}:m,d=e.className,e=A(e,hp);return Ng("div",F({},e,{className:M("ais-Chat",r&&"ais-Chat--maximized",m.root,d)}),Ng("div",{className:M("ais-Chat-container",t&&"ais-Chat-container--open",r&&"ais-Chat-container--maximized",m.container)},Ng(c||kg,gp(gp({},n),{},{classNames:m.header,maximized:r})),Ng(Fg,F({},a,{classNames:m.messages,messageClassNames:m.message,suggestionsElement:Ng(f||Dg,gp(gp({},o),{},{classNames:m.suggestions}))})),Ng(u||Ag,gp(gp({},s),{},{classNames:m.prompt}))),Ng("div",{className:"ais-Chat-toggleButtonWrapper"},Ng(l||_g,gp(gp({},i),{},{classNames:m.toggleButton,onClick:function(){var e;null!=(e=i.onClick)&&e.call(i),t||null!=(e=s.promptRef)&&null!=(e=e.current)&&e.focus()}}))))}var xg,Ig,Cg,Tg,Ng,kg,Fg,Ag,Mg=["tools","toggleButtonProps","headerProps","messagesProps","promptProps","itemComponent","toggleButtonComponent","toggleButtonIconComponent","headerComponent","headerTitleIconComponent","headerCloseIconComponent","headerMinimizeIconComponent","headerMaximizeIconComponent","messagesLoaderComponent","messagesErrorComponent","promptComponent","promptHeaderComponent","promptFooterComponent","assistantMessageLeadingComponent","assistantMessageFooterComponent","userMessageLeadingComponent","userMessageFooterComponent","actionsComponent","suggestionsComponent","classNames","translations","title","getSearchPageURL"];Ge={createElement:O.createElement,Fragment:O.Fragment},Ng=Ge.createElement,Ge=Ge.Fragment,Ig=km({createElement:xg={createElement:Ng,Fragment:Ge}.createElement}),kg=ad({createElement:Ng,Fragment:Ge}),Fg=up({createElement:Ng,Fragment:Ge}),Ag=mp({createElement:Ng,Fragment:Ge}),Tg=km({createElement:Cg={createElement:Ng,Fragment:Ge}.createElement});function _g(e){var t=e.open,r=e.onClick,n=e.toggleIconComponent,i=void 0===(i=e.classNames)?{}:i,a=e.className,e=A(e,dp),o=xg(t?Qm:$m,{createElement:xg});return xg(Ig,F({variant:"primary",size:"md",iconOnly:!0,className:M("ais-ChatToggleButton",t&&"ais-ChatToggleButton--open",i.root,a),onClick:r},e),n?xg(n,{isOpen:t}):o)}function Dg(e){var t=void 0===(t=e.suggestions)?[]:t,r=e.onSuggestionClick,n=void 0===(e=e.classNames)?{}:e;return 0===t.length?null:Cg("div",{className:M("ais-ChatPromptSuggestions",n.root)},t.map(function(e,t){return Cg(Tg,{key:t,size:"sm",variant:"primary",className:M("ais-ChatPromptSuggestions-suggestion",n.suggestion),onClick:function(){return r(e)}},e)}))}function Lg(e,t){var r={};return qf(r,Fs,Rg(!0,e,t)),qf(r,As,Rg(!1,e,t)),qf(r,Ms,{}),qf(r,_s,{}),qf(r,Ds,{}),r}var Hg=["classNames","disabled","onClick","translations"];function Bg(e){var t=e.classNames,t=void 0===t?{}:t,r=e.disabled,r=void 0!==r&&r,n=e.onClick,n=void 0===n?function(){}:n,i=e.translations,e=re(e,Hg);return ee.createElement("div",x({},e,{className:M("ais-ClearRefinements",t.root,e.className)}),ee.createElement("button",{disabled:r,onClick:n,className:M("ais-ClearRefinements-button",t.button,r&&M("ais-ClearRefinements-button--disabled",t.disabledButton))},i.resetButtonText))}var Wg=["includedAttributes","excludedAttributes","transformItems","translations"];var $g=["classNames","items","hasRefinements"];function Ug(e){var t=e.classNames,n=void 0===t?{}:t,t=e.items,t=void 0===t?[]:t,r=e.hasRefinements,r=void 0!==r&&r,e=re(e,$g);return ee.createElement("div",x({},e,{className:M("ais-CurrentRefinements",n.root,!r&&M("ais-CurrentRefinements--noRefinement",n.noRefinementRoot),e.className)}),ee.createElement("ul",{className:M("ais-CurrentRefinements-list",n.list,!r&&M("ais-CurrentRefinements-list--noRefinement",n.noRefinementList))},t.map(function(r){return ee.createElement("li",{key:[r.indexName,r.label].join("/"),className:M("ais-CurrentRefinements-item",n.item)},ee.createElement("span",{className:M("ais-CurrentRefinements-label",n.label)},(e=r.label).toString().charAt(0).toUpperCase()+e.toString().slice(1),":"," "),r.refinements.map(function(t){return ee.createElement("span",{key:t.label,className:M("ais-CurrentRefinements-category",n.category)},ee.createElement("span",{className:M("ais-CurrentRefinements-categoryLabel",n.categoryLabel)},t.label),ee.createElement("button",{type:"button",onClick:function(e){fg(e)||r.refine(t)},className:M("ais-CurrentRefinements-delete",n.delete)},"â"))}));var e})))}var qg=["includedAttributes","excludedAttributes","transformItems"];function Qg(e){var t=void 0===(t=e.classNames)?{}:t,r=void 0===(r=e.emptyComponent)?Fm({createElement:zg,Fragment:Vg}):r,n=void 0===(n=e.headerComponent)?Am({createElement:zg,Fragment:Vg}):n,i=void 0===(i=e.itemComponent)?Mm({createElement:zg,Fragment:Vg}):i,a=void 0===(a=e.layout)?_m({createElement:zg,Fragment:Vg}):a,o=e.items,s=e.status,c=e.translations,u=e.sendEvent,e=A(e,yp),c=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vp(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vp(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({title:"Frequently bought together",sliderLabel:"Frequently bought together products"},c),t={root:M("ais-FrequentlyBoughtTogether",t.root),emptyRoot:M("ais-FrequentlyBoughtTogether",t.root,"ais-FrequentlyBoughtTogether--empty",t.emptyRoot,e.className),title:M("ais-FrequentlyBoughtTogether-title",t.title),container:M("ais-FrequentlyBoughtTogether-container",t.container),list:M("ais-FrequentlyBoughtTogether-list",t.list),item:M("ais-FrequentlyBoughtTogether-item",t.item)};return 0===o.length&&"idle"===s?zg("section",F({},e,{className:t.emptyRoot}),zg(r,null)):zg("section",F({},e,{className:t.root}),zg(n,{classNames:t,items:o,translations:c}),zg(a,{classNames:t,itemComponent:i,items:o,sendEvent:u}))}var zg,Vg,Jg=["objectIDs","limit","threshold","queryParameters","fallbackParameters","escapeHTML","transformItems","itemComponent","headerComponent","emptyComponent","layoutComponent"];Xe={createElement:O.createElement,Fragment:O.Fragment},zg=Xe.createElement,Vg=Xe.Fragment;var Zg=["isShowingMore","translations"];function Kg(e){var t=e.isShowingMore,r=e.translations,e=re(e,Zg);return ee.createElement("button",e,r.showMoreButtonText({isShowingMore:t}))}var Gg=["classNames","items","hasItems","onNavigate","createURL","showMore","canToggleShowMore","onToggleShowMore","isShowingMore","translations"];function Xg(e){var t=e.className,r=e.classNames,n=void 0===r?{}:r,r=e.items,i=e.createURL,a=e.onNavigate;return 0===r.length?null:ee.createElement("ul",{className:M("ais-HierarchicalMenu-list",n.list,t)},r.map(function(t){return ee.createElement("li",{key:t.value,className:M("ais-HierarchicalMenu-item",n.item,t.isRefined&&M("ais-HierarchicalMenu-item--selected",n.selectedItem),t.data&&0<t.data.length&&M("ais-HierarchicalMenu-item--parent",n.parentItem))},ee.createElement("a",{className:M("ais-HierarchicalMenu-link",n.link,t.isRefined&&M("ais-HierarchicalMenu-link--selected",n.selectedItemLink)),href:i(t.value),onClick:function(e){fg(e)||(e.preventDefault(),a(t.value))}},ee.createElement("span",{className:M("ais-HierarchicalMenu-label",n.label)},t.label),ee.createElement("span",{className:M("ais-HierarchicalMenu-count",n.count)},t.count)),t.data&&ee.createElement(Xg,{className:M("ais-HierarchicalMenu-list--child",n.childList),classNames:n,items:t.data,onNavigate:a,createURL:i}))}))}function Yg(e){var t=e.classNames,t=void 0===t?{}:t,r=e.items,n=e.hasItems,i=e.onNavigate,a=e.createURL,o=e.showMore,s=e.canToggleShowMore,c=e.onToggleShowMore,u=e.isShowingMore,l=e.translations,e=re(e,Gg);return ee.createElement("div",x({},e,{className:M("ais-HierarchicalMenu",t.root,!n&&M("ais-HierarchicalMenu--noRefinement",t.noRefinementRoot),e.className)}),ee.createElement(Xg,{classNames:t,items:r,onNavigate:i,createURL:a}),o&&ee.createElement(Kg,{className:M("ais-HierarchicalMenu-showMore",t.showMore,!s&&M("ais-HierarchicalMenu-showMore--disabled",t.disabledShowMore)),disabled:!s,onClick:c,isShowingMore:u,translations:l}))}var ey=["attributes","limit","rootPath","separator","showMore","showMoreLimit","showParentLevel","sortBy","transformItems","translations"];var ty=["classNames"];function ry(e){var t=e.classNames,t=void 0===t?{}:t,e=re(e,ty);return ee.createElement(Ap,x({classNames:{root:M("ais-Highlight",t.root),highlighted:M("ais-Highlight-highlighted",t.highlighted),nonHighlighted:M("ais-Highlight-nonHighlighted",t.nonHighlighted),separator:M("ais-Highlight-separator",t.separator)}},e))}var ny=["hit","attribute","highlightedTagName","nonHighlightedTagName","separator"];var iy=["escapeHTML","transformItems","hitComponent","bannerComponent"],ay=["hit","index"];function oy(e){e=e.hit;return ee.createElement("div",{style:{wordBreak:"break-all"}},JSON.stringify(e).slice(0,100),"â¦")}function sy(e){var r=void 0===(t=e.classNames)?{}:t,t=e.hits,n=e.itemComponent,i=e.sendEvent,a=e.emptyComponent,o=e.banner,s=e.bannerComponent,e=A(e,Sp);return uy("div",F({},e,{className:M("ais-Hits",r.root,0===t.length&&M("ais-Hits--empty",r.emptyRoot),e.className)}),o&&(s?uy(s,{className:M("ais-Hits-banner",r.bannerRoot),banner:o}):uy(ly,{classNames:r,banner:o})),0===t.length&&a?uy(a,null):uy("ol",{className:M("ais-Hits-list",r.list)},t.map(function(e,t){return uy(n,{key:e.objectID,hit:e,index:t,className:M("ais-Hits-item",r.item),onClick:function(){i("click:internal",e,"Hit Clicked")},onAuxClick:function(){i("click:internal",e,"Hit Clicked")}})})))}var cy,uy;t={createElement:O.createElement,Fragment:O.Fragment},uy=t.createElement,t=t.Fragment,cy={createElement:uy,Fragment:t}.createElement;function ly(e){var t=e.classNames;return(e=e.banner).image.urls[0].url?cy("aside",{className:M("ais-Hits-banner",t.bannerRoot)},e.link?cy("a",{className:M("ais-Hits-banner-link",t.bannerLink),href:e.link.url,target:e.link.target},cy("img",{className:M("ais-Hits-banner-image",t.bannerImage),src:e.image.urls[0].url,alt:e.image.title})):cy("img",{className:M("ais-Hits-banner-image",t.bannerImage),src:e.image.urls[0].url,alt:e.image.title})):null}var fy=["items","onChange","currentValue","classNames"];function my(e){var t=e.items,r=e.onChange,n=e.currentValue,i=e.classNames,a=void 0===i?{}:i,i=re(e,fy);return ee.createElement("div",x({},i,{className:M("ais-HitsPerPage",a.root,i.className)}),ee.createElement("select",{className:M("ais-HitsPerPage-select",a.select),onChange:function(e){r(Number(e.target.value))},value:String(n)},t.map(function(e){return ee.createElement("option",{key:e.value,className:M("ais-HitsPerPage-option",a.option),value:e.value},e.label)})))}var dy=["items","transformItems"];var hy=["hitComponent","hits","bannerComponent","banner","sendEvent","isFirstPage","isLastPage","onShowPrevious","onShowMore","classNames","translations"];function py(e){e=e.hit;return ee.createElement("div",{style:{wordBreak:"break-all"}},JSON.stringify(e).slice(0,100),"â¦")}function gy(e){var t=e.classNames,e=e.banner;return e.image.urls[0].url?ee.createElement("aside",{className:M("ais-InfiniteHits-banner",t.bannerRoot)},e.link?ee.createElement("a",{className:M("ais-InfiniteHits-banner-link",t.bannerLink),href:e.link.url,target:e.link.target},ee.createElement("img",{className:M("ais-InfiniteHits-banner-image",t.bannerImage),src:e.image.urls[0].url,alt:e.image.title})):ee.createElement("img",{className:M("ais-InfiniteHits-banner-image",t.bannerImage),src:e.image.urls[0].url,alt:e.image.title})):null}function yy(e){var t=e.hitComponent,r=void 0===t?py:t,t=e.hits,n=e.bannerComponent,i=e.banner,a=e.sendEvent,o=e.isFirstPage,s=e.isLastPage,c=e.onShowPrevious,u=e.onShowMore,l=e.classNames,f=void 0===l?{}:l,l=e.translations,e=re(e,hy);return ee.createElement("div",x({},e,{className:M("ais-InfiniteHits",f.root,0===t.length&&M("ais-InfiniteHits--empty",f.emptyRoot),e.className)}),c&&ee.createElement("button",{className:M("ais-InfiniteHits-loadPrevious",f.loadPrevious,o&&M("ais-InfiniteHits-loadPrevious--disabled",f.disabledLoadPrevious)),onClick:c,disabled:o},l.showPreviousButtonText),i&&(n?ee.createElement(n,{className:M("ais-InfiniteHits-banner",f.bannerRoot),banner:i}):ee.createElement(gy,{classNames:f,banner:i})),ee.createElement("ol",{className:M("ais-InfiniteHits-list",f.list)},t.map(function(e){return ee.createElement("li",{key:e.objectID,className:M("ais-InfiniteHits-item",f.item),onClick:function(){a("click:internal",e,"Hit Clicked")},onAuxClick:function(){a("click:internal",e,"Hit Clicked")}},ee.createElement(r,{hit:e,sendEvent:a}))})),ee.createElement("button",{className:M("ais-InfiniteHits-loadMore",f.loadMore,s&&M("ais-InfiniteHits-loadMore--disabled",f.disabledLoadMore)),onClick:u,disabled:s},l.showMoreButtonText))}var vy=["showPrevious","cache","escapeHTML","transformItems","translations","bannerComponent"];function by(e){var t=void 0===(t=e.classNames)?{}:t,r=void 0===(r=e.emptyComponent)?Fm({createElement:Sy,Fragment:Oy}):r,n=void 0===(n=e.headerComponent)?Am({createElement:Sy,Fragment:Oy}):n,i=void 0===(i=e.itemComponent)?Mm({createElement:Sy,Fragment:Oy}):i,a=void 0===(a=e.layout)?_m({createElement:Sy,Fragment:Oy}):a,o=e.items,s=e.status,c=e.translations,u=e.sendEvent,e=A(e,Op),c=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wp(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({title:"Looking similar",sliderLabel:"Looking similar"},c),t={root:M("ais-LookingSimilar",t.root),emptyRoot:M("ais-LookingSimilar",t.root,"ais-LookingSimilar--empty",t.emptyRoot,e.className),title:M("ais-LookingSimilar-title",t.title),container:M("ais-LookingSimilar-container",t.container),list:M("ais-LookingSimilar-list",t.list),item:M("ais-LookingSimilar-item",t.item)};return 0===o.length&&"idle"===s?Sy("section",F({},e,{className:t.emptyRoot}),Sy(r,null)):Sy("section",F({},e,{className:t.root}),Sy(n,{classNames:t,items:o,translations:c}),Sy(a,{classNames:t,itemComponent:i,items:o,sendEvent:u}))}var Sy,Oy,wy=["objectIDs","limit","threshold","queryParameters","fallbackParameters","escapeHTML","transformItems","itemComponent","headerComponent","emptyComponent","layoutComponent"];H={createElement:O.createElement,Fragment:O.Fragment},Sy=H.createElement,Oy=H.Fragment;var Py=["items","classNames","showMore","canToggleShowMore","onToggleShowMore","isShowingMore","createURL","onRefine","translations"];function jy(e){var t=e.items,r=e.classNames,n=void 0===r?{}:r,r=e.showMore,i=e.canToggleShowMore,a=e.onToggleShowMore,o=e.isShowingMore,s=e.createURL,c=e.onRefine,u=e.translations,e=re(e,Py);return ee.createElement("div",x({},e,{className:M("ais-Menu",n.root,0===t.length&&M("ais-Menu--noRefinement",n.noRefinementRoot),e.className)}),ee.createElement("ul",{className:M("ais-Menu-list",n.list)},t.map(function(t){return ee.createElement("li",{key:t.label,className:M("ais-Menu-item",n.item,t.isRefined&&M("ais-Menu-item--selected",n.selectedItem))},ee.createElement("a",{className:M("ais-Menu-link",n.link),href:s(t.value),onClick:function(e){fg(e)||(e.preventDefault(),c(t))}},ee.createElement("span",{className:M("ais-Menu-label",n.label)},t.label),ee.createElement("span",{className:M("ais-Menu-count",n.count)},t.count)))})),r&&ee.createElement(Kg,{className:M("ais-Menu-showMore",n.showMore,!i&&M("ais-Menu-showMore--disabled",n.disabledShowMore)),disabled:!i,onClick:a,isShowingMore:o,translations:u}))}var Ry=["attribute","limit","showMore","showMoreLimit","sortBy","transformItems","translations"];var Ey=["pages","currentPage","nbPages","isFirstPage","isLastPage","showFirst","showPrevious","showNext","showLast","createURL","onNavigate","translations","classNames"],xy=["isDisabled","className","classNames","href","onClick"];function Iy(e){var t=e.pages,r=e.currentPage,n=e.nbPages,i=e.isFirstPage,a=e.isLastPage,o=e.showFirst,o=void 0===o||o,s=e.showPrevious,s=void 0===s||s,c=e.showNext,c=void 0===c||c,u=e.showLast,u=void 0===u||u,l=e.createURL,f=e.onNavigate,m=e.translations,d=e.classNames,h=void 0===d?{}:d,d=re(e,Ey),p=r-1,g=r+1,y=n-1;return ee.createElement("div",x({},d,{className:M("ais-Pagination",h.root,n<=1&&M("ais-Pagination--noRefinement",h.noRefinementRoot),d.className)}),ee.createElement("ul",{className:M("ais-Pagination-list",h.list)},o&&ee.createElement(Cy,{isDisabled:i,className:M("ais-Pagination-item--firstPage",h.firstPageItem),classNames:h,"aria-label":m.firstPageItemAriaLabel,href:l(0),onClick:function(){return f(0)}},m.firstPageItemText),s&&ee.createElement(Cy,{isDisabled:i,className:M("ais-Pagination-item--previousPage",h.previousPageItem),classNames:h,"aria-label":m.previousPageItemAriaLabel,href:l(p),onClick:function(){return f(p)}},m.previousPageItemText),t.map(function(e){return ee.createElement(Cy,{key:e,isDisabled:!1,className:M("ais-Pagination-item--page",h.pageItem,e===r&&M("ais-Pagination-item--selected",h.selectedItem)),classNames:h,"aria-label":m.pageItemAriaLabel({currentPage:e+1,nbPages:n}),href:l(e),onClick:function(){return f(e)}},m.pageItemText({currentPage:e+1,nbPages:n}))}),c&&ee.createElement(Cy,{isDisabled:a,className:M("ais-Pagination-item--nextPage",h.nextPageItem),classNames:h,"aria-label":m.nextPageItemAriaLabel,href:l(g),onClick:function(){return f(g)}},m.nextPageItemText),u&&ee.createElement(Cy,{isDisabled:a,className:M("ais-Pagination-item--lastPage",h.lastPageItem),classNames:h,"aria-label":m.lastPageItemAriaLabel,href:l(y),onClick:function(){return f(y)}},m.lastPageItemText)))}function Cy(e){var t=e.isDisabled,r=e.className,n=e.classNames,i=e.href,a=e.onClick,e=re(e,xy);return t?ee.createElement("li",{className:M("ais-Pagination-item",n.item,"ais-Pagination-item--disabled",n.disabledItem,r)},ee.createElement("span",x({className:M("ais-Pagination-link",n.link)},e))):ee.createElement("li",{className:M("ais-Pagination-item",n.item,r)},ee.createElement("a",x({className:M("ais-Pagination-link",n.link),href:i,onClick:function(e){fg(e)||(e.preventDefault(),a(e))}},e)))}var Ty=["showFirst","showPrevious","showNext","showLast","padding","totalPages","translations"];var Ny=["classNames","url","theme"];function ky(e){var t=e.classNames,t=void 0===t?{}:t,r=e.url,n=e.theme,n=void 0===n?"light":n,e=re(e,Ny);return ee.createElement("div",x({},e,{className:M("ais-PoweredBy","dark"===n?M("ais-PoweredBy--dark",t.dark):M("ais-PoweredBy--light",t.light),t.root,e.className)}),ee.createElement("a",{href:r,target:"_blank",className:M("ais-PoweredBy-link",t.link),"aria-label":"Search by Algolia",rel:"noopener noreferrer"},ee.createElement("svg",{viewBox:"0 0 572 64",className:M("ais-PoweredBy-logo",t.logo)},ee.createElement("path",{fill:"dark"===n?"#FFF":"#36395A",d:"M16 48.3c-3.4 0-6.3-.6-8.7-1.7A12.4 12.4 0 0 1 1.9 42C.6 40 0 38 0 35.4h6.5a6.7 6.7 0 0 0 3.9 6c1.4.7 3.3 1.1 5.6 1.1 2.2 0 4-.3 5.4-1a7 7 0 0 0 3-2.4 6 6 0 0 0 1-3.4c0-1.5-.6-2.8-1.9-3.7-1.3-1-3.3-1.6-5.9-1.8l-4-.4c-3.7-.3-6.6-1.4-8.8-3.4a10 10 0 0 1-3.3-7.9c0-2.4.6-4.6 1.8-6.4a12 12 0 0 1 5-4.3c2.2-1 4.7-1.6 7.5-1.6s5.5.5 7.6 1.6a12 12 0 0 1 5 4.4c1.2 1.8 1.8 4 1.8 6.7h-6.5a6.4 6.4 0 0 0-3.5-5.9c-1-.6-2.6-1-4.4-1s-3.2.3-4.4 1c-1.1.6-2 1.4-2.6 2.4-.5 1-.8 2-.8 3.1a5 5 0 0 0 1.5 3.6c1 1 2.6 1.7 4.7 1.9l4 .3c2.8.2 5.2.8 7.2 1.8 2.1 1 3.7 2.2 4.9 3.8a9.7 9.7 0 0 1 1.7 5.8c0 2.5-.7 4.7-2 6.6a13 13 0 0 1-5.6 4.4c-2.4 1-5.2 1.6-8.4 1.6Zm35.6 0c-2.6 0-4.8-.4-6.7-1.3a13 13 0 0 1-4.7-3.5 17.1 17.1 0 0 1-3.6-10.4v-1c0-2 .3-3.8 1-5.6a13 13 0 0 1 7.3-8.3 15 15 0 0 1 6.3-1.4A13.2 13.2 0 0 1 64 24.3c1 2.2 1.6 4.6 1.6 7.2V34H39.4v-4.3h21.8l-1.8 2.2c0-2-.3-3.7-.9-5.1a7.3 7.3 0 0 0-2.7-3.4c-1.2-.7-2.7-1.1-4.6-1.1s-3.4.4-4.7 1.3a8 8 0 0 0-2.9 3.6c-.6 1.5-.9 3.3-.9 5.4 0 2 .3 3.7 1 5.3a7.9 7.9 0 0 0 2.8 3.7c1.3.8 3 1.3 5 1.3s3.8-.5 5.1-1.3c1.3-1 2.1-2 2.4-3.2h6a11.8 11.8 0 0 1-7 8.7 16 16 0 0 1-6.4 1.2ZM80 48c-2.2 0-4-.3-5.7-1a8.4 8.4 0 0 1-3.7-3.3 9.7 9.7 0 0 1-1.3-5.2c0-2 .5-3.8 1.5-5.2a9 9 0 0 1 4.3-3.1c1.8-.7 4-1 6.7-1H89v4.1h-7.5c-2 0-3.4.5-4.4 1.4-1 1-1.6 2.1-1.6 3.6s.5 2.7 1.6 3.6c1 1 2.5 1.4 4.4 1.4 1.1 0 2.2-.2 3.2-.7 1-.4 1.9-1 2.6-2 .6-1 1-2.4 1-4.2l1.7 2.1c-.2 2-.7 3.8-1.5 5.2a9 9 0 0 1-3.4 3.3 12 12 0 0 1-5.3 1Zm9.5-.7v-8.8h-1v-10c0-1.8-.5-3.2-1.4-4.1-1-1-2.4-1.4-4.2-1.4a142.9 142.9 0 0 0-10.2.4v-5.6a74.8 74.8 0 0 1 8.6-.4c3 0 5.5.4 7.5 1.2s3.4 2 4.4 3.6c1 1.7 1.4 4 1.4 6.7v18.4h-5Zm12.9 0V17.8h5v12.3h-.2c0-4.2 1-7.4 2.8-9.5a11 11 0 0 1 8.3-3.1h1v5.6h-2a9 9 0 0 0-6.3 2.2c-1.5 1.5-2.2 3.6-2.2 6.4v15.6h-6.4Zm34.4 1a15 15 0 0 1-6.6-1.3c-1.9-.9-3.4-2-4.7-3.5a15.5 15.5 0 0 1-2.7-5c-.6-1.7-1-3.6-1-5.4v-1c0-2 .4-3.8 1-5.6a15 15 0 0 1 2.8-4.9c1.3-1.5 2.8-2.6 4.6-3.5a16.4 16.4 0 0 1 13.3.2c2 1 3.5 2.3 4.8 4a12 12 0 0 1 2 6H144c-.2-1.6-1-3-2.2-4.1a7.5 7.5 0 0 0-5.2-1.7 8 8 0 0 0-4.7 1.3 8 8 0 0 0-2.8 3.6 13.8 13.8 0 0 0 0 10.3c.6 1.5 1.5 2.7 2.8 3.6s2.8 1.3 4.8 1.3c1.5 0 2.7-.2 3.8-.8a7 7 0 0 0 2.6-2c.7-1 1-2 1.2-3.2h6.2a11 11 0 0 1-2 6.2 15.1 15.1 0 0 1-11.8 5.5Zm19.7-1v-40h6.4V31h-1.3c0-3 .4-5.5 1.1-7.6a9.7 9.7 0 0 1 3.5-4.8A9.9 9.9 0 0 1 172 17h.3c3.5 0 6 1.1 7.9 3.5 1.7 2.3 2.6 5.7 2.6 10v16.8h-6.4V29.6c0-2.1-.6-3.8-1.8-5a6.4 6.4 0 0 0-4.8-1.8c-2 0-3.7.7-5 2a7.8 7.8 0 0 0-1.9 5.5v17h-6.4Zm63.8 1a12.2 12.2 0 0 1-10.9-6.2 19 19 0 0 1-1.8-7.3h1.4v12.5h-5.1v-40h6.4v19.8l-2 3.5c.2-3.1.8-5.7 1.9-7.7a11 11 0 0 1 4.4-4.5c1.8-1 3.9-1.5 6.1-1.5a13.4 13.4 0 0 1 12.8 9.1c.7 1.9 1 3.8 1 6v1c0 2.2-.3 4.1-1 6a13.6 13.6 0 0 1-13.2 9.4Zm-1.2-5.5a8.4 8.4 0 0 0 7.9-5c.7-1.5 1.1-3.3 1.1-5.3s-.4-3.8-1.1-5.3a8.7 8.7 0 0 0-3.2-3.6 9.6 9.6 0 0 0-9.2-.2 8.5 8.5 0 0 0-3.3 3.2c-.8 1.4-1.3 3-1.3 5v2.3a9 9 0 0 0 1.3 4.8 9 9 0 0 0 3.4 3c1.4.7 2.8 1 4.4 1Zm27.3 3.9-10-28.9h6.5l9.5 28.9h-6Zm-7.5 12.2v-5.7h4.9c1 0 2-.1 2.9-.4a4 4 0 0 0 2-1.4c.4-.7.9-1.6 1.2-2.7l8.6-30.9h6.2l-9.3 32.4a14 14 0 0 1-2.5 5 8.9 8.9 0 0 1-4 2.8c-1.5.6-3.4.9-5.6.9h-4.4Zm9-12.2v-5.2h6.4v5.2H248Z"}),ee.createElement("path",{fill:"dark"===n?"#FFF":"#003DFF",d:"M534.4 9.1H528a.8.8 0 0 1-.7-.7V1.8c0-.4.2-.7.6-.8l6.5-1c.4 0 .8.2.9.6v7.8c0 .4-.4.7-.8.7zM428 35.2V.8c0-.5-.3-.8-.7-.8h-.2l-6.4 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.5 0 .8-.4.8-.8V43c0-.4-.3-.7-.6-.8-4.5-.5-4.5-6-4.5-7zm106.5-21.8H528c-.4 0-.7.4-.7.8v34c0 .4.3.8.7.8h6.5c.4 0 .8-.4.8-.8v-34c0-.5-.4-.8-.8-.8zm-17.7 21.8V.8c0-.5-.3-.8-.8-.8l-6.5 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.4 0 .8-.4.8-.8V43c0-.4-.3-.7-.7-.8-4.4-.5-4.4-6-4.4-7zm-22.2-20.6a16.5 16.5 0 0 1 8.6 9.3c.8 2.2 1.3 4.8 1.3 7.5a19.4 19.4 0 0 1-4.6 12.6 14.8 14.8 0 0 1-5.2 3.6c-2 .9-5.2 1.4-6.8 1.4a21 21 0 0 1-6.7-1.4 15.4 15.4 0 0 1-8.6-9.3 21.3 21.3 0 0 1 0-14.4 15.2 15.2 0 0 1 8.6-9.3c2-.8 4.3-1.2 6.7-1.2s4.6.4 6.7 1.2zm-6.7 27.6c2.7 0 4.7-1 6.2-3s2.2-4.3 2.2-7.8-.7-6.3-2.2-8.3-3.5-3-6.2-3-4.7 1-6.1 3c-1.5 2-2.2 4.8-2.2 8.3s.7 5.8 2.2 7.8 3.5 3 6.2 3zm-88.8-28.8c-6.2 0-11.7 3.3-14.8 8.2a18.6 18.6 0 0 0 4.8 25.2c1.8 1.2 4 1.8 6.2 1.7s.1 0 .1 0h.9c4.2-.7 8-4 9.1-8.1v7.4c0 .4.3.7.8.7h6.4a.7.7 0 0 0 .7-.7V14.2c0-.5-.3-.8-.7-.8h-13.5zm6.3 26.5a9.8 9.8 0 0 1-5.7 2h-.5a10 10 0 0 1-9.2-14c1.4-3.7 5-6.3 9-6.3h6.4v18.3zm152.3-26.5h13.5c.5 0 .8.3.8.7v33.7c0 .4-.3.7-.8.7h-6.4a.7.7 0 0 1-.8-.7v-7.4c-1.2 4-4.8 7.4-9 8h-.1a4.2 4.2 0 0 1-.5.1h-.9a10.3 10.3 0 0 1-7-2.6c-4-3.3-6.5-8.4-6.5-14.2 0-3.7 1-7.2 3-10 3-5 8.5-8.3 14.7-8.3zm.6 28.4c2.2-.1 4.2-.6 5.7-2V21.7h-6.3a9.8 9.8 0 0 0-9 6.4 10.2 10.2 0 0 0 9.1 13.9h.5zM452.8 13.4c-6.2 0-11.7 3.3-14.8 8.2a18.5 18.5 0 0 0 3.6 24.3 10.4 10.4 0 0 0 13 .6c2.2-1.5 3.8-3.7 4.5-6.1v7.8c0 2.8-.8 5-2.2 6.3-1.5 1.5-4 2.2-7.5 2.2l-6-.3c-.3 0-.7.2-.8.5l-1.6 5.5c-.1.4.1.8.5 1h.1c2.8.4 5.5.6 7 .6 6.3 0 11-1.4 14-4.1 2.7-2.5 4.2-6.3 4.5-11.4V14.2c0-.5-.4-.8-.8-.8h-13.5zm6.3 8.2v18.3a9.6 9.6 0 0 1-5.6 2h-1a10.3 10.3 0 0 1-8.8-14c1.4-3.7 5-6.3 9-6.3h6.4zM291 31.5A32 32 0 0 1 322.8 0h30.8c.6 0 1.2.5 1.2 1.2v61.5c0 1.1-1.3 1.7-2.2 1l-19.2-17a18 18 0 0 1-11 3.4 18.1 18.1 0 1 1 18.2-14.8c-.1.4-.5.7-.9.6-.1 0-.3 0-.4-.2l-3.8-3.4c-.4-.3-.6-.8-.7-1.4a12 12 0 1 0-2.4 8.3c.4-.4 1-.5 1.6-.2l14.7 13.1v-46H323a26 26 0 1 0 10 49.7c.8-.4 1.6-.2 2.3.3l3 2.7c.3.2.3.7 0 1l-.2.2a32 32 0 0 1-47.2-28.6z"}))))}var Fy=["classNames","range","start","step","disabled","onSubmit","translations"],Ay="";function My(e){return e.replace(/^(0+)\d/,function(e){return Number(e).toString()})}function _y(e){var t=e.classNames,t=void 0===t?{}:t,r=e.range,n=r.min,r=r.max,i=zf(e.start,2),a=i[0],i=i[1],o=e.step,o=void 0===o?1:o,s=e.disabled,c=e.onSubmit,u=e.translations,e=re(e,Fy),a={min:a!==-1/0&&a!==n?a:Ay,max:i!==1/0&&i!==r?i:Ay},i=zf(O.useState(a),2),l=i[0],i=i[1],f=zf(O.useState({from:null==(f=a.min)?void 0:f.toString(),to:null==(f=a.max)?void 0:f.toString()}),2),m=f[0],d=m.from,h=m.to,p=f[1];return a.min===l.min&&a.max===l.max||(p({from:null==(m=a.min)?void 0:m.toString(),to:null==(f=a.max)?void 0:f.toString()}),i(a)),ee.createElement("div",x({},e,{className:M(M("ais-RangeInput",t.root),s&&M("ais-RangeInput--noRefinement",t.noRefinementRoot),e.className)}),ee.createElement("form",{className:M("ais-RangeInput-form",t.form),onSubmit:function(e){e.preventDefault(),c([d?Number(d):void 0,h?Number(h):void 0])}},ee.createElement("label",{className:M("ais-RangeInput-label",t.label)},ee.createElement("input",{className:M("ais-RangeInput-input",t.input,"ais-RangeInput-input--min",t.inputMin),type:"number",min:n,max:r,value:My(d||Ay),step:o,placeholder:null==n?void 0:n.toString(),disabled:s,onInput:function(e){e=e.currentTarget.value;p({from:e||Ay,to:h})}})),ee.createElement("span",{className:M("ais-RangeInput-separator",t.separator)},u.separatorElementText),ee.createElement("label",{className:M("ais-RangeInput-label",t.label)},ee.createElement("input",{className:M("ais-RangeInput-input",t.input,"ais-RangeInput-input--max",t.inputMax),type:"number",min:n,max:r,value:My(h||Ay),step:o,placeholder:null==r?void 0:r.toString(),disabled:s,onInput:function(e){e=e.currentTarget.value;p({from:d,to:e||Ay})}})),ee.createElement("button",{className:M("ais-RangeInput-submit",t.submit),type:"submit"},u.submitButtonText)))}var Dy=["attribute","min","max","precision","translations"];var Ly=["canRefine","items","onRefine","query","searchBox","noResults","showMore","canToggleShowMore","onToggleShowMore","isShowingMore","className","classNames","translations"];function Hy(e){e.canRefine;var t=e.items,r=e.onRefine,n=e.query,i=e.searchBox,a=e.noResults,o=e.showMore,s=e.canToggleShowMore,c=e.onToggleShowMore,u=e.isShowingMore,l=e.className,f=e.classNames,m=void 0===f?{}:f,f=e.translations,e=re(e,Ly);return ee.createElement("div",x({},e,{className:M("ais-RefinementList",m.root,0===t.length&&M("ais-RefinementList--noRefinement",m.noRefinementRoot),l)}),i&&ee.createElement("div",{className:M("ais-RefinementList-searchBox",m.searchBox)},i),a?ee.createElement("div",{className:M("ais-RefinementList-noResults",m.noResults)},a):ee.createElement("ul",{className:M("ais-RefinementList-list",m.list)},t.map(function(e){return ee.createElement("li",{key:e.value,className:M("ais-RefinementList-item",m.item,e.isRefined&&M("ais-RefinementList-item--selected",m.selectedItem))},ee.createElement("label",{className:M("ais-RefinementList-label",m.label)},ee.createElement("input",{checked:e.isRefined,className:M("ais-RefinementList-checkbox",m.checkbox),type:"checkbox",value:e.value,onChange:function(){r(e)}}),ee.createElement("span",{className:M("ais-RefinementList-labelText",m.labelText)},0<n.length?ee.createElement(ry,{parts:[Gt(ft(e.highlighted||""))]}):e.label),ee.createElement("span",{className:M("ais-RefinementList-count",m.count)},e.count)))})),o&&ee.createElement(Kg,{className:M("ais-RefinementList-showMore",m.showMore,!s&&M("ais-RefinementList-showMore--disabled",m.disabledShowMore)),disabled:!s,onClick:c,isShowingMore:u,translations:f}))}var By=["formRef","inputRef","inputProps","isSearchStalled","onChange","onReset","onSubmit","placeholder","value","autoFocus","resetIconComponent","submitIconComponent","loadingIconComponent","classNames","translations"],Wy=ee.createElement("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"});function $y(e){e=e.classNames;return ee.createElement("svg",{className:M("ais-SearchBox-submitIcon",e.submitIcon),width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},Wy)}var Uy=ee.createElement("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"});function qy(e){e=e.classNames;return ee.createElement("svg",{className:M("ais-SearchBox-resetIcon",e.resetIcon),viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},Uy)}var Qy=ee.createElement("g",{fill:"none",fillRule:"evenodd"},ee.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},ee.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),ee.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},ee.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))));function zy(e){e=e.classNames;return ee.createElement("svg",{"aria-label":"Results are loading",width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444",className:M("ais-SearchBox-loadingIcon",e.loadingIcon),"aria-hidden":"true"},Qy)}function Vy(e){var t=e.formRef,r=e.inputRef,n=e.inputProps,i=e.isSearchStalled,a=e.onChange,o=e.onReset,s=e.onSubmit,c=e.placeholder,c=void 0===c?"":c,u=e.value,l=e.autoFocus,f=e.resetIconComponent,f=void 0===f?qy:f,m=e.submitIconComponent,m=void 0===m?$y:m,d=e.loadingIconComponent,d=void 0===d?zy:d,h=e.classNames,h=void 0===h?{}:h,p=e.translations,e=re(e,By);return ee.createElement("div",x({},e,{className:M("ais-SearchBox",h.root,e.className)}),ee.createElement("form",{ref:t,action:"",className:M("ais-SearchBox-form",h.form),noValidate:!0,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),s&&s(e),r.current&&r.current.blur()},onReset:function(e){e.preventDefault(),e.stopPropagation(),o(e),r.current&&r.current.focus()},role:"search"},ee.createElement("input",x({},n,{ref:r,className:M("ais-SearchBox-input",h.input,null==n?void 0:n.className),"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",placeholder:c,spellCheck:!1,maxLength:512,type:"search",value:u,onChange:a,onCompositionEnd:a,autoFocus:l})),ee.createElement("button",{className:M("ais-SearchBox-submit",h.submit),type:"submit",title:p.submitButtonTitle},ee.createElement(m,{classNames:h})),ee.createElement("button",{className:M("ais-SearchBox-reset",h.reset),type:"reset",title:p.resetButtonTitle,hidden:0===u.length||i},ee.createElement(f,{classNames:h})),ee.createElement("span",{className:M("ais-SearchBox-loadingIndicator",h.loadingIndicator),hidden:!i},ee.createElement(d,{classNames:h}))))}var Jy=["searchable","searchablePlaceholder","searchableSelectOnSubmit","attribute","operator","limit","showMore","showMoreLimit","sortBy","escapeFacetValues","transformItems","translations"];function Zy(e){var t=void 0===(t=e.classNames)?{}:t,r=void 0===(r=e.emptyComponent)?Fm({createElement:Ky,Fragment:Gy}):r,n=void 0===(n=e.headerComponent)?Am({createElement:Ky,Fragment:Gy}):n,i=void 0===(i=e.itemComponent)?Mm({createElement:Ky,Fragment:Gy}):i,a=void 0===(a=e.layout)?_m({createElement:Ky,Fragment:Gy}):a,o=e.items,s=e.status,c=e.translations,u=e.sendEvent,e=A(e,Pp),c=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jp(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jp(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({title:"Related products",sliderLabel:"Related products"},c),t={root:M("ais-RelatedProducts",t.root),emptyRoot:M("ais-RelatedProducts",t.root,"ais-RelatedProducts--empty",t.emptyRoot,e.className),title:M("ais-RelatedProducts-title",t.title),container:M("ais-RelatedProducts-container",t.container),list:M("ais-RelatedProducts-list",t.list),item:M("ais-RelatedProducts-item",t.item)};return 0===o.length&&"idle"===s?Ky("section",F({},e,{className:t.emptyRoot}),Ky(r,null)):Ky("section",F({},e,{className:t.root}),Ky(n,{classNames:t,items:o,translations:c}),Ky(a,{classNames:t,itemComponent:i,items:o,sendEvent:u}))}var Ky,Gy,Xy=["objectIDs","limit","threshold","fallbackParameters","queryParameters","escapeHTML","transformItems","itemComponent","headerComponent","emptyComponent","layoutComponent"];r={createElement:O.createElement,Fragment:O.Fragment},Ky=r.createElement,Gy=r.Fragment;var Yy=["queryHook","searchAsYouType","ignoreCompositionEvents","translations"];var ev=["classNames"];function tv(e){var t=e.classNames,t=void 0===t?{}:t,e=re(e,ev);return ee.createElement(Ap,x({classNames:{root:M("ais-Snippet",t.root),highlighted:M("ais-Snippet-highlighted",t.highlighted),nonHighlighted:M("ais-Snippet-nonHighlighted",t.nonHighlighted),separator:M("ais-Snippet-separator",t.separator)}},e))}var rv=["hit","attribute","highlightedTagName","nonHighlightedTagName","separator"];var nv=["items","value","onChange","classNames"];function iv(e){var t=e.items,r=e.value,n=e.onChange,i=void 0===n?function(){}:n,n=e.classNames,a=void 0===n?{}:n,n=re(e,nv);return ee.createElement("div",x({},n,{className:M("ais-SortBy",a.root,n.className)}),ee.createElement("select",{className:M("ais-SortBy-select",a.select),onChange:function(e){return i(e.target.value)},value:r,"aria-label":"Sort results by"},t.map(function(e){return ee.createElement("option",{className:M("ais-SortBy-option",a.option),key:e.value,value:e.value},e.label)})))}var av=["items","transformItems"];var ov=["classNames","nbHits","processingTimeMS","nbSortedHits","areHitsSorted","translations"];function sv(e){var t=e.classNames,t=void 0===t?{}:t,r=e.nbHits,n=e.processingTimeMS,i=e.nbSortedHits,a=e.areHitsSorted,o=e.translations,e=re(e,ov),r={nbHits:r,processingTimeMS:n,nbSortedHits:i,areHitsSorted:a};return ee.createElement("div",x({},e,{className:M("ais-Stats",t.root,e.className)}),ee.createElement("span",{className:"ais-Stats-text"},o.rootElementText(r)))}var cv=["translations"];var uv=["classNames","checked","onChange","label"];function lv(e){var t=e.classNames,t=void 0===t?{}:t,r=e.checked,n=e.onChange,i=e.label,e=re(e,uv);return ee.createElement("div",x({},e,{className:M("ais-ToggleRefinement",t.root,e.className)}),ee.createElement("label",{className:M("ais-ToggleRefinement-label",t.label)},ee.createElement("input",{className:M("ais-ToggleRefinement-checkbox",t.checkbox),type:"checkbox",checked:r,onChange:function(e){n(e.target.checked)}}),ee.createElement("span",{className:M("ais-ToggleRefinement-labelText",t.labelText)},i)))}var fv=["attribute","on","off"];function mv(e){var t=void 0===(t=e.classNames)?{}:t,r=void 0===(r=e.emptyComponent)?Fm({createElement:dv,Fragment:hv}):r,n=void 0===(n=e.headerComponent)?Am({createElement:dv,Fragment:hv}):n,i=void 0===(i=e.itemComponent)?Mm({createElement:dv,Fragment:hv}):i,a=void 0===(a=e.layout)?_m({createElement:dv,Fragment:hv}):a,o=e.items,s=e.status,c=e.translations,u=e.sendEvent,e=A(e,Rp),c=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ep(Object(r),!0).forEach(function(e){im(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ep(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({title:"Trending items",sliderLabel:"Trending items"},c),t={root:M("ais-TrendingItems",t.root),emptyRoot:M("ais-TrendingItems",t.root,"ais-TrendingItems--empty",t.emptyRoot,e.className),title:M("ais-TrendingItems-title",t.title),container:M("ais-TrendingItems-container",t.container),list:M("ais-TrendingItems-list",t.list),item:M("ais-TrendingItems-item",t.item)};return 0===o.length&&"idle"===s?dv("section",F({},e,{className:t.emptyRoot}),dv(r,null)):dv("section",F({},e,{className:t.root}),dv(n,{classNames:t,items:o,translations:c}),dv(a,{classNames:t,itemComponent:i,items:o,sendEvent:u}))}var dv,hv,pv=["facetName","facetValue","limit","threshold","fallbackParameters","queryParameters","escapeHTML","transformItems","itemComponent","headerComponent","emptyComponent","layoutComponent"];Je={createElement:O.createElement,Fragment:O.Fragment},dv=Je.createElement,hv=Je.Fragment;function gv(e){var t,r=void 0===(n=e.classNames)?{}:n,n=e.suggestions,i=e.isLoading,a=e.refine,o=void 0===(o=e.skeletonCount)?3:o,s=void 0===(c=e.itemComponent)?Sv:c,c=e.headerComponent,u=e.emptyComponent,e=A(e,xp),c=!1===c?null:null!=c?c:bv;return 0!==n.length||i?(u={header:r.header,headerIcon:r.headerIcon,headerTitle:r.headerTitle},t={item:r.item,button:r.button,label:r.label,count:r.count},p("div",F({},e,{className:M("ais-FilterSuggestions",r.root,i&&M("ais-FilterSuggestions--loading",r.loadingRoot),e.className)}),c&&p(c,{classNames:u}),i?p("div",{className:M("ais-FilterSuggestions-skeleton",r.skeleton)},Em(new Array(o)).map(function(e,t){return p("div",{key:t,className:M("ais-FilterSuggestions-skeletonItem",r.skeletonItem)})})):p("ul",{className:M("ais-FilterSuggestions-list",r.list)},n.map(function(e){return p("li",{key:"".concat(e.attribute,"-").concat(e.value),className:M("ais-FilterSuggestions-item",r.item)},p(s,{suggestion:e,classNames:t,refine:function(){return a(e.attribute,e.value)}}))})))):p("div",F({},e,{className:M("ais-FilterSuggestions",r.root,"ais-FilterSuggestions--empty",r.emptyRoot,e.className)}),u&&p(u,{classNames:{emptyRoot:r.emptyRoot}}))}var p,yv,vv=["agentId","attributes","maxSuggestions","debounceMs","hitsToSample","transformItems","itemComponent","headerComponent","emptyComponent","transport"];Ze={createElement:O.createElement,Fragment:O.Fragment},p=Ze.createElement,yv=km({createElement:p});function bv(e){e=e.classNames;return p("div",{className:M("ais-FilterSuggestions-header",e.header)},p("span",{className:M("ais-FilterSuggestions-headerIcon",e.headerIcon)},p($m,{createElement:p})),p("span",{className:M("ais-FilterSuggestions-headerTitle",e.headerTitle)},"Filter suggestions"))}function Sv(e){var t=e.suggestion,r=e.classNames,e=e.refine;return p(yv,{variant:"outline",size:"sm",className:M(r.button),onClick:e},p("span",{className:M("ais-FilterSuggestions-label",r.label)},t.label,": ",t.value),p("span",{className:M("ais-FilterSuggestions-count",r.count)},t.count))}e.Breadcrumb=function(e){var t=e.attributes,r=e.rootPath,n=(e.separator,e.transformItems),i=e.translations,e=re(e,hg),r=(t=Fo({attributes:t,rootPath:r,transformItems:n},{$$widgetType:"ais.breadcrumb"})).canRefine,n=t.createURL,r={items:t.items,hasItems:r,createURL:n,onNavigate:t.refine,translations:te({rootElementText:"Home"},i)};return ee.createElement(dg,x({},e,r))},e.Carousel=jg,e.Chat=function(e){var t=e.tools,r=e.toggleButtonProps,n=e.headerProps,i=e.messagesProps,a=e.promptProps,o=e.itemComponent,s=e.toggleButtonComponent,c=e.toggleButtonIconComponent,u=e.headerComponent,l=e.headerTitleIconComponent,f=e.headerCloseIconComponent,m=e.headerMinimizeIconComponent,d=e.headerMaximizeIconComponent,h=e.messagesLoaderComponent,p=e.messagesErrorComponent,g=e.promptComponent,y=e.promptHeaderComponent,v=e.promptFooterComponent,b=e.assistantMessageLeadingComponent,S=e.assistantMessageFooterComponent,O=e.userMessageLeadingComponent,_=e.userMessageFooterComponent,D=e.actionsComponent,L=e.suggestionsComponent,H=e.classNames,w=void 0===(w=e.translations)?{}:w,B=e.title,P=e.getSearchPageURL,e=re(e,Mg),W=w.prompt,$=w.header,U=w.message,w=w.messages,q=(j=Lf()).indexUiState,j=j.setIndexUiState,R=(E=zf(ee.useState(!1),2))[0],Q=E[1],E=ee.useRef(null),z=(x=Pg({initial:"smooth",resize:"smooth"})).scrollRef,V=x.contentRef,J=x.scrollToBottom,x=x.isAtBottom,I=ee.useMemo(function(){return te(te({},Lg(o,P)),t)},[P,o,t]),I=(e=Ks(te(te({},e),{},{tools:I}))).messages,C=e.sendMessage,T=e.status,Z=e.regenerate,K=e.stop,N=(e.error,e.input),k=e.setInput,F=e.open,A=e.setOpen,M=e.isClearing,G=e.clearMessages,X=e.onClearTransitionEnd,Y=e.tools,e=e.suggestions;return ee.createElement(Eg,{title:B,open:F,maximized:R,headerComponent:u,promptComponent:g,toggleButtonComponent:s,suggestionsComponent:L,toggleButtonProps:te({open:F,onClick:function(){return A(!F)},toggleIconComponent:c},r),headerProps:te({onClose:function(){return A(!1)},maximized:R,onToggleMaximize:function(){return Q(!R)},onClear:G,canClear:Boolean(null==I?void 0:I.length)&&!M,titleIconComponent:l,closeIconComponent:f,minimizeIconComponent:m,maximizeIconComponent:d,translations:$},n),messagesProps:te({status:T,onReload:function(e){return Z({messageId:e})},onClose:function(){return A(!1)},messages:I,tools:Y,indexUiState:q,setIndexUiState:j,isClearing:M,onClearTransitionEnd:X,isScrollAtBottom:x,scrollRef:z,contentRef:V,onScrollToBottom:J,loaderComponent:h,errorComponent:p,actionsComponent:D,assistantMessageProps:te({leadingComponent:b,footerComponent:S},null==i?void 0:i.assistantMessageProps),userMessageProps:te({leadingComponent:O,footerComponent:_},null==i?void 0:i.userMessageProps),translations:w,messageTranslations:U},i),promptProps:te({promptRef:E,status:T,value:N,translations:W,onInput:function(e){k(e.currentTarget.value)},onSubmit:function(){C({text:N}),k("")},onStop:function(){K()},headerComponent:y,footerComponent:v},a),suggestionsProps:{suggestions:e,onSuggestionClick:function(e){C({text:e})}},classNames:H})},e.ClearRefinements=function(e){var t=e.includedAttributes,r=e.excludedAttributes,n=e.transformItems,i=e.translations,e=re(e,Wg),r=(t=ic({includedAttributes:t,excludedAttributes:r,transformItems:n},{$$widgetType:"ais.clearRefinements"})).canRefine,n={onClick:t.refine,disabled:!r,translations:te({resetButtonText:"Clear refinements"},i)};return ee.createElement(Bg,x({},e,n))},e.Configure=An,e.CurrentRefinements=function(e){var t=e.includedAttributes,r=e.excludedAttributes,n=e.transformItems,e=re(e,qg),r=(t=gc({includedAttributes:t,excludedAttributes:r,transformItems:n},{$$widgetType:"ais.currentRefinements"})).items,n=t.canRefine;return ee.createElement(Ug,x({},e,{items:r,hasRefinements:n}))},e.DynamicWidgets=function(e){var t=e.children,r=void 0===(r=e.fallbackComponent)?Vn:r,e=zn(e,qn),n=ee.useRef(r),r=Un(e,{$$widgetType:"ais.dynamicWidgets"}).attributesToRender,i=new Map;return ee.Children.forEach(t,function(e){var t=function e(t){if(!Jn(t))return;if(t.props.attribute)return t.props.attribute;if(Array.isArray(t.props.attributes))return t.props.attributes[0];if(t.props.children)return an(1===ee.Children.count(t.props.children)),e(ee.Children.only(t.props.children));return}(e);an(void 0!==t),i.set(t,e)}),ee.createElement(ee.Fragment,null,r.map(function(e){return ee.createElement(O.Fragment,{key:e},i.get(e)||ee.createElement(n.current,{attribute:e}))}))},e.EXPERIMENTAL_Autocomplete=function(e){var t=void 0===(t=e.indices)?[]:t,r=e.showSuggestions,n=e.showRecent,i=e.searchParameters,e=re(e,rg),a=(s=Lf()).indexUiState,o=s.indexRenderState,s=Wl({},{$$type:"ais.autocomplete",$$widgetType:"ais.autocomplete"}).refine,i=te({hitsPerPage:5},i),t=Vf(t),c=(null!=r&&r.indexName&&t.unshift({indexName:r.indexName,headerComponent:r.headerComponent,itemComponent:r.itemComponent||function(e){var t=e.item,r=e.onSelect,e=e.onApply;return ee.createElement(Wp,{item:t,onSelect:r,onApply:e},ee.createElement(lg,{item:t}))},classNames:{root:M("ais-AutocompleteSuggestions",null==r||null==(c=r.classNames)?void 0:c.root),list:M("ais-AutocompleteSuggestionsList",null==r||null==(c=r.classNames)?void 0:c.list),header:M("ais-AutocompleteSuggestionsHeader",null==r||null==(c=r.classNames)?void 0:c.header),item:M("ais-AutocompleteSuggestionsItem",null==r||null==(c=r.classNames)?void 0:c.item)},getQuery:function(e){return e.query},getURL:r.getURL}),n?{headerComponent:"object"===Jf(n)?n.headerComponent:void 0,itemComponent:"object"===Jf(n)&&n.itemComponent?n.itemComponent:$p,classNames:{root:M("ais-AutocompleteRecentSearches","object"!==Jf(n)||null==(c=n.classNames)?void 0:c.root),list:M("ais-AutocompleteRecentSearchesList","object"!==Jf(n)||null==(c=n.classNames)?void 0:c.list),header:M("ais-AutocompleteRecentSearchesHeader","object"!==Jf(n)||null==(c=n.classNames)?void 0:c.header),item:M("ais-AutocompleteRecentSearchesItem","object"!==Jf(n)||null==(c=n.classNames)?void 0:c.item)}}:void 0),u=O.useMemo(function(){return void 0!==o.hits||void 0!==o.infiniteHits},[o]);return ee.createElement(O.Fragment,null,ee.createElement(gi,{EXPERIMENTAL_isolated:!0},ee.createElement(An,i),t.map(function(e){return ee.createElement(gi,{key:e.indexName,indexName:e.indexName},ee.createElement(An,e.searchParameters))}),ee.createElement(ug,x({},e,{indicesConfig:t,refineSearchBox:s,indexUiState:a,isSearchPage:u,showRecent:n,recentSearchConfig:c,showSuggestions:r}))))},e.FilterSuggestions=function(e){var t=e.agentId,r=e.attributes,n=e.maxSuggestions,i=e.debounceMs,a=e.hitsToSample,o=e.transformItems,s=e.itemComponent,c=e.headerComponent,u=e.emptyComponent,l=e.transport,e=re(e,vv),r=(t=Ff({agentId:t,attributes:r,maxSuggestions:n,debounceMs:i,hitsToSample:a,transformItems:o,transport:l},{$$widgetType:"ais.filterSuggestions"})).suggestions,i=t.isLoading,a=t.refine;return ee.createElement(gv,x({},e,{suggestions:r,isLoading:i,refine:a,skeletonCount:n,itemComponent:s,headerComponent:c,emptyComponent:u}))},e.FrequentlyBoughtTogether=function(e){var t=e.objectIDs,r=e.limit,n=e.threshold,i=e.queryParameters,a=e.fallbackParameters,o=e.escapeHTML,s=e.transformItems,c=e.itemComponent,u=e.headerComponent,l=e.emptyComponent,f=e.layoutComponent,e=re(e,Jg),m=Lf().status,r=(t=wc({objectIDs:t,limit:r,threshold:n,queryParameters:i,fallbackParameters:a,escapeHTML:o,transformItems:s},{$$widgetType:"ais.frequentlyBoughtTogether"})).items,d=t.sendEvent,n=f?function(e){return f(te(te({},e),{},{classNames:{list:e.classNames.list,item:e.classNames.item}}))}:void 0,i=O.useMemo(function(){return c?function(e){return c(te(te({},e),{},{sendEvent:d}))}:void 0},[c,d]);return ee.createElement(Qg,x({},e,{items:r,itemComponent:i,headerComponent:u,emptyComponent:l,layout:n,status:m,sendEvent:d}))},e.HierarchicalMenu=function(e){var t=e.attributes,r=e.limit,n=e.rootPath,i=e.separator,a=e.showMore,o=e.showMoreLimit,s=e.showParentLevel,c=e.sortBy,u=e.transformItems,l=e.translations,e=re(e,ey),r=(t=$c({attributes:t,limit:r,rootPath:n,separator:i,showMore:a,showMoreLimit:o,showParentLevel:s,sortBy:c,transformItems:u},{$$widgetType:"ais.hierarchicalMenu"})).items,n=t.canRefine,i=t.canToggleShowMore,o=t.createURL,s=t.isShowingMore,c={items:r,hasItems:n,createURL:o,onNavigate:t.refine,canToggleShowMore:i,onToggleShowMore:t.toggleShowMore,isShowingMore:s,translations:te({showMoreButtonText:function(e){return e.isShowingMore?"Show less":"Show more"}},l)};return ee.createElement(Yg,x({},e,c,{showMore:a}))},e.Highlight=function(e){var t=e.hit,r=e.attribute,n=e.highlightedTagName,i=e.nonHighlightedTagName,a=e.separator,e=re(e,ny),t=Yt(t._highlightResult,r)||[],r=(Array.isArray(t)?t:[t]).map(function(e){return Gt(ft(e.value||""))});return ee.createElement(ry,x({},e,{parts:r,highlightedTagName:n,nonHighlightedTagName:i,separator:a}))},e.Hits=function(e){var t=e.escapeHTML,r=e.transformItems,n=void 0===(i=e.hitComponent)?oy:i,i=e.bannerComponent,e=re(e,iy),r=(t=Zc({escapeHTML:t,transformItems:r},{$$widgetType:"ais.hits"})).hits,a=t.banner,o=t.sendEvent,t=O.useMemo(function(){return function(e){var t=e.hit,e=(e.index,re(e,ay));return ee.createElement("li",x({key:t.objectID},e),ee.createElement(n,{hit:t,sendEvent:o}))}},[n,o]);return ee.createElement(sy,x({},e,{hits:r,sendEvent:o,itemComponent:t,banner:a,bannerComponent:!1===i?function(){return null}:i}))},e.HitsPerPage=function(e){var t=e.items,r=e.transformItems,e=re(e,dy),r=(t=nu({items:t,transformItems:r},{$$widgetType:"ais.hitsPerPage"})).items,n=t.refine,t=(r.find(function(e){return e.isRefined})||{}).value;return ee.createElement(my,x({},e,{items:r,currentValue:t,onChange:function(e){return n(e)}}))},e.Index=gi,e.InfiniteHits=function(e){var t=void 0===(t=e.showPrevious)||t,r=e.cache,n=e.escapeHTML,i=e.transformItems,a=e.translations,o=e.bannerComponent,e=re(e,vy),n=(r=yu({cache:r,escapeHTML:n,showPrevious:t,transformItems:i},{$$widgetType:"ais.infiniteHits"})).items,i=r.banner,s=r.sendEvent,c=r.showPrevious,n={hits:n,banner:i,bannerComponent:!1===o?function(){return null}:o,sendEvent:s,onShowPrevious:t?c:void 0,onShowMore:r.showMore,isFirstPage:r.isFirstPage,isLastPage:r.isLastPage,translations:te({showPreviousButtonText:"Show previous results",showMoreButtonText:"Show more results"},a)};return ee.createElement(yy,x({},e,n))},e.InstantSearch=function(e){var t=e.children;return(e=oo(uo(e,co))).started?ee.createElement(sn.Provider,{value:e},ee.createElement(nn.Provider,{value:e.mainIndex},t,ee.createElement(lo,{search:e}))):null},e.InstantSearchRSCContext=vn,e.InstantSearchSSRContext=fn,e.InstantSearchSSRProvider=yo,e.InstantSearchServerContext=un,e.LookingSimilar=function(e){var t=e.objectIDs,r=e.limit,n=e.threshold,i=e.queryParameters,a=e.fallbackParameters,o=e.escapeHTML,s=e.transformItems,c=e.itemComponent,u=e.headerComponent,l=e.emptyComponent,f=e.layoutComponent,e=re(e,wy),m=Lf().status,r=(t=Rf({objectIDs:t,limit:r,threshold:n,queryParameters:i,fallbackParameters:a,escapeHTML:o,transformItems:s},{$$widgetType:"ais.lookingSimilar"})).items,d=t.sendEvent,n=f?function(e){return f(te(te({},e),{},{classNames:{list:e.classNames.list,item:e.classNames.item}}))}:void 0,i=O.useMemo(function(){return c?function(e){return c(te(te({},e),{},{sendEvent:d}))}:void 0},[c,d]);return ee.createElement(by,x({},e,{items:r,itemComponent:i,headerComponent:u,emptyComponent:l,layout:n,status:m,sendEvent:d}))},e.MemorizeToolType=Ms,e.MemorySearchToolType=_s,e.Menu=function(e){var t=e.attribute,r=e.limit,n=e.showMore,i=e.showMoreLimit,a=e.sortBy,o=e.transformItems,s=e.translations,e=re(e,Ry),r=(t=Cu({attribute:t,limit:r,showMore:n,showMoreLimit:i,sortBy:a,transformItems:o},{$$widgetType:"ais.menu"})).canToggleShowMore,i=t.isShowingMore,a=t.items,c=t.refine,o={items:a,createURL:t.createURL,onRefine:function(e){return c(e.value)},canToggleShowMore:r,onToggleShowMore:t.toggleShowMore,isShowingMore:i,translations:te({showMoreButtonText:function(e){return e.isShowingMore?"Show less":"Show more"}},s)};return ee.createElement(jy,x({},e,o,{showMore:n}))},e.Pagination=function(e){var t=e.showFirst,r=e.showPrevious,n=e.showNext,i=e.showLast,a=e.padding,o=e.totalPages,s=e.translations,e=re(e,Ty),o=(a=Yu({padding:a,totalPages:o},{$$widgetType:"ais.pagination"})).pages,c=a.currentRefinement,u=a.isFirstPage,l=a.isLastPage,f=a.nbPages,o={pages:o,currentPage:c,isFirstPage:u,isLastPage:l,nbPages:f,createURL:a.createURL,onNavigate:a.refine,translations:te({firstPageItemText:"â¹â¹",previousPageItemText:"â¹",nextPageItemText:"âº",lastPageItemText:"âºâº",pageItemText:function(e){e=e.currentPage;return String(e)},firstPageItemAriaLabel:"First Page",previousPageItemAriaLabel:"Previous Page",nextPageItemAriaLabel:"Next Page",lastPageItemAriaLabel:"Last Page, Page ".concat(f),pageItemAriaLabel:function(e){e=e.currentPage;return"Page ".concat(e)}},s)};return ee.createElement(Iy,x({},e,o,{showFirst:t,showPrevious:r,showNext:n,showLast:i}))},e.PonderToolType=Ds,e.PoweredBy=function(e){var t=el().url;return ee.createElement(ky,x({},e,{url:t}))},e.RangeInput=function(e){var t=e.attribute,r=e.min,n=e.max,i=e.precision,a=e.translations,e=re(e,Dy),r=(t=vl({attribute:t,min:r,max:n,precision:i},{$$widgetType:"ais.rangeInput"})).range,n=t.start,o=t.canRefine,t=t.refine,r={range:r,start:n,step:1/Math.pow(10,i||0),disabled:!o,onSubmit:t,translations:te({separatorElementText:"to",submitButtonText:"Go"},a)};return ee.createElement(_y,x({},e,r))},e.RecommendToolType=As,e.RefinementList=function(e){var t=e.searchable,r=e.searchablePlaceholder,n=void 0===(i=e.searchableSelectOnSubmit)||i,i=e.attribute,a=e.operator,o=e.limit,s=e.showMore,c=e.showMoreLimit,u=e.sortBy,l=e.escapeFacetValues,f=e.transformItems,m=e.translations,e=re(e,Jy),a=(i=Il({attribute:i,operator:a,limit:o,showMore:s,showMoreLimit:c,sortBy:u,escapeFacetValues:l,transformItems:f},{$$widgetType:"ais.refinementList"})).canRefine,o=i.canToggleShowMore,c=i.isFromSearch,u=i.isShowingMore,d=i.items,h=i.refine,p=i.searchForItems,l=i.toggleShowMore,i=(f=zf(O.useState(""),2))[0],g=f[1],f=O.useRef(null);function y(e,t){t=!(1<arguments.length&&void 0!==t)||t;g(e),t&&p(e)}return m=te({resetButtonTitle:"Clear the search query",submitButtonTitle:"Submit the search query",noResultsText:"No results.",showMoreButtonText:function(e){return e.isShowingMore?"Show less":"Show more"}},m),a={items:d,canRefine:a,onRefine:function(e){h(e.value),y("")},query:i,searchBox:t&&ee.createElement(Vy,{inputRef:f,placeholder:r,isSearchStalled:!1,value:i,onChange:function(e){var t="compositionend"===e.type||!e.nativeEvent.isComposing;y(e.currentTarget.value,t)},onReset:function(){y("")},onSubmit:function(){!1!==n&&0<d.length&&(h(d[0].value),y(""))},translations:{submitButtonTitle:m.submitButtonTitle,resetButtonTitle:m.resetButtonTitle}}),noResults:t&&c&&0===d.length&&m.noResultsText,canToggleShowMore:o,onToggleShowMore:l,isShowingMore:u,translations:{showMoreButtonText:m.showMoreButtonText}},ee.createElement(Hy,x({},e,a,{showMore:s}))},e.RelatedProducts=function(e){var t=e.objectIDs,r=e.limit,n=e.threshold,i=e.fallbackParameters,a=e.queryParameters,o=e.escapeHTML,s=e.transformItems,c=e.itemComponent,u=e.headerComponent,l=e.emptyComponent,f=e.layoutComponent,e=re(e,Xy),m=Lf().status,r=(t=Al({objectIDs:t,limit:r,threshold:n,fallbackParameters:i,queryParameters:a,escapeHTML:o,transformItems:s},{$$widgetType:"ais.relatedProducts"})).items,d=t.sendEvent,n=f?function(e){return f(te(te({},e),{},{classNames:{list:e.classNames.list,item:e.classNames.item}}))}:void 0,i=O.useMemo(function(){return c?function(e){return c(te(te({},e),{},{sendEvent:d}))}:void 0},[c,d]);return ee.createElement(Zy,x({},e,{items:r,itemComponent:i,headerComponent:u,emptyComponent:l,layout:n,status:m,sendEvent:d}))},e.ReverseHighlight=Bp,e.SearchBox=function(e){var t=e.queryHook,r=void 0===(i=e.searchAsYouType)||i,n=void 0!==(i=e.ignoreCompositionEvents)&&i,i=e.translations,a=re(e,Yy),t=(e=Wl({queryHook:t},{$$widgetType:"ais.searchBox"})).query,o=e.refine,e=e.isSearchStalled,s=(u=zf(O.useState(t),2))[0],c=u[1],u=O.useRef(null);function l(e,t){t=1<arguments.length&&void 0!==t&&t;c(e),!r||n&&t||o(e)}return t!==s&&document.activeElement!==u.current&&c(t),t={inputRef:u,isSearchStalled:e,onChange:function(e){l(e.currentTarget.value,e.nativeEvent.isComposing)},onReset:function(){l(""),r||o("")},onSubmit:function(e){r||o(s),a.onSubmit&&a.onSubmit(e)},value:s,translations:te({submitButtonTitle:"Submit the search query",resetButtonTitle:"Clear the search query"},i)},ee.createElement(Vy,x({},a,t))},e.SearchIndexToolType=Fs,e.Snippet=function(e){var t=e.hit,r=e.attribute,n=e.highlightedTagName,i=e.nonHighlightedTagName,a=e.separator,e=re(e,rv),t=Yt(t._snippetResult,r)||[],r=(Array.isArray(t)?t:[t]).map(function(e){return Gt(ft(e.value||""))});return ee.createElement(tv,x({},e,{parts:r,highlightedTagName:n,nonHighlightedTagName:i,separator:a}))},e.SortBy=function(e){var t=e.items,r=e.transformItems,e=re(e,av),r=(t=Kl({items:t,transformItems:r},{$$widgetType:"ais.sortBy"})).currentRefinement,n=t.options,t=t.refine;return ee.createElement(iv,x({},e,{items:n,value:r,onChange:t}))},e.Stats=function(e){var t=e.translations,e=re(e,cv),r={nbHits:(r=rf(void 0,{$$widgetType:"ais.stats"})).nbHits,nbSortedHits:r.nbSortedHits,processingTimeMS:r.processingTimeMS,areHitsSorted:r.areHitsSorted,translations:te({rootElementText:function(e){return"".concat((e.areHitsSorted?function(e){var t=e.nbHits,e=e.nbSortedHits,t="sorted out of ".concat(t.toLocaleString());if(0===e)return"No relevant results ".concat(t);if(1===e)return"1 relevant result ".concat(t);if(1<e)return"".concat((e||0).toLocaleString()," relevant results ").concat(t);return""}:function(e){e=e.nbHits;if(0===e)return"No results";if(1===e)return"1 result";if(1<e)return"".concat(e.toLocaleString()," results");return""})(e)," found in ").concat(e.processingTimeMS.toLocaleString(),"ms")}},t)};return ee.createElement(sv,x({},e,r))},e.ToggleRefinement=function(e){var t=e.attribute,r=e.on,n=e.off,e=re(e,fv),i=(t=df({attribute:t,on:r,off:n},{$$widgetType:"ais.toggleRefinement"})).refine,n={checked:(r=t.value).isRefined,onChange:function(e){return i({isRefined:!e})}};return ee.createElement(lv,x({label:r.name},e,n))},e.TrendingItems=function(e){var t=e.facetName,r=e.facetValue,n=e.limit,i=e.threshold,a=e.fallbackParameters,o=e.queryParameters,s=e.escapeHTML,c=e.transformItems,u=e.itemComponent,l=e.headerComponent,f=e.emptyComponent,m=e.layoutComponent,e=re(e,pv),t=t&&r?{facetName:t,facetValue:r}:{},r=Lf().status,n=(t=bf(te(te({},t),{},{limit:n,threshold:i,fallbackParameters:a,queryParameters:o,escapeHTML:s,transformItems:c}),{$$widgetType:"ais.trendingItems"})).items,d=t.sendEvent,i=m?function(e){return m(te(te({},e),{},{classNames:{list:e.classNames.list,item:e.classNames.item}}))}:void 0,a=O.useMemo(function(){return u?function(e){return u(te(te({},e),{},{sendEvent:d}))}:void 0},[u,d]);return ee.createElement(mv,x({},e,{items:n,itemComponent:a,headerComponent:l,emptyComponent:f,layout:i,status:r,sendEvent:d}))},e.createDefaultTools=Lg,e.getServerState=function(r,e){function n(){var t=!1;return function(e){e=e.search;if(t)throw new Error("getServerState should be called with a single InstantSearchSSRProvider and a single InstantSearch component.");t=!0,a.current=e}}var i=e.renderToString,a={current:void 0};return Ae(),$f({children:r,renderToString:i,searchRef:a,notifyServer:n()}).then(function(e){var t=!1;return Pr(a.current.mainIndex,function(e){t=t||e.getWidgets().some(function(e){return"ais.dynamicWidgets"===e.$$type})}),t?(Ae(),$f({children:ee.createElement(yo,e,r),renderToString:i,searchRef:a,notifyServer:n(),skipRecommend:!0})):e})},e.useAutocomplete=jo,e.useBreadcrumb=Fo,e.useChat=Ks,e.useClearRefinements=ic,e.useConfigure=Tn,e.useConnector=s,e.useCurrentRefinements=gc,e.useDynamicWidgets=Un,e.useFilterSuggestions=Ff,e.useFrequentlyBoughtTogether=wc,e.useGeoSearch=function(e,t){return s(Cc,e,t)},e.useHierarchicalMenu=$c,e.useHits=Zc,e.useHitsPerPage=nu,e.useInfiniteHits=yu,e.useInstantSearch=Lf,e.useInstantSearchContext=cn,e.useLookingSimilar=Rf,e.useMenu=Cu,e.useNumericMenu=function(e,t){return s(_u,e,t)},e.usePagination=Yu,e.usePoweredBy=el,e.useQueryRules=function(e,t){return s(cl,e,t)},e.useRSCContext=bn,e.useRange=vl,e.useRefinementList=Il,e.useRelatedProducts=Al,e.useSearchBox=Wl,e.useSortBy=Kl,e.useStats=rf,e.useStickToBottom=Pg,e.useToggleRefinement=df,e.useTrendingItems=bf,e.version=I,e.wrapPromiseWithState=function(e){var r;return"status"in e||((r=e).status="pending",r.then(function(e){var t;"pending"===r.status&&((t=r).status="fulfilled",t.value=e)},function(e){var t;"pending"===r.status&&((t=r).status="rejected",t.reason=e)})),e},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ReactInstantSearch.min.js.map
